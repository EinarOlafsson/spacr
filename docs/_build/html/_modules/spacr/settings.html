

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>spacr.settings &mdash; spacr 1.0.8 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=45a07ac9" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=aec50437"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #005f73" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_spacr.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Core Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/core/index.html">Core Logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/core/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/core/index.html#spacr.core.preprocess_generate_masks"><code class="docutils literal notranslate"><span class="pre">preprocess_generate_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/core/index.html#spacr.core.generate_cellpose_masks"><code class="docutils literal notranslate"><span class="pre">generate_cellpose_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/core/index.html#spacr.core.generate_screen_graphs"><code class="docutils literal notranslate"><span class="pre">generate_screen_graphs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/io/index.html">IO Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/io/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.process_non_tif_non_2D_images"><code class="docutils literal notranslate"><span class="pre">process_non_tif_non_2D_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombineLoaders"><code class="docutils literal notranslate"><span class="pre">CombineLoaders</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombineLoaders.train_loaders"><code class="docutils literal notranslate"><span class="pre">CombineLoaders.train_loaders</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombineLoaders.loader_iters"><code class="docutils literal notranslate"><span class="pre">CombineLoaders.loader_iters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombineLoaders.__iter__"><code class="docutils literal notranslate"><span class="pre">CombineLoaders.__iter__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombineLoaders.__next__"><code class="docutils literal notranslate"><span class="pre">CombineLoaders.__next__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset"><code class="docutils literal notranslate"><span class="pre">CombinedDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.datasets"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.datasets</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.lengths"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.lengths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.total_length"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.total_length</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.shuffle"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.shuffle</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.__getitem__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.CombinedDataset.__len__"><code class="docutils literal notranslate"><span class="pre">CombinedDataset.__len__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset"><code class="docutils literal notranslate"><span class="pre">NoClassDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.data_dir"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.data_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.transform"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.transform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.shuffle"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.shuffle</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.load_to_memory"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.load_to_memory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.filenames"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.filenames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.load_image"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.load_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.__len__"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.__len__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.shuffle_dataset"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.shuffle_dataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.NoClassDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">NoClassDataset.__getitem__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset"><code class="docutils literal notranslate"><span class="pre">spacrDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.data_dir"><code class="docutils literal notranslate"><span class="pre">spacrDataset.data_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.classes"><code class="docutils literal notranslate"><span class="pre">spacrDataset.classes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.transform"><code class="docutils literal notranslate"><span class="pre">spacrDataset.transform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.shuffle"><code class="docutils literal notranslate"><span class="pre">spacrDataset.shuffle</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.pin_memory"><code class="docutils literal notranslate"><span class="pre">spacrDataset.pin_memory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.filenames"><code class="docutils literal notranslate"><span class="pre">spacrDataset.filenames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.labels"><code class="docutils literal notranslate"><span class="pre">spacrDataset.labels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.load_image"><code class="docutils literal notranslate"><span class="pre">spacrDataset.load_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.__len__"><code class="docutils literal notranslate"><span class="pre">spacrDataset.__len__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.shuffle_dataset"><code class="docutils literal notranslate"><span class="pre">spacrDataset.shuffle_dataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.get_plate"><code class="docutils literal notranslate"><span class="pre">spacrDataset.get_plate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">spacrDataset.__getitem__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.preload_batches"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.preload_batches</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.batch_queue"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.batch_queue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.process"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.process</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.current_batch_index"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.current_batch_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.pin_memory"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.pin_memory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.__iter__"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.__iter__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.__next__"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.__next__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.cleanup"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.cleanup()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.spacrDataLoader.__del__"><code class="docutils literal notranslate"><span class="pre">spacrDataLoader.__del__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset"><code class="docutils literal notranslate"><span class="pre">TarImageDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset.members"><code class="docutils literal notranslate"><span class="pre">TarImageDataset.members</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset.tar_path"><code class="docutils literal notranslate"><span class="pre">TarImageDataset.tar_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset.transform"><code class="docutils literal notranslate"><span class="pre">TarImageDataset.transform</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset.__len__"><code class="docutils literal notranslate"><span class="pre">TarImageDataset.__len__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.TarImageDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">TarImageDataset.__getitem__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.load_images_from_paths"><code class="docutils literal notranslate"><span class="pre">load_images_from_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.concatenate_and_normalize"><code class="docutils literal notranslate"><span class="pre">concatenate_and_normalize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.delete_empty_subdirectories"><code class="docutils literal notranslate"><span class="pre">delete_empty_subdirectories()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.preprocess_img_data"><code class="docutils literal notranslate"><span class="pre">preprocess_img_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.read_plot_model_stats"><code class="docutils literal notranslate"><span class="pre">read_plot_model_stats()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.convert_numpy_to_tiff"><code class="docutils literal notranslate"><span class="pre">convert_numpy_to_tiff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.generate_cellpose_train_test"><code class="docutils literal notranslate"><span class="pre">generate_cellpose_train_test()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.parse_gz_files"><code class="docutils literal notranslate"><span class="pre">parse_gz_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.generate_dataset"><code class="docutils literal notranslate"><span class="pre">generate_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.generate_loaders"><code class="docutils literal notranslate"><span class="pre">generate_loaders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.generate_training_dataset"><code class="docutils literal notranslate"><span class="pre">generate_training_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.training_dataset_from_annotation"><code class="docutils literal notranslate"><span class="pre">training_dataset_from_annotation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.training_dataset_from_annotation_metadata"><code class="docutils literal notranslate"><span class="pre">training_dataset_from_annotation_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.generate_dataset_from_lists"><code class="docutils literal notranslate"><span class="pre">generate_dataset_from_lists()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.convert_separate_files_to_yokogawa"><code class="docutils literal notranslate"><span class="pre">convert_separate_files_to_yokogawa()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.convert_to_yokogawa"><code class="docutils literal notranslate"><span class="pre">convert_to_yokogawa()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.apply_augmentation"><code class="docutils literal notranslate"><span class="pre">apply_augmentation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.process_instruction"><code class="docutils literal notranslate"><span class="pre">process_instruction()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/io/index.html#spacr.io.prepare_cellpose_dataset"><code class="docutils literal notranslate"><span class="pre">prepare_cellpose_dataset()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/utils/index.html">General Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/utils/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.spacr_path"><code class="docutils literal notranslate"><span class="pre">spacr_path</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.filepaths_to_database"><code class="docutils literal notranslate"><span class="pre">filepaths_to_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.activation_maps_to_database"><code class="docutils literal notranslate"><span class="pre">activation_maps_to_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.activation_correlations_to_database"><code class="docutils literal notranslate"><span class="pre">activation_correlations_to_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.calculate_activation_correlations"><code class="docutils literal notranslate"><span class="pre">calculate_activation_correlations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.load_settings"><code class="docutils literal notranslate"><span class="pre">load_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.save_settings"><code class="docutils literal notranslate"><span class="pre">save_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.print_progress"><code class="docutils literal notranslate"><span class="pre">print_progress()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.reset_mp"><code class="docutils literal notranslate"><span class="pre">reset_mp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.is_multiprocessing_process"><code class="docutils literal notranslate"><span class="pre">is_multiprocessing_process()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.close_file_descriptors"><code class="docutils literal notranslate"><span class="pre">close_file_descriptors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.close_multiprocessing_processes"><code class="docutils literal notranslate"><span class="pre">close_multiprocessing_processes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.check_mask_folder"><code class="docutils literal notranslate"><span class="pre">check_mask_folder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.smooth_hull_lines"><code class="docutils literal notranslate"><span class="pre">smooth_hull_lines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.mask_object_count"><code class="docutils literal notranslate"><span class="pre">mask_object_count()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.is_list_of_lists"><code class="docutils literal notranslate"><span class="pre">is_list_of_lists()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.normalize_to_dtype"><code class="docutils literal notranslate"><span class="pre">normalize_to_dtype()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.annotate_conditions"><code class="docutils literal notranslate"><span class="pre">annotate_conditions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.Cache"><code class="docutils literal notranslate"><span class="pre">Cache</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.Cache.cache"><code class="docutils literal notranslate"><span class="pre">Cache.cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.Cache.max_size"><code class="docutils literal notranslate"><span class="pre">Cache.max_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.Cache.get"><code class="docutils literal notranslate"><span class="pre">Cache.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.Cache.put"><code class="docutils literal notranslate"><span class="pre">Cache.put()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention_v1"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention_v1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention_v1.d_k"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention_v1.d_k</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention_v1.forward"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention_v1.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1.W_q"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1.W_q</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1.W_k"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1.W_k</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1.W_v"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1.W_v</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1.attention"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1.attention</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention_v1.forward"><code class="docutils literal notranslate"><span class="pre">SelfAttention_v1.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention.d_k"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention.d_k</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ScaledDotProductAttention.forward"><code class="docutils literal notranslate"><span class="pre">ScaledDotProductAttention.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention"><code class="docutils literal notranslate"><span class="pre">SelfAttention</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention.W_q"><code class="docutils literal notranslate"><span class="pre">SelfAttention.W_q</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention.W_k"><code class="docutils literal notranslate"><span class="pre">SelfAttention.W_k</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention.W_v"><code class="docutils literal notranslate"><span class="pre">SelfAttention.W_v</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention.attention"><code class="docutils literal notranslate"><span class="pre">SelfAttention.attention</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelfAttention.forward"><code class="docutils literal notranslate"><span class="pre">SelfAttention.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.EarlyFusion"><code class="docutils literal notranslate"><span class="pre">EarlyFusion</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.EarlyFusion.conv1"><code class="docutils literal notranslate"><span class="pre">EarlyFusion.conv1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.EarlyFusion.forward"><code class="docutils literal notranslate"><span class="pre">EarlyFusion.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SpatialAttention"><code class="docutils literal notranslate"><span class="pre">SpatialAttention</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SpatialAttention.conv1"><code class="docutils literal notranslate"><span class="pre">SpatialAttention.conv1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SpatialAttention.sigmoid"><code class="docutils literal notranslate"><span class="pre">SpatialAttention.sigmoid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SpatialAttention.forward"><code class="docutils literal notranslate"><span class="pre">SpatialAttention.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MultiScaleBlockWithAttention"><code class="docutils literal notranslate"><span class="pre">MultiScaleBlockWithAttention</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MultiScaleBlockWithAttention.dilated_conv1"><code class="docutils literal notranslate"><span class="pre">MultiScaleBlockWithAttention.dilated_conv1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MultiScaleBlockWithAttention.spatial_attention"><code class="docutils literal notranslate"><span class="pre">MultiScaleBlockWithAttention.spatial_attention</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MultiScaleBlockWithAttention.custom_forward"><code class="docutils literal notranslate"><span class="pre">MultiScaleBlockWithAttention.custom_forward()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MultiScaleBlockWithAttention.forward"><code class="docutils literal notranslate"><span class="pre">MultiScaleBlockWithAttention.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.early_fusion"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.early_fusion</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.multi_scale_block_1"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.multi_scale_block_1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.fc1"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.fc1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.use_checkpoint"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.use_checkpoint</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.custom_forward"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.custom_forward()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.CustomCellClassifier.forward"><code class="docutils literal notranslate"><span class="pre">CustomCellClassifier.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel"><code class="docutils literal notranslate"><span class="pre">TorchModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.model_name"><code class="docutils literal notranslate"><span class="pre">TorchModel.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.use_checkpoint"><code class="docutils literal notranslate"><span class="pre">TorchModel.use_checkpoint</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.base_model"><code class="docutils literal notranslate"><span class="pre">TorchModel.base_model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.num_ftrs"><code class="docutils literal notranslate"><span class="pre">TorchModel.num_ftrs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.apply_dropout_rate"><code class="docutils literal notranslate"><span class="pre">TorchModel.apply_dropout_rate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.init_base_model"><code class="docutils literal notranslate"><span class="pre">TorchModel.init_base_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.get_weight_choice"><code class="docutils literal notranslate"><span class="pre">TorchModel.get_weight_choice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.get_num_ftrs"><code class="docutils literal notranslate"><span class="pre">TorchModel.get_num_ftrs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.init_spacr_classifier"><code class="docutils literal notranslate"><span class="pre">TorchModel.init_spacr_classifier()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.TorchModel.forward"><code class="docutils literal notranslate"><span class="pre">TorchModel.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.FocalLossWithLogits"><code class="docutils literal notranslate"><span class="pre">FocalLossWithLogits</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.FocalLossWithLogits.alpha"><code class="docutils literal notranslate"><span class="pre">FocalLossWithLogits.alpha</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.FocalLossWithLogits.gamma"><code class="docutils literal notranslate"><span class="pre">FocalLossWithLogits.gamma</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.FocalLossWithLogits.forward"><code class="docutils literal notranslate"><span class="pre">FocalLossWithLogits.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ResNet"><code class="docutils literal notranslate"><span class="pre">ResNet</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ResNet.initialize_base"><code class="docutils literal notranslate"><span class="pre">ResNet.initialize_base()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.ResNet.forward"><code class="docutils literal notranslate"><span class="pre">ResNet.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.split_my_dataset"><code class="docutils literal notranslate"><span class="pre">split_my_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.classification_metrics"><code class="docutils literal notranslate"><span class="pre">classification_metrics()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.compute_irm_penalty"><code class="docutils literal notranslate"><span class="pre">compute_irm_penalty()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.choose_model"><code class="docutils literal notranslate"><span class="pre">choose_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.calculate_loss"><code class="docutils literal notranslate"><span class="pre">calculate_loss()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.pick_best_model"><code class="docutils literal notranslate"><span class="pre">pick_best_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_paths_from_db"><code class="docutils literal notranslate"><span class="pre">get_paths_from_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.save_file_lists"><code class="docutils literal notranslate"><span class="pre">save_file_lists()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.augment_single_image"><code class="docutils literal notranslate"><span class="pre">augment_single_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.augment_images"><code class="docutils literal notranslate"><span class="pre">augment_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.augment_classes"><code class="docutils literal notranslate"><span class="pre">augment_classes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.annotate_predictions"><code class="docutils literal notranslate"><span class="pre">annotate_predictions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.initiate_counter"><code class="docutils literal notranslate"><span class="pre">initiate_counter()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.add_images_to_tar"><code class="docutils literal notranslate"><span class="pre">add_images_to_tar()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.generate_fraction_map"><code class="docutils literal notranslate"><span class="pre">generate_fraction_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.fishers_odds"><code class="docutils literal notranslate"><span class="pre">fishers_odds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.model_metrics"><code class="docutils literal notranslate"><span class="pre">model_metrics()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.check_multicollinearity"><code class="docutils literal notranslate"><span class="pre">check_multicollinearity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.lasso_reg"><code class="docutils literal notranslate"><span class="pre">lasso_reg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.MLR"><code class="docutils literal notranslate"><span class="pre">MLR()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_files_from_dir"><code class="docutils literal notranslate"><span class="pre">get_files_from_dir()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.create_circular_mask"><code class="docutils literal notranslate"><span class="pre">create_circular_mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.apply_mask"><code class="docutils literal notranslate"><span class="pre">apply_mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.invert_image"><code class="docutils literal notranslate"><span class="pre">invert_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.resize_images_and_labels"><code class="docutils literal notranslate"><span class="pre">resize_images_and_labels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.resize_labels_back"><code class="docutils literal notranslate"><span class="pre">resize_labels_back()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.calculate_iou"><code class="docutils literal notranslate"><span class="pre">calculate_iou()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.match_masks"><code class="docutils literal notranslate"><span class="pre">match_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.compute_average_precision"><code class="docutils literal notranslate"><span class="pre">compute_average_precision()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.pad_to_same_shape"><code class="docutils literal notranslate"><span class="pre">pad_to_same_shape()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.compute_ap_over_iou_thresholds"><code class="docutils literal notranslate"><span class="pre">compute_ap_over_iou_thresholds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.compute_segmentation_ap"><code class="docutils literal notranslate"><span class="pre">compute_segmentation_ap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.jaccard_index"><code class="docutils literal notranslate"><span class="pre">jaccard_index()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.dice_coefficient"><code class="docutils literal notranslate"><span class="pre">dice_coefficient()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.extract_boundaries"><code class="docutils literal notranslate"><span class="pre">extract_boundaries()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.boundary_f1_score"><code class="docutils literal notranslate"><span class="pre">boundary_f1_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.merge_touching_objects"><code class="docutils literal notranslate"><span class="pre">merge_touching_objects()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_intensity_objects"><code class="docutils literal notranslate"><span class="pre">remove_intensity_objects()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelectChannels"><code class="docutils literal notranslate"><span class="pre">SelectChannels</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelectChannels.channels"><code class="docutils literal notranslate"><span class="pre">SelectChannels.channels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SelectChannels.__call__"><code class="docutils literal notranslate"><span class="pre">SelectChannels.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.preprocess_image_v1"><code class="docutils literal notranslate"><span class="pre">preprocess_image_v1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator.model"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator.compute_saliency_maps"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator.compute_saliency_maps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator.compute_saliency_and_predictions"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator.compute_saliency_and_predictions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator.plot_activation_grid"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator.plot_activation_grid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.SaliencyMapGenerator.percentile_normalize"><code class="docutils literal notranslate"><span class="pre">SaliencyMapGenerator.percentile_normalize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.model"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.target_layer"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.target_layer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.cam_type"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.cam_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.gradients"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.gradients</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.activations"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.activations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.target_layer_module"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.target_layer_module</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.hook_layers"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.hook_layers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.get_layer"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.get_layer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.compute_gradcam_maps"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.compute_gradcam_maps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.compute_gradcam_and_predictions"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.compute_gradcam_and_predictions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.plot_activation_grid"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.plot_activation_grid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAMGenerator.percentile_normalize"><code class="docutils literal notranslate"><span class="pre">GradCAMGenerator.percentile_normalize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.preprocess_image"><code class="docutils literal notranslate"><span class="pre">preprocess_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.class_visualization"><code class="docutils literal notranslate"><span class="pre">class_visualization()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_submodules"><code class="docutils literal notranslate"><span class="pre">get_submodules()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM"><code class="docutils literal notranslate"><span class="pre">GradCAM</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM.model"><code class="docutils literal notranslate"><span class="pre">GradCAM.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM.target_layers"><code class="docutils literal notranslate"><span class="pre">GradCAM.target_layers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM.cuda"><code class="docutils literal notranslate"><span class="pre">GradCAM.cuda</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM.forward"><code class="docutils literal notranslate"><span class="pre">GradCAM.forward()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.GradCAM.__call__"><code class="docutils literal notranslate"><span class="pre">GradCAM.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.show_cam_on_image"><code class="docutils literal notranslate"><span class="pre">show_cam_on_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.recommend_target_layers"><code class="docutils literal notranslate"><span class="pre">recommend_target_layers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.IntegratedGradients"><code class="docutils literal notranslate"><span class="pre">IntegratedGradients</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.IntegratedGradients.model"><code class="docutils literal notranslate"><span class="pre">IntegratedGradients.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.IntegratedGradients.generate_integrated_gradients"><code class="docutils literal notranslate"><span class="pre">IntegratedGradients.generate_integrated_gradients()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_db_paths"><code class="docutils literal notranslate"><span class="pre">get_db_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_sequencing_paths"><code class="docutils literal notranslate"><span class="pre">get_sequencing_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.load_image_paths"><code class="docutils literal notranslate"><span class="pre">load_image_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.merge_dataframes"><code class="docutils literal notranslate"><span class="pre">merge_dataframes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_highly_correlated_columns_v1"><code class="docutils literal notranslate"><span class="pre">remove_highly_correlated_columns_v1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.filter_columns"><code class="docutils literal notranslate"><span class="pre">filter_columns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.reduction_and_clustering"><code class="docutils literal notranslate"><span class="pre">reduction_and_clustering()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_noise"><code class="docutils literal notranslate"><span class="pre">remove_noise()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_embedding"><code class="docutils literal notranslate"><span class="pre">plot_embedding()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.generate_colors"><code class="docutils literal notranslate"><span class="pre">generate_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.assign_colors"><code class="docutils literal notranslate"><span class="pre">assign_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.setup_plot"><code class="docutils literal notranslate"><span class="pre">setup_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_clusters"><code class="docutils literal notranslate"><span class="pre">plot_clusters()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_umap_images"><code class="docutils literal notranslate"><span class="pre">plot_umap_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_images_by_cluster"><code class="docutils literal notranslate"><span class="pre">plot_images_by_cluster()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_image"><code class="docutils literal notranslate"><span class="pre">plot_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_canvas"><code class="docutils literal notranslate"><span class="pre">remove_canvas()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_clusters_grid"><code class="docutils literal notranslate"><span class="pre">plot_clusters_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.plot_grid"><code class="docutils literal notranslate"><span class="pre">plot_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.generate_path_list_from_db"><code class="docutils literal notranslate"><span class="pre">generate_path_list_from_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.correct_paths"><code class="docutils literal notranslate"><span class="pre">correct_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.delete_folder"><code class="docutils literal notranslate"><span class="pre">delete_folder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.measure_test_mode"><code class="docutils literal notranslate"><span class="pre">measure_test_mode()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.preprocess_data"><code class="docutils literal notranslate"><span class="pre">preprocess_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_low_variance_columns"><code class="docutils literal notranslate"><span class="pre">remove_low_variance_columns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_highly_correlated_columns"><code class="docutils literal notranslate"><span class="pre">remove_highly_correlated_columns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.filter_dataframe_features"><code class="docutils literal notranslate"><span class="pre">filter_dataframe_features()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.check_overlap"><code class="docutils literal notranslate"><span class="pre">check_overlap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.find_non_overlapping_position"><code class="docutils literal notranslate"><span class="pre">find_non_overlapping_position()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.search_reduction_and_clustering"><code class="docutils literal notranslate"><span class="pre">search_reduction_and_clustering()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.load_image"><code class="docutils literal notranslate"><span class="pre">load_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.extract_features"><code class="docutils literal notranslate"><span class="pre">extract_features()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.check_normality"><code class="docutils literal notranslate"><span class="pre">check_normality()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.random_forest_feature_importance"><code class="docutils literal notranslate"><span class="pre">random_forest_feature_importance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.perform_statistical_tests"><code class="docutils literal notranslate"><span class="pre">perform_statistical_tests()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.combine_results"><code class="docutils literal notranslate"><span class="pre">combine_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.cluster_feature_analysis"><code class="docutils literal notranslate"><span class="pre">cluster_feature_analysis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.process_mask_file_adjust_cell"><code class="docutils literal notranslate"><span class="pre">process_mask_file_adjust_cell()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.adjust_cell_masks"><code class="docutils literal notranslate"><span class="pre">adjust_cell_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.adjust_cell_masks_v1"><code class="docutils literal notranslate"><span class="pre">adjust_cell_masks_v1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.process_masks"><code class="docutils literal notranslate"><span class="pre">process_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.merge_regression_res_with_metadata"><code class="docutils literal notranslate"><span class="pre">merge_regression_res_with_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.process_vision_results"><code class="docutils literal notranslate"><span class="pre">process_vision_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_ml_results_paths"><code class="docutils literal notranslate"><span class="pre">get_ml_results_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.augment_image"><code class="docutils literal notranslate"><span class="pre">augment_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.augment_dataset"><code class="docutils literal notranslate"><span class="pre">augment_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.convert_and_relabel_masks"><code class="docutils literal notranslate"><span class="pre">convert_and_relabel_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.correct_masks"><code class="docutils literal notranslate"><span class="pre">correct_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.count_reads_in_fastq"><code class="docutils literal notranslate"><span class="pre">count_reads_in_fastq()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.get_cuda_version"><code class="docutils literal notranslate"><span class="pre">get_cuda_version()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.all_elements_match"><code class="docutils literal notranslate"><span class="pre">all_elements_match()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.prepare_batch_for_segmentation"><code class="docutils literal notranslate"><span class="pre">prepare_batch_for_segmentation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.check_index"><code class="docutils literal notranslate"><span class="pre">check_index()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.map_condition"><code class="docutils literal notranslate"><span class="pre">map_condition()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.download_models"><code class="docutils literal notranslate"><span class="pre">download_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.generate_cytoplasm_mask"><code class="docutils literal notranslate"><span class="pre">generate_cytoplasm_mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.add_column_to_database"><code class="docutils literal notranslate"><span class="pre">add_column_to_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.fill_holes_in_mask"><code class="docutils literal notranslate"><span class="pre">fill_holes_in_mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.correct_metadata_column_names"><code class="docutils literal notranslate"><span class="pre">correct_metadata_column_names()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.control_filelist"><code class="docutils literal notranslate"><span class="pre">control_filelist()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.rename_columns_in_db"><code class="docutils literal notranslate"><span class="pre">rename_columns_in_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.group_feature_class"><code class="docutils literal notranslate"><span class="pre">group_feature_class()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.delete_intermedeate_files"><code class="docutils literal notranslate"><span class="pre">delete_intermedeate_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.filter_and_save_csv"><code class="docutils literal notranslate"><span class="pre">filter_and_save_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.extract_tar_bz2_files"><code class="docutils literal notranslate"><span class="pre">extract_tar_bz2_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.calculate_shortest_distance"><code class="docutils literal notranslate"><span class="pre">calculate_shortest_distance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.format_path_for_system"><code class="docutils literal notranslate"><span class="pre">format_path_for_system()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.normalize_src_path"><code class="docutils literal notranslate"><span class="pre">normalize_src_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.generate_image_path_map"><code class="docutils literal notranslate"><span class="pre">generate_image_path_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.copy_images_to_consolidated"><code class="docutils literal notranslate"><span class="pre">copy_images_to_consolidated()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.correct_metadata"><code class="docutils literal notranslate"><span class="pre">correct_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/utils/index.html#spacr.utils.remove_outliers_by_group"><code class="docutils literal notranslate"><span class="pre">remove_outliers_by_group()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/settings/index.html">Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/settings/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_plot_merge_settings"><code class="docutils literal notranslate"><span class="pre">set_default_plot_merge_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_generate_masks"><code class="docutils literal notranslate"><span class="pre">set_default_settings_preprocess_generate_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_plot_data_from_db"><code class="docutils literal notranslate"><span class="pre">set_default_plot_data_from_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_img_data"><code class="docutils literal notranslate"><span class="pre">set_default_settings_preprocess_img_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_umap_image_settings"><code class="docutils literal notranslate"><span class="pre">set_default_umap_image_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_measure_crop_settings"><code class="docutils literal notranslate"><span class="pre">get_measure_crop_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_analyze_screen"><code class="docutils literal notranslate"><span class="pre">set_default_analyze_screen()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_train_test_model"><code class="docutils literal notranslate"><span class="pre">set_default_train_test_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_training_dataset_defaults"><code class="docutils literal notranslate"><span class="pre">set_generate_training_dataset_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.deep_spacr_defaults"><code class="docutils literal notranslate"><span class="pre">deep_spacr_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_train_test_model_settings"><code class="docutils literal notranslate"><span class="pre">get_train_test_model_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_recruitment_default_settings"><code class="docutils literal notranslate"><span class="pre">get_analyze_recruitment_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_default_test_cellpose_model_settings"><code class="docutils literal notranslate"><span class="pre">get_default_test_cellpose_model_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_default_apply_cellpose_model_settings"><code class="docutils literal notranslate"><span class="pre">get_default_apply_cellpose_model_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.default_settings_analyze_percent_positive"><code class="docutils literal notranslate"><span class="pre">default_settings_analyze_percent_positive()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_reads_default_settings"><code class="docutils literal notranslate"><span class="pre">get_analyze_reads_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_map_barcodes_default_settings"><code class="docutils literal notranslate"><span class="pre">get_map_barcodes_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_train_cellpose_default_settings"><code class="docutils literal notranslate"><span class="pre">get_train_cellpose_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_dataset_defaults"><code class="docutils literal notranslate"><span class="pre">set_generate_dataset_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_perform_regression_default_settings"><code class="docutils literal notranslate"><span class="pre">get_perform_regression_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_check_cellpose_models_default_settings"><code class="docutils literal notranslate"><span class="pre">get_check_cellpose_models_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_identify_masks_finetune_default_settings"><code class="docutils literal notranslate"><span class="pre">get_identify_masks_finetune_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.q"><code class="docutils literal notranslate"><span class="pre">q</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.expected_types"><code class="docutils literal notranslate"><span class="pre">expected_types</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.categories"><code class="docutils literal notranslate"><span class="pre">categories</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.category_keys"><code class="docutils literal notranslate"><span class="pre">category_keys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.check_settings"><code class="docutils literal notranslate"><span class="pre">check_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.generate_fields"><code class="docutils literal notranslate"><span class="pre">generate_fields()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.descriptions"><code class="docutils literal notranslate"><span class="pre">descriptions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_annotate_default_settings"><code class="docutils literal notranslate"><span class="pre">set_annotate_default_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_default_generate_barecode_mapping"><code class="docutils literal notranslate"><span class="pre">set_default_generate_barecode_mapping()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_default_generate_activation_map_settings"><code class="docutils literal notranslate"><span class="pre">get_default_generate_activation_map_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_plaque_settings"><code class="docutils literal notranslate"><span class="pre">get_analyze_plaque_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_graph_importance_defaults"><code class="docutils literal notranslate"><span class="pre">set_graph_importance_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_interperate_vision_model_defaults"><code class="docutils literal notranslate"><span class="pre">set_interperate_vision_model_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_endodyogeny_defaults"><code class="docutils literal notranslate"><span class="pre">set_analyze_endodyogeny_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_class_proportion_defaults"><code class="docutils literal notranslate"><span class="pre">set_analyze_class_proportion_defaults()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/settings/index.html#spacr.settings.get_plot_data_from_csv_default_settings"><code class="docutils literal notranslate"><span class="pre">get_plot_data_from_csv_default_settings()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/sp_stats/index.html">Statistics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.choose_p_adjust_method"><code class="docutils literal notranslate"><span class="pre">choose_p_adjust_method()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.perform_normality_tests"><code class="docutils literal notranslate"><span class="pre">perform_normality_tests()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.perform_levene_test"><code class="docutils literal notranslate"><span class="pre">perform_levene_test()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.perform_statistical_tests"><code class="docutils literal notranslate"><span class="pre">perform_statistical_tests()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.perform_posthoc_tests"><code class="docutils literal notranslate"><span class="pre">perform_posthoc_tests()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sp_stats/index.html#spacr.sp_stats.chi_pairwise"><code class="docutils literal notranslate"><span class="pre">chi_pairwise()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Image Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/measure/index.html">Measurement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/measure/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.get_components"><code class="docutils literal notranslate"><span class="pre">get_components()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.save_and_add_image_to_grid"><code class="docutils literal notranslate"><span class="pre">save_and_add_image_to_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.img_list_to_grid"><code class="docutils literal notranslate"><span class="pre">img_list_to_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.measure_crop"><code class="docutils literal notranslate"><span class="pre">measure_crop()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.process_meassure_crop_results"><code class="docutils literal notranslate"><span class="pre">process_meassure_crop_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.generate_cellpose_train_set"><code class="docutils literal notranslate"><span class="pre">generate_cellpose_train_set()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/measure/index.html#spacr.measure.get_object_counts"><code class="docutils literal notranslate"><span class="pre">get_object_counts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/plot/index.html">Plotting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/plot/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_image_mask_overlay"><code class="docutils literal notranslate"><span class="pre">plot_image_mask_overlay()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_cellpose4_output"><code class="docutils literal notranslate"><span class="pre">plot_cellpose4_output()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_masks"><code class="docutils literal notranslate"><span class="pre">plot_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.generate_mask_random_cmap"><code class="docutils literal notranslate"><span class="pre">generate_mask_random_cmap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.random_cmap"><code class="docutils literal notranslate"><span class="pre">random_cmap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_images_and_arrays"><code class="docutils literal notranslate"><span class="pre">plot_images_and_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_arrays"><code class="docutils literal notranslate"><span class="pre">plot_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_arrays_v1"><code class="docutils literal notranslate"><span class="pre">plot_arrays_v1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_merged"><code class="docutils literal notranslate"><span class="pre">plot_merged()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.generate_plate_heatmap"><code class="docutils literal notranslate"><span class="pre">generate_plate_heatmap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_plates"><code class="docutils literal notranslate"><span class="pre">plot_plates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.print_mask_and_flows"><code class="docutils literal notranslate"><span class="pre">print_mask_and_flows()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_resize"><code class="docutils literal notranslate"><span class="pre">plot_resize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.normalize_and_visualize"><code class="docutils literal notranslate"><span class="pre">normalize_and_visualize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.visualize_masks"><code class="docutils literal notranslate"><span class="pre">visualize_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.visualize_cellpose_masks"><code class="docutils literal notranslate"><span class="pre">visualize_cellpose_masks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_comparison_results"><code class="docutils literal notranslate"><span class="pre">plot_comparison_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_object_outlines"><code class="docutils literal notranslate"><span class="pre">plot_object_outlines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.volcano_plot"><code class="docutils literal notranslate"><span class="pre">volcano_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_histogram"><code class="docutils literal notranslate"><span class="pre">plot_histogram()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_lorenz_curves"><code class="docutils literal notranslate"><span class="pre">plot_lorenz_curves()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_permutation"><code class="docutils literal notranslate"><span class="pre">plot_permutation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_feature_importance"><code class="docutils literal notranslate"><span class="pre">plot_feature_importance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.read_and_plot__vision_results"><code class="docutils literal notranslate"><span class="pre">read_and_plot__vision_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.jitterplot_by_annotation"><code class="docutils literal notranslate"><span class="pre">jitterplot_by_annotation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.create_grouped_plot"><code class="docutils literal notranslate"><span class="pre">create_grouped_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph"><code class="docutils literal notranslate"><span class="pre">spacrGraph</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.df"><code class="docutils literal notranslate"><span class="pre">spacrGraph.df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.grouping_column"><code class="docutils literal notranslate"><span class="pre">spacrGraph.grouping_column</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.order"><code class="docutils literal notranslate"><span class="pre">spacrGraph.order</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.data_column"><code class="docutils literal notranslate"><span class="pre">spacrGraph.data_column</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.graph_type"><code class="docutils literal notranslate"><span class="pre">spacrGraph.graph_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.summary_func"><code class="docutils literal notranslate"><span class="pre">spacrGraph.summary_func</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.colors"><code class="docutils literal notranslate"><span class="pre">spacrGraph.colors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.output_dir"><code class="docutils literal notranslate"><span class="pre">spacrGraph.output_dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.save"><code class="docutils literal notranslate"><span class="pre">spacrGraph.save</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.error_bar_type"><code class="docutils literal notranslate"><span class="pre">spacrGraph.error_bar_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.remove_outliers"><code class="docutils literal notranslate"><span class="pre">spacrGraph.remove_outliers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.theme"><code class="docutils literal notranslate"><span class="pre">spacrGraph.theme</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.representation"><code class="docutils literal notranslate"><span class="pre">spacrGraph.representation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.paired"><code class="docutils literal notranslate"><span class="pre">spacrGraph.paired</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.all_to_all"><code class="docutils literal notranslate"><span class="pre">spacrGraph.all_to_all</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.compare_group"><code class="docutils literal notranslate"><span class="pre">spacrGraph.compare_group</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.y_lim"><code class="docutils literal notranslate"><span class="pre">spacrGraph.y_lim</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.graph_name"><code class="docutils literal notranslate"><span class="pre">spacrGraph.graph_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.log_x"><code class="docutils literal notranslate"><span class="pre">spacrGraph.log_x</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.log_y"><code class="docutils literal notranslate"><span class="pre">spacrGraph.log_y</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.results_df"><code class="docutils literal notranslate"><span class="pre">spacrGraph.results_df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.sns_palette"><code class="docutils literal notranslate"><span class="pre">spacrGraph.sns_palette</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.fig"><code class="docutils literal notranslate"><span class="pre">spacrGraph.fig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.results_name"><code class="docutils literal notranslate"><span class="pre">spacrGraph.results_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.raw_df"><code class="docutils literal notranslate"><span class="pre">spacrGraph.raw_df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.preprocess_data"><code class="docutils literal notranslate"><span class="pre">spacrGraph.preprocess_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.remove_outliers_from_plot"><code class="docutils literal notranslate"><span class="pre">spacrGraph.remove_outliers_from_plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.perform_normality_tests"><code class="docutils literal notranslate"><span class="pre">spacrGraph.perform_normality_tests()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.perform_levene_test"><code class="docutils literal notranslate"><span class="pre">spacrGraph.perform_levene_test()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.perform_statistical_tests"><code class="docutils literal notranslate"><span class="pre">spacrGraph.perform_statistical_tests()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.perform_posthoc_tests"><code class="docutils literal notranslate"><span class="pre">spacrGraph.perform_posthoc_tests()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.create_plot"><code class="docutils literal notranslate"><span class="pre">spacrGraph.create_plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.get_results"><code class="docutils literal notranslate"><span class="pre">spacrGraph.get_results()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.spacrGraph.get_figure"><code class="docutils literal notranslate"><span class="pre">spacrGraph.get_figure()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_data_from_db"><code class="docutils literal notranslate"><span class="pre">plot_data_from_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_data_from_csv"><code class="docutils literal notranslate"><span class="pre">plot_data_from_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_region"><code class="docutils literal notranslate"><span class="pre">plot_region()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_image_grid"><code class="docutils literal notranslate"><span class="pre">plot_image_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.overlay_masks_on_images"><code class="docutils literal notranslate"><span class="pre">overlay_masks_on_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.graph_importance"><code class="docutils literal notranslate"><span class="pre">graph_importance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.plot_proportion_stacked_bars"><code class="docutils literal notranslate"><span class="pre">plot_proportion_stacked_bars()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/plot/index.html#spacr.plot.create_venn_diagram"><code class="docutils literal notranslate"><span class="pre">create_venn_diagram()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html">Cellpose Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.parse_cellpose4_output"><code class="docutils literal notranslate"><span class="pre">parse_cellpose4_output()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.identify_masks_finetune"><code class="docutils literal notranslate"><span class="pre">identify_masks_finetune()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.generate_masks_from_imgs"><code class="docutils literal notranslate"><span class="pre">generate_masks_from_imgs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.check_cellpose_models"><code class="docutils literal notranslate"><span class="pre">check_cellpose_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.save_results_and_figure"><code class="docutils literal notranslate"><span class="pre">save_results_and_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.compare_mask"><code class="docutils literal notranslate"><span class="pre">compare_mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html#spacr.spacr_cellpose.compare_cellpose_masks"><code class="docutils literal notranslate"><span class="pre">compare_cellpose_masks()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Classification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/ml/index.html">Classical ML</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/ml/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.QuasiBinomial"><code class="docutils literal notranslate"><span class="pre">QuasiBinomial</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.QuasiBinomial.dispersion"><code class="docutils literal notranslate"><span class="pre">QuasiBinomial.dispersion</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.QuasiBinomial.variance"><code class="docutils literal notranslate"><span class="pre">QuasiBinomial.variance()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.calculate_p_values"><code class="docutils literal notranslate"><span class="pre">calculate_p_values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.perform_mixed_model"><code class="docutils literal notranslate"><span class="pre">perform_mixed_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.create_volcano_filename"><code class="docutils literal notranslate"><span class="pre">create_volcano_filename()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.scale_variables"><code class="docutils literal notranslate"><span class="pre">scale_variables()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.select_glm_family"><code class="docutils literal notranslate"><span class="pre">select_glm_family()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.prepare_formula"><code class="docutils literal notranslate"><span class="pre">prepare_formula()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.fit_mixed_model"><code class="docutils literal notranslate"><span class="pre">fit_mixed_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.check_and_clean_data"><code class="docutils literal notranslate"><span class="pre">check_and_clean_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.minimum_cell_simulation"><code class="docutils literal notranslate"><span class="pre">minimum_cell_simulation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.process_model_coefficients"><code class="docutils literal notranslate"><span class="pre">process_model_coefficients()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.check_distribution"><code class="docutils literal notranslate"><span class="pre">check_distribution()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.pick_glm_family_and_link"><code class="docutils literal notranslate"><span class="pre">pick_glm_family_and_link()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.regression_model"><code class="docutils literal notranslate"><span class="pre">regression_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.regression"><code class="docutils literal notranslate"><span class="pre">regression()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.save_summary_to_file"><code class="docutils literal notranslate"><span class="pre">save_summary_to_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.perform_regression"><code class="docutils literal notranslate"><span class="pre">perform_regression()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.process_reads"><code class="docutils literal notranslate"><span class="pre">process_reads()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.apply_transformation"><code class="docutils literal notranslate"><span class="pre">apply_transformation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.check_normality"><code class="docutils literal notranslate"><span class="pre">check_normality()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.clean_controls"><code class="docutils literal notranslate"><span class="pre">clean_controls()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.process_scores"><code class="docutils literal notranslate"><span class="pre">process_scores()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.generate_ml_scores"><code class="docutils literal notranslate"><span class="pre">generate_ml_scores()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.ml_analysis"><code class="docutils literal notranslate"><span class="pre">ml_analysis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.shap_analysis"><code class="docutils literal notranslate"><span class="pre">shap_analysis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.find_optimal_threshold"><code class="docutils literal notranslate"><span class="pre">find_optimal_threshold()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/ml/index.html#spacr.ml.interperate_vision_model"><code class="docutils literal notranslate"><span class="pre">interperate_vision_model()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html">Deep Learning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.apply_model"><code class="docutils literal notranslate"><span class="pre">apply_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.apply_model_to_tar"><code class="docutils literal notranslate"><span class="pre">apply_model_to_tar()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.evaluate_model_performance"><code class="docutils literal notranslate"><span class="pre">evaluate_model_performance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.test_model_core"><code class="docutils literal notranslate"><span class="pre">test_model_core()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.test_model_performance"><code class="docutils literal notranslate"><span class="pre">test_model_performance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.train_test_model"><code class="docutils literal notranslate"><span class="pre">train_test_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.train_model"><code class="docutils literal notranslate"><span class="pre">train_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.generate_activation_map"><code class="docutils literal notranslate"><span class="pre">generate_activation_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.visualize_classes"><code class="docutils literal notranslate"><span class="pre">visualize_classes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.visualize_integrated_gradients"><code class="docutils literal notranslate"><span class="pre">visualize_integrated_gradients()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.SmoothGrad"><code class="docutils literal notranslate"><span class="pre">SmoothGrad</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.SmoothGrad.model"><code class="docutils literal notranslate"><span class="pre">SmoothGrad.model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.SmoothGrad.n_samples"><code class="docutils literal notranslate"><span class="pre">SmoothGrad.n_samples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.SmoothGrad.stdev_spread"><code class="docutils literal notranslate"><span class="pre">SmoothGrad.stdev_spread</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.SmoothGrad.compute_smooth_grad"><code class="docutils literal notranslate"><span class="pre">SmoothGrad.compute_smooth_grad()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.visualize_smooth_grad"><code class="docutils literal notranslate"><span class="pre">visualize_smooth_grad()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.deep_spacr"><code class="docutils literal notranslate"><span class="pre">deep_spacr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.model_knowledge_transfer"><code class="docutils literal notranslate"><span class="pre">model_knowledge_transfer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.model_fusion"><code class="docutils literal notranslate"><span class="pre">model_fusion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html#spacr.deep_spacr.annotate_filter_vision"><code class="docutils literal notranslate"><span class="pre">annotate_filter_vision()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">GUI Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/gui/index.html">GUI Main App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/gui/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp"><code class="docutils literal notranslate"><span class="pre">MainApp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.color_settings"><code class="docutils literal notranslate"><span class="pre">MainApp.color_settings</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.main_buttons"><code class="docutils literal notranslate"><span class="pre">MainApp.main_buttons</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.additional_buttons"><code class="docutils literal notranslate"><span class="pre">MainApp.additional_buttons</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.main_gui_apps"><code class="docutils literal notranslate"><span class="pre">MainApp.main_gui_apps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.additional_gui_apps"><code class="docutils literal notranslate"><span class="pre">MainApp.additional_gui_apps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.selected_app"><code class="docutils literal notranslate"><span class="pre">MainApp.selected_app</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.create_widgets"><code class="docutils literal notranslate"><span class="pre">MainApp.create_widgets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.create_startup_screen"><code class="docutils literal notranslate"><span class="pre">MainApp.create_startup_screen()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.update_description"><code class="docutils literal notranslate"><span class="pre">MainApp.update_description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.show_description"><code class="docutils literal notranslate"><span class="pre">MainApp.show_description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.clear_description"><code class="docutils literal notranslate"><span class="pre">MainApp.clear_description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.load_app"><code class="docutils literal notranslate"><span class="pre">MainApp.load_app()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.MainApp.clear_frame"><code class="docutils literal notranslate"><span class="pre">MainApp.clear_frame()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui/index.html#spacr.gui.gui_app"><code class="docutils literal notranslate"><span class="pre">gui_app()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/gui_core/index.html">GUI Core</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/gui_core/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.q"><code class="docutils literal notranslate"><span class="pre">q</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.console_output"><code class="docutils literal notranslate"><span class="pre">console_output</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.parent_frame"><code class="docutils literal notranslate"><span class="pre">parent_frame</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.vars_dict"><code class="docutils literal notranslate"><span class="pre">vars_dict</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.canvas"><code class="docutils literal notranslate"><span class="pre">canvas</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.canvas_widget"><code class="docutils literal notranslate"><span class="pre">canvas_widget</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.scrollable_frame"><code class="docutils literal notranslate"><span class="pre">scrollable_frame</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.progress_label"><code class="docutils literal notranslate"><span class="pre">progress_label</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.fig_queue"><code class="docutils literal notranslate"><span class="pre">fig_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.figures"><code class="docutils literal notranslate"><span class="pre">figures</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.figure_index"><code class="docutils literal notranslate"><span class="pre">figure_index</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.progress_bar"><code class="docutils literal notranslate"><span class="pre">progress_bar</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.usage_bars"><code class="docutils literal notranslate"><span class="pre">usage_bars</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.index_control"><code class="docutils literal notranslate"><span class="pre">index_control</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.thread_control"><code class="docutils literal notranslate"><span class="pre">thread_control</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.toggle_settings"><code class="docutils literal notranslate"><span class="pre">toggle_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.display_figure"><code class="docutils literal notranslate"><span class="pre">display_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.clear_unused_figures"><code class="docutils literal notranslate"><span class="pre">clear_unused_figures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.show_previous_figure"><code class="docutils literal notranslate"><span class="pre">show_previous_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.show_next_figure"><code class="docutils literal notranslate"><span class="pre">show_next_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.process_fig_queue"><code class="docutils literal notranslate"><span class="pre">process_fig_queue()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.update_figure"><code class="docutils literal notranslate"><span class="pre">update_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.setup_plot_section"><code class="docutils literal notranslate"><span class="pre">setup_plot_section()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.set_globals"><code class="docutils literal notranslate"><span class="pre">set_globals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.import_settings"><code class="docutils literal notranslate"><span class="pre">import_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.setup_settings_panel"><code class="docutils literal notranslate"><span class="pre">setup_settings_panel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.setup_console"><code class="docutils literal notranslate"><span class="pre">setup_console()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.setup_button_section"><code class="docutils literal notranslate"><span class="pre">setup_button_section()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.setup_usage_panel"><code class="docutils literal notranslate"><span class="pre">setup_usage_panel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.initiate_abort"><code class="docutils literal notranslate"><span class="pre">initiate_abort()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.check_src_folders_files"><code class="docutils literal notranslate"><span class="pre">check_src_folders_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.start_process"><code class="docutils literal notranslate"><span class="pre">start_process()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.process_console_queue"><code class="docutils literal notranslate"><span class="pre">process_console_queue()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.main_thread_update_function"><code class="docutils literal notranslate"><span class="pre">main_thread_update_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.cleanup_previous_instance"><code class="docutils literal notranslate"><span class="pre">cleanup_previous_instance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_core/index.html#spacr.gui_core.initiate_root"><code class="docutils literal notranslate"><span class="pre">initiate_root()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/gui_elements/index.html">GUI Elements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.fig"><code class="docutils literal notranslate"><span class="pre">fig</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.restart_gui_app"><code class="docutils literal notranslate"><span class="pre">restart_gui_app()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.create_menu_bar"><code class="docutils literal notranslate"><span class="pre">create_menu_bar()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.set_element_size"><code class="docutils literal notranslate"><span class="pre">set_element_size()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.set_dark_style"><code class="docutils literal notranslate"><span class="pre">set_dark_style()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont"><code class="docutils literal notranslate"><span class="pre">spacrFont</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.font_name"><code class="docutils literal notranslate"><span class="pre">spacrFont.font_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.font_style"><code class="docutils literal notranslate"><span class="pre">spacrFont.font_style</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.font_size"><code class="docutils literal notranslate"><span class="pre">spacrFont.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.font_path"><code class="docutils literal notranslate"><span class="pre">spacrFont.font_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.get_font_path"><code class="docutils literal notranslate"><span class="pre">spacrFont.get_font_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.load_font"><code class="docutils literal notranslate"><span class="pre">spacrFont.load_font()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFont.get_font"><code class="docutils literal notranslate"><span class="pre">spacrFont.get_font()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer"><code class="docutils literal notranslate"><span class="pre">spacrContainer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.orient"><code class="docutils literal notranslate"><span class="pre">spacrContainer.orient</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.bg"><code class="docutils literal notranslate"><span class="pre">spacrContainer.bg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.sash_thickness"><code class="docutils literal notranslate"><span class="pre">spacrContainer.sash_thickness</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.panes"><code class="docutils literal notranslate"><span class="pre">spacrContainer.panes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.sashes"><code class="docutils literal notranslate"><span class="pre">spacrContainer.sashes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.add"><code class="docutils literal notranslate"><span class="pre">spacrContainer.add()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.create_sash"><code class="docutils literal notranslate"><span class="pre">spacrContainer.create_sash()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.reposition_panes"><code class="docutils literal notranslate"><span class="pre">spacrContainer.reposition_panes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.on_configure"><code class="docutils literal notranslate"><span class="pre">spacrContainer.on_configure()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.on_enter_sash"><code class="docutils literal notranslate"><span class="pre">spacrContainer.on_enter_sash()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.on_leave_sash"><code class="docutils literal notranslate"><span class="pre">spacrContainer.on_leave_sash()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.start_resize"><code class="docutils literal notranslate"><span class="pre">spacrContainer.start_resize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrContainer.perform_resize"><code class="docutils literal notranslate"><span class="pre">spacrContainer.perform_resize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry"><code class="docutils literal notranslate"><span class="pre">spacrEntry</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrEntry.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.active_color"><code class="docutils literal notranslate"><span class="pre">spacrEntry.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrEntry.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.outline"><code class="docutils literal notranslate"><span class="pre">spacrEntry.outline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.font_family"><code class="docutils literal notranslate"><span class="pre">spacrEntry.font_family</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.font_size"><code class="docutils literal notranslate"><span class="pre">spacrEntry.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrEntry.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.canvas_height"><code class="docutils literal notranslate"><span class="pre">spacrEntry.canvas_height</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.canvas"><code class="docutils literal notranslate"><span class="pre">spacrEntry.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.draw_rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrEntry.draw_rounded_rectangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.on_focus_in"><code class="docutils literal notranslate"><span class="pre">spacrEntry.on_focus_in()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrEntry.on_focus_out"><code class="docutils literal notranslate"><span class="pre">spacrEntry.on_focus_out()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck"><code class="docutils literal notranslate"><span class="pre">spacrCheck</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrCheck.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.active_color"><code class="docutils literal notranslate"><span class="pre">spacrCheck.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrCheck.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrCheck.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.variable"><code class="docutils literal notranslate"><span class="pre">spacrCheck.variable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.canvas_width"><code class="docutils literal notranslate"><span class="pre">spacrCheck.canvas_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.canvas_height"><code class="docutils literal notranslate"><span class="pre">spacrCheck.canvas_height</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.canvas"><code class="docutils literal notranslate"><span class="pre">spacrCheck.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.draw_rounded_square"><code class="docutils literal notranslate"><span class="pre">spacrCheck.draw_rounded_square()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.update_check"><code class="docutils literal notranslate"><span class="pre">spacrCheck.update_check()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheck.toggle_variable"><code class="docutils literal notranslate"><span class="pre">spacrCheck.toggle_variable()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo"><code class="docutils literal notranslate"><span class="pre">spacrCombo</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrCombo.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.active_color"><code class="docutils literal notranslate"><span class="pre">spacrCombo.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrCombo.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrCombo.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.font_family"><code class="docutils literal notranslate"><span class="pre">spacrCombo.font_family</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.font_size"><code class="docutils literal notranslate"><span class="pre">spacrCombo.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrCombo.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.values"><code class="docutils literal notranslate"><span class="pre">spacrCombo.values</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.canvas_width"><code class="docutils literal notranslate"><span class="pre">spacrCombo.canvas_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.canvas_height"><code class="docutils literal notranslate"><span class="pre">spacrCombo.canvas_height</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.canvas"><code class="docutils literal notranslate"><span class="pre">spacrCombo.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.var"><code class="docutils literal notranslate"><span class="pre">spacrCombo.var</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.selected_value"><code class="docutils literal notranslate"><span class="pre">spacrCombo.selected_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.dropdown_menu"><code class="docutils literal notranslate"><span class="pre">spacrCombo.dropdown_menu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.draw_rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrCombo.draw_rounded_rectangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.on_click"><code class="docutils literal notranslate"><span class="pre">spacrCombo.on_click()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.open_dropdown"><code class="docutils literal notranslate"><span class="pre">spacrCombo.open_dropdown()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.close_dropdown"><code class="docutils literal notranslate"><span class="pre">spacrCombo.close_dropdown()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.on_select"><code class="docutils literal notranslate"><span class="pre">spacrCombo.on_select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCombo.set"><code class="docutils literal notranslate"><span class="pre">spacrCombo.set()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.variable"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.variable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.options"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.options</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.command"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.command</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.text"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.size"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.font_size"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.button_width"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.button_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.canvas_width"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.canvas_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.canvas_height"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.canvas_height</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.canvas"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.active_color"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.button_bg"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.button_bg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.button_text"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.button_text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.menu"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.menu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.create_rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.create_rounded_rectangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.on_enter"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.on_enter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.on_leave"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.on_leave()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.on_click"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.on_click()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.post_menu"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.post_menu()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.on_select"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.on_select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrDropdownMenu.update_styles"><code class="docutils literal notranslate"><span class="pre">spacrDropdownMenu.update_styles()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheckbutton"><code class="docutils literal notranslate"><span class="pre">spacrCheckbutton</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheckbutton.text"><code class="docutils literal notranslate"><span class="pre">spacrCheckbutton.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheckbutton.variable"><code class="docutils literal notranslate"><span class="pre">spacrCheckbutton.variable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrCheckbutton.command"><code class="docutils literal notranslate"><span class="pre">spacrCheckbutton.command</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.active_color"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.font_size"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.style"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.style</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.label"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.label</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.operation_type"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.operation_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.additional_info"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.additional_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.set_label_position"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.set_label_position()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrProgressBar.update_label"><code class="docutils literal notranslate"><span class="pre">spacrProgressBar.update_label()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider"><code class="docutils literal notranslate"><span class="pre">spacrSlider</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.specified_length"><code class="docutils literal notranslate"><span class="pre">spacrSlider.specified_length</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.knob_radius"><code class="docutils literal notranslate"><span class="pre">spacrSlider.knob_radius</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.thickness"><code class="docutils literal notranslate"><span class="pre">spacrSlider.thickness</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.knob_position"><code class="docutils literal notranslate"><span class="pre">spacrSlider.knob_position</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.slider_line"><code class="docutils literal notranslate"><span class="pre">spacrSlider.slider_line</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.knob"><code class="docutils literal notranslate"><span class="pre">spacrSlider.knob</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.position"><code class="docutils literal notranslate"><span class="pre">spacrSlider.position</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.offset"><code class="docutils literal notranslate"><span class="pre">spacrSlider.offset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.from_"><code class="docutils literal notranslate"><span class="pre">spacrSlider.from_</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.to"><code class="docutils literal notranslate"><span class="pre">spacrSlider.to</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.value"><code class="docutils literal notranslate"><span class="pre">spacrSlider.value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.show_index"><code class="docutils literal notranslate"><span class="pre">spacrSlider.show_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.command"><code class="docutils literal notranslate"><span class="pre">spacrSlider.command</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrSlider.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrSlider.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.active_color"><code class="docutils literal notranslate"><span class="pre">spacrSlider.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrSlider.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.canvas"><code class="docutils literal notranslate"><span class="pre">spacrSlider.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.length"><code class="docutils literal notranslate"><span class="pre">spacrSlider.length</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.resize_slider"><code class="docutils literal notranslate"><span class="pre">spacrSlider.resize_slider()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.value_to_position"><code class="docutils literal notranslate"><span class="pre">spacrSlider.value_to_position()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.position_to_value"><code class="docutils literal notranslate"><span class="pre">spacrSlider.position_to_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.draw_slider"><code class="docutils literal notranslate"><span class="pre">spacrSlider.draw_slider()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.move_knob"><code class="docutils literal notranslate"><span class="pre">spacrSlider.move_knob()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.activate_knob"><code class="docutils literal notranslate"><span class="pre">spacrSlider.activate_knob()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.release_knob"><code class="docutils literal notranslate"><span class="pre">spacrSlider.release_knob()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.set_to"><code class="docutils literal notranslate"><span class="pre">spacrSlider.set_to()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.get"><code class="docutils literal notranslate"><span class="pre">spacrSlider.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.set"><code class="docutils literal notranslate"><span class="pre">spacrSlider.set()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.jump_to_click"><code class="docutils literal notranslate"><span class="pre">spacrSlider.jump_to_click()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSlider.update_slider_from_entry"><code class="docutils literal notranslate"><span class="pre">spacrSlider.update_slider_from_entry()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrScrollbarStyle"><code class="docutils literal notranslate"><span class="pre">spacrScrollbarStyle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFrame"><code class="docutils literal notranslate"><span class="pre">spacrFrame</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFrame.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrFrame.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFrame.active_color"><code class="docutils literal notranslate"><span class="pre">spacrFrame.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFrame.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrFrame.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrFrame.rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrFrame.rounded_rectangle()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel"><code class="docutils literal notranslate"><span class="pre">spacrLabel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.text"><code class="docutils literal notranslate"><span class="pre">spacrLabel.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.align"><code class="docutils literal notranslate"><span class="pre">spacrLabel.align</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.style_out"><code class="docutils literal notranslate"><span class="pre">spacrLabel.style_out</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.font_style"><code class="docutils literal notranslate"><span class="pre">spacrLabel.font_style</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.font_size"><code class="docutils literal notranslate"><span class="pre">spacrLabel.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.font_family"><code class="docutils literal notranslate"><span class="pre">spacrLabel.font_family</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrLabel.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.canvas"><code class="docutils literal notranslate"><span class="pre">spacrLabel.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.style"><code class="docutils literal notranslate"><span class="pre">spacrLabel.style</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrLabel.set_text"><code class="docutils literal notranslate"><span class="pre">spacrLabel.set_text()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton"><code class="docutils literal notranslate"><span class="pre">spacrButton</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.text"><code class="docutils literal notranslate"><span class="pre">spacrButton.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.command"><code class="docutils literal notranslate"><span class="pre">spacrButton.command</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.icon_name"><code class="docutils literal notranslate"><span class="pre">spacrButton.icon_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.size"><code class="docutils literal notranslate"><span class="pre">spacrButton.size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.show_text"><code class="docutils literal notranslate"><span class="pre">spacrButton.show_text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.outline"><code class="docutils literal notranslate"><span class="pre">spacrButton.outline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.animation"><code class="docutils literal notranslate"><span class="pre">spacrButton.animation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.font_size"><code class="docutils literal notranslate"><span class="pre">spacrButton.font_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.font_loader"><code class="docutils literal notranslate"><span class="pre">spacrButton.font_loader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.canvas"><code class="docutils literal notranslate"><span class="pre">spacrButton.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.inactive_color"><code class="docutils literal notranslate"><span class="pre">spacrButton.inactive_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.bg_color"><code class="docutils literal notranslate"><span class="pre">spacrButton.bg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.active_color"><code class="docutils literal notranslate"><span class="pre">spacrButton.active_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.fg_color"><code class="docutils literal notranslate"><span class="pre">spacrButton.fg_color</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.is_zoomed_in"><code class="docutils literal notranslate"><span class="pre">spacrButton.is_zoomed_in</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.load_icon"><code class="docutils literal notranslate"><span class="pre">spacrButton.load_icon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.get_icon_path"><code class="docutils literal notranslate"><span class="pre">spacrButton.get_icon_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.on_enter"><code class="docutils literal notranslate"><span class="pre">spacrButton.on_enter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.on_leave"><code class="docutils literal notranslate"><span class="pre">spacrButton.on_leave()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.on_click"><code class="docutils literal notranslate"><span class="pre">spacrButton.on_click()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.create_rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrButton.create_rounded_rectangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.update_description"><code class="docutils literal notranslate"><span class="pre">spacrButton.update_description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.clear_description"><code class="docutils literal notranslate"><span class="pre">spacrButton.clear_description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.animate_zoom"><code class="docutils literal notranslate"><span class="pre">spacrButton.animate_zoom()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrButton.zoom_icon"><code class="docutils literal notranslate"><span class="pre">spacrButton.zoom_icon()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch"><code class="docutils literal notranslate"><span class="pre">spacrSwitch</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.text"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.variable"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.variable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.command"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.command</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.canvas"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.canvas</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.switch_bg"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.switch_bg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.switch"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.switch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.label"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.label</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.toggle"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.toggle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.update_switch"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.update_switch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.animate_switch"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.animate_switch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.animate_movement"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.animate_movement()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.get"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.set"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.set()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrSwitch.create_rounded_rectangle"><code class="docutils literal notranslate"><span class="pre">spacrSwitch.create_rounded_rectangle()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip"><code class="docutils literal notranslate"><span class="pre">spacrToolTip</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip.widget"><code class="docutils literal notranslate"><span class="pre">spacrToolTip.widget</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip.text"><code class="docutils literal notranslate"><span class="pre">spacrToolTip.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip.tooltip_window"><code class="docutils literal notranslate"><span class="pre">spacrToolTip.tooltip_window</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip.show_tooltip"><code class="docutils literal notranslate"><span class="pre">spacrToolTip.show_tooltip()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.spacrToolTip.hide_tooltip"><code class="docutils literal notranslate"><span class="pre">spacrToolTip.hide_tooltip()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.standardize_figure"><code class="docutils literal notranslate"><span class="pre">standardize_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.modify_figure_properties"><code class="docutils literal notranslate"><span class="pre">modify_figure_properties()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.save_figure_as_format"><code class="docutils literal notranslate"><span class="pre">save_figure_as_format()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.modify_figure"><code class="docutils literal notranslate"><span class="pre">modify_figure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_elements/index.html#spacr.gui_elements.generate_dna_matrix"><code class="docutils literal notranslate"><span class="pre">generate_dna_matrix()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/gui_utils/index.html">GUI Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.initialize_cuda"><code class="docutils literal notranslate"><span class="pre">initialize_cuda()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.set_high_priority"><code class="docutils literal notranslate"><span class="pre">set_high_priority()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.set_cpu_affinity"><code class="docutils literal notranslate"><span class="pre">set_cpu_affinity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.proceed_with_app"><code class="docutils literal notranslate"><span class="pre">proceed_with_app()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.load_app"><code class="docutils literal notranslate"><span class="pre">load_app()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.parse_list"><code class="docutils literal notranslate"><span class="pre">parse_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.create_input_field"><code class="docutils literal notranslate"><span class="pre">create_input_field()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.process_stdout_stderr"><code class="docutils literal notranslate"><span class="pre">process_stdout_stderr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.WriteToQueue"><code class="docutils literal notranslate"><span class="pre">WriteToQueue</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.WriteToQueue.q"><code class="docutils literal notranslate"><span class="pre">WriteToQueue.q</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.WriteToQueue.write"><code class="docutils literal notranslate"><span class="pre">WriteToQueue.write()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.WriteToQueue.flush"><code class="docutils literal notranslate"><span class="pre">WriteToQueue.flush()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.cancel_after_tasks"><code class="docutils literal notranslate"><span class="pre">cancel_after_tasks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.load_next_app"><code class="docutils literal notranslate"><span class="pre">load_next_app()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.convert_settings_dict_for_gui"><code class="docutils literal notranslate"><span class="pre">convert_settings_dict_for_gui()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.spacrFigShow"><code class="docutils literal notranslate"><span class="pre">spacrFigShow()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.function_gui_wrapper"><code class="docutils literal notranslate"><span class="pre">function_gui_wrapper()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.run_function_gui"><code class="docutils literal notranslate"><span class="pre">run_function_gui()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.hide_all_settings"><code class="docutils literal notranslate"><span class="pre">hide_all_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.setup_frame"><code class="docutils literal notranslate"><span class="pre">setup_frame()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.download_hug_dataset"><code class="docutils literal notranslate"><span class="pre">download_hug_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.download_dataset"><code class="docutils literal notranslate"><span class="pre">download_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.ensure_after_tasks"><code class="docutils literal notranslate"><span class="pre">ensure_after_tasks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.display_gif_in_plot_frame"><code class="docutils literal notranslate"><span class="pre">display_gif_in_plot_frame()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.display_media_in_plot_frame"><code class="docutils literal notranslate"><span class="pre">display_media_in_plot_frame()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.print_widget_structure"><code class="docutils literal notranslate"><span class="pre">print_widget_structure()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.get_screen_dimensions"><code class="docutils literal notranslate"><span class="pre">get_screen_dimensions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/gui_utils/index.html#spacr.gui_utils.convert_to_number"><code class="docutils literal notranslate"><span class="pre">convert_to_number()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sequencing &amp; Submodules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/sequencing/index.html">Sequencing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/sequencing/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.map_sequences_to_names"><code class="docutils literal notranslate"><span class="pre">map_sequences_to_names()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.save_df_to_hdf5"><code class="docutils literal notranslate"><span class="pre">save_df_to_hdf5()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.save_unique_combinations_to_csv"><code class="docutils literal notranslate"><span class="pre">save_unique_combinations_to_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.save_qc_df_to_csv"><code class="docutils literal notranslate"><span class="pre">save_qc_df_to_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.extract_sequence_and_quality"><code class="docutils literal notranslate"><span class="pre">extract_sequence_and_quality()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.create_consensus"><code class="docutils literal notranslate"><span class="pre">create_consensus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.get_consensus_base"><code class="docutils literal notranslate"><span class="pre">get_consensus_base()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.reverse_complement"><code class="docutils literal notranslate"><span class="pre">reverse_complement()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.process_chunk"><code class="docutils literal notranslate"><span class="pre">process_chunk()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.saver_process"><code class="docutils literal notranslate"><span class="pre">saver_process()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.paired_read_chunked_processing"><code class="docutils literal notranslate"><span class="pre">paired_read_chunked_processing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.single_read_chunked_processing"><code class="docutils literal notranslate"><span class="pre">single_read_chunked_processing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.generate_barecode_mapping"><code class="docutils literal notranslate"><span class="pre">generate_barecode_mapping()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.barecodes_reverse_complement"><code class="docutils literal notranslate"><span class="pre">barecodes_reverse_complement()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/sequencing/index.html#spacr.sequencing.graph_sequencing_stats"><code class="docutils literal notranslate"><span class="pre">graph_sequencing_stats()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/toxo/index.html">Toxoplasma Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/toxo/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/toxo/index.html#spacr.toxo.custom_volcano_plot"><code class="docutils literal notranslate"><span class="pre">custom_volcano_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/toxo/index.html#spacr.toxo.go_term_enrichment_by_column"><code class="docutils literal notranslate"><span class="pre">go_term_enrichment_by_column()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/toxo/index.html#spacr.toxo.plot_gene_phenotypes"><code class="docutils literal notranslate"><span class="pre">plot_gene_phenotypes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/toxo/index.html#spacr.toxo.plot_gene_heatmaps"><code class="docutils literal notranslate"><span class="pre">plot_gene_heatmaps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/toxo/index.html#spacr.toxo.generate_score_heatmap"><code class="docutils literal notranslate"><span class="pre">generate_score_heatmap()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spacr/submodules/index.html">Submodules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/submodules/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.normalize"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.normalize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.percentiles"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.percentiles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.target_size"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.target_size</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.augment"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.augment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.__len__"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.__len__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.apply_augmentation"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.apply_augmentation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.CellposeLazyDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">CellposeLazyDataset.__getitem__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.train_cellpose"><code class="docutils literal notranslate"><span class="pre">train_cellpose()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.test_cellpose_model"><code class="docutils literal notranslate"><span class="pre">test_cellpose_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.apply_cellpose_model"><code class="docutils literal notranslate"><span class="pre">apply_cellpose_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.plot_cellpose_batch"><code class="docutils literal notranslate"><span class="pre">plot_cellpose_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.analyze_percent_positive"><code class="docutils literal notranslate"><span class="pre">analyze_percent_positive()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.analyze_recruitment"><code class="docutils literal notranslate"><span class="pre">analyze_recruitment()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.analyze_plaques"><code class="docutils literal notranslate"><span class="pre">analyze_plaques()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.count_phenotypes"><code class="docutils literal notranslate"><span class="pre">count_phenotypes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.compare_reads_to_scores"><code class="docutils literal notranslate"><span class="pre">compare_reads_to_scores()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.interperate_vision_model"><code class="docutils literal notranslate"><span class="pre">interperate_vision_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.analyze_endodyogeny"><code class="docutils literal notranslate"><span class="pre">analyze_endodyogeny()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.analyze_class_proportion"><code class="docutils literal notranslate"><span class="pre">analyze_class_proportion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.generate_score_heatmap"><code class="docutils literal notranslate"><span class="pre">generate_score_heatmap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/submodules/index.html#spacr.submodules.post_regression_analysis"><code class="docutils literal notranslate"><span class="pre">post_regression_analysis()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Reference</a><ul class="simple">
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #005f73" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">spacr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">spacr.settings</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for spacr.settings</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">ast</span>

<div class="viewcode-block" id="set_default_plot_merge_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_plot_merge_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_plot_merge_settings</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration values for plotting merged image masks and overlays.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary of default settings for plotting merged masks and overlays.</span>

<span class="sd">    Default Parameters:</span>
<span class="sd">        - pathogen_limit (int): Maximum number of pathogen objects to display (default: 10).</span>
<span class="sd">        - nuclei_limit (int): Maximum number of nuclei objects to display (default: 1).</span>
<span class="sd">        - remove_background (bool): Whether to subtract background intensity (default: False).</span>
<span class="sd">        - filter_min_max (tuple|None): Optional min/max filter for object values (default: None).</span>
<span class="sd">        - channel_dims (list): Indices for raw image channels (default: [0,1,2,3]).</span>
<span class="sd">        - backgrounds (list): Background values for each channel (default: [100,100,100,100]).</span>
<span class="sd">        - cell_mask_dim (int): Index of cell mask channel (default: 4).</span>
<span class="sd">        - nucleus_mask_dim (int): Index of nucleus mask channel (default: 5).</span>
<span class="sd">        - pathogen_mask_dim (int): Index of pathogen mask channel (default: 6).</span>
<span class="sd">        - outline_thickness (int): Thickness of outline for each object (default: 3).</span>
<span class="sd">        - outline_color (str): Outline color in RGB channel string (default: &#39;gbr&#39;).</span>
<span class="sd">        - overlay_chans (list): Channels to overlay on visualization (default: [1,2,3]).</span>
<span class="sd">        - overlay (bool): Whether to show overlays (default: True).</span>
<span class="sd">        - normalization_percentiles (list): Percentiles for image normalization (default: [2,98]).</span>
<span class="sd">        - normalize (bool): Whether to normalize the image (default: True).</span>
<span class="sd">        - print_object_number (bool): Print number of detected objects (default: True).</span>
<span class="sd">        - nr (int): Number of examples to show (default: 1).</span>
<span class="sd">        - figuresize (int): Size of output figure (default: 10).</span>
<span class="sd">        - cmap (str): Color map to use (default: &#39;inferno&#39;).</span>
<span class="sd">        - verbose (bool): Print debug info (default: True).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_min_max&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_dims&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;backgrounds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_thickness&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_color&#39;</span><span class="p">,</span> <span class="s1">&#39;gbr&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay_chans&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalization_percentiles&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;print_object_number&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_settings_preprocess_generate_masks">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_generate_masks">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_settings_preprocess_generate_masks</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default settings for the preprocessing and mask generation pipeline using Cellpose or similar tools.</span>

<span class="sd">    This function populates a settings dictionary with default values used during image preprocessing,</span>
<span class="sd">    segmentation mask generation, background removal, plotting, timelapse handling, and more.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Optional dictionary with user-specified values. Defaults will only fill in missing keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary containing default configuration parameters for mask generation.</span>

<span class="sd">    Default Parameters:</span>
<span class="sd">        # Core pipeline toggles</span>
<span class="sd">        - denoise (bool): Apply denoising to input images.</span>
<span class="sd">        - src (str): Path to image source directory.</span>
<span class="sd">        - delete_intermediate (bool): Delete intermediate files after processing.</span>
<span class="sd">        - preprocess (bool): Whether to run preprocessing steps.</span>
<span class="sd">        - masks (bool): Whether to generate segmentation masks.</span>
<span class="sd">        - save (bool): Save outputs to disk.</span>
<span class="sd">        - consolidate (bool): Combine mask outputs from multiple sources.</span>
<span class="sd">        - batch_size (int): Number of images to process in parallel.</span>
<span class="sd">        - test_mode (bool): Run in test mode for quick inspection.</span>
<span class="sd">        - test_images (int): Number of images to use in test mode.</span>
<span class="sd">        - magnification (int): Objective magnification used for imaging.</span>
<span class="sd">        - custom_regex (str|None): Custom regex for file parsing if needed.</span>
<span class="sd">        - metadata_type (str): Format of metadata (&#39;cellvoyager&#39;, etc.).</span>
<span class="sd">        - n_jobs (int): Number of parallel jobs to use (default: CPU count - 4).</span>
<span class="sd">        - randomize (bool): Shuffle processing order.</span>
<span class="sd">        - verbose (bool): Print processing details.</span>
<span class="sd">        - remove_background_{cell,nucleus,pathogen} (bool): Background subtraction toggles per channel.</span>

<span class="sd">        # Object diameter estimates</span>
<span class="sd">        - {cell,nucleus,pathogen}_diamiter (float|None): Expected diameter for each object type.</span>

<span class="sd">        # Channel and background settings</span>
<span class="sd">        - channels (list): List of image channel indices.</span>
<span class="sd">        - {cell,nucleus,pathogen}_channel (int|None): Channel indices for each object type.</span>
<span class="sd">        - {cell,nucleus,pathogen}_background (int): Background value for each channel.</span>
<span class="sd">        - {cell,nucleus,pathogen}_Signal_to_noise (float): Threshold for SNR filtering.</span>
<span class="sd">        - {cell,nucleus,pathogen}_CP_prob (float): Minimum Cellpose probability threshold.</span>
<span class="sd">        - {cell,nucleus,pathogen}_FT (float): Feature threshold score.</span>

<span class="sd">        # Plotting</span>
<span class="sd">        - plot (bool): Enable visual output.</span>
<span class="sd">        - figuresize (int): Plot size in inches.</span>
<span class="sd">        - cmap (str): Color map for plots.</span>
<span class="sd">        - normalize (bool): Normalize intensities for plotting.</span>
<span class="sd">        - normalize_plots (bool): Normalize before visualizing masks.</span>
<span class="sd">        - examples_to_plot (int): Number of plots to generate.</span>

<span class="sd">        # Analysis settings</span>
<span class="sd">        - pathogen_model (str|None): Optional path to pathogen model.</span>
<span class="sd">        - merge_pathogens (bool): Merge all pathogen masks into one.</span>
<span class="sd">        - filter (bool): Enable object filtering.</span>
<span class="sd">        - lower_percentile (float): Intensity clipping lower bound.</span>

<span class="sd">        # Timelapse tracking</span>
<span class="sd">        - timelapse (bool): Enable timelapse mode.</span>
<span class="sd">        - fps (int): Frames per second for exported timelapse.</span>
<span class="sd">        - timelapse_displacement (float|None): Displacement threshold for linking.</span>
<span class="sd">        - timelapse_memory (int): Maximum number of frames to retain object identity.</span>
<span class="sd">        - timelapse_frame_limits (list): List of frames to keep.</span>
<span class="sd">        - timelapse_remove_transient (bool): Remove transient objects.</span>
<span class="sd">        - timelapse_mode (str): Tracking algorithm (&#39;trackpy&#39;, etc.).</span>
<span class="sd">        - timelapse_objects (str|None): Object types to track.</span>

<span class="sd">        # Miscellaneous</span>
<span class="sd">        - all_to_mip (bool): Convert all frames to maximum intensity projection.</span>
<span class="sd">        - upscale (bool): Upsample image resolution.</span>
<span class="sd">        - upscale_factor (float): Upsampling multiplier.</span>
<span class="sd">        - adjust_cells (bool): Morphologically adjust cell boundaries.</span>
<span class="sd">        - use_sam_{cell,nucleus,pathogen} (bool): Use Segment Anything Model (SAM) for segmentation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;denoise&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;delete_intermediate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;preprocess&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;masks&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;consolidate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_images&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;magnification&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_regex&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cellvoyager&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;randomize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_cell&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_nucleus&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_pathogen&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Channel settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_FT&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_FT&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_FT&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    
    <span class="c1"># Plot settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_plots&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;examples_to_plot&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Analasys settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_model&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;merge_pathogens&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;lower_percentile&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Timelapse settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fps&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_displacement&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_memory&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_frame_limits&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_remove_transient&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_mode&#39;</span><span class="p">,</span> <span class="s1">&#39;trackpy&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_objects&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Misc settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;all_to_mip&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upscale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upscale_factor&#39;</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;adjust_cells&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_sam_cell&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_sam_nucleus&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_sam_pathogen&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_plot_data_from_db">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_plot_data_from_db">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_plot_data_from_db</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default plotting settings for visualizing data from an SQL database.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Settings dictionary to populate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary with default keys and values for graph plotting from database data.</span>

<span class="sd">    Default Parameters:</span>
<span class="sd">        - src (str): Path to the database directory (default: &#39;path&#39;).</span>
<span class="sd">        - database (str): Filename of SQLite database (default: &#39;measurements.db&#39;).</span>
<span class="sd">        - graph_name (str): Output name of the plot (default: &#39;Figure_1&#39;).</span>
<span class="sd">        - table_names (list): Tables to include from the database (default: [&#39;cell&#39;, &#39;cytoplasm&#39;, &#39;nucleus&#39;, &#39;pathogen&#39;]).</span>
<span class="sd">        - data_column (str): Column to plot (default: &#39;recruitment&#39;).</span>
<span class="sd">        - grouping_column (str): Column used to group data (default: &#39;condition&#39;).</span>
<span class="sd">        - cell_types (list): Cell types to include (default: [&#39;Hela&#39;]).</span>
<span class="sd">        - cell_plate_metadata, pathogen_plate_metadata, treatment_plate_metadata (None): Optional metadata dictionaries.</span>
<span class="sd">        - pathogen_types, treatments (None): Optional lists of types.</span>
<span class="sd">        - graph_type (str): Type of plot (default: &#39;jitter&#39;).</span>
<span class="sd">        - theme (str): Seaborn theme (default: &#39;deep&#39;).</span>
<span class="sd">        - save (bool): Save plot to disk (default: True).</span>
<span class="sd">        - y_lim (list): y-axis limits (default: [1, 1.5]).</span>
<span class="sd">        - verbose (bool): Verbose output (default: False).</span>
<span class="sd">        - channel_of_interest (int): Image channel to analyze (default: 1).</span>
<span class="sd">        - nuclei_limit (int): Max nuclei per field (default: 2).</span>
<span class="sd">        - pathogen_limit (int): Max pathogens per field (default: 3).</span>
<span class="sd">        - representation (str): Plot representation (&#39;well&#39; or &#39;cell&#39;, default: &#39;well&#39;).</span>
<span class="sd">        - uninfected (bool): Include uninfected controls (default: False).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;database&#39;</span><span class="p">,</span> <span class="s1">&#39;measurements.db&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;graph_name&#39;</span><span class="p">,</span> <span class="s1">&#39;Figure_1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;table_names&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;data_column&#39;</span><span class="p">,</span> <span class="s1">&#39;recruitment&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping_column&#39;</span><span class="p">,</span> <span class="s1">&#39;condition&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Hela&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;graph_type&#39;</span><span class="p">,</span> <span class="s1">&#39;jitter&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;deep&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;y_lim&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.5</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;representation&#39;</span><span class="p">,</span> <span class="s1">&#39;well&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;uninfected&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_settings_preprocess_img_data">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_img_data">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_settings_preprocess_img_data</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default values for preprocessing image data before analysis.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Settings dictionary to populate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated dictionary with image preprocessing settings.</span>

<span class="sd">    Default Parameters:</span>
<span class="sd">        - metadata_type (str): Metadata parsing type (default: &#39;cellvoyager&#39;).</span>
<span class="sd">        - custom_regex (str|None): Regex for file parsing (default: None).</span>
<span class="sd">        - nr (int): Number of examples to plot (default: 1).</span>
<span class="sd">        - plot (bool): Whether to show plots (default: True).</span>
<span class="sd">        - batch_size (int): Number of images to process per batch (default: 50).</span>
<span class="sd">        - timelapse (bool): Whether this is a time series dataset (default: False).</span>
<span class="sd">        - lower_percentile (int): Lower percentile for intensity clipping (default: 2).</span>
<span class="sd">        - randomize (bool): Shuffle input file order (default: True).</span>
<span class="sd">        - all_to_mip (bool): Convert all frames to max-intensity projection (default: False).</span>
<span class="sd">        - cmap (str): Color map for images (default: &#39;inferno&#39;).</span>
<span class="sd">        - figuresize (int): Figure size for plots (default: 10).</span>
<span class="sd">        - normalize (bool): Normalize image intensities (default: True).</span>
<span class="sd">        - save_dtype (str): Data type for saving processed files (default: &#39;uint16&#39;).</span>
<span class="sd">        - test_mode (bool): Whether to run in test mode (default: False).</span>
<span class="sd">        - test_images (int): Number of test images to run in test mode (default: 10).</span>
<span class="sd">        - random_test (bool): Randomly select test images (default: True).</span>
<span class="sd">        - fps (int): Frames per second for timelapse visualization (default: 2).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cellvoyager&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_regex&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;lower_percentile&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;randomize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;all_to_mip&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_dtype&#39;</span><span class="p">,</span> <span class="s1">&#39;uint16&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_images&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;random_test&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fps&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<span class="k">def</span> <span class="nf">_get_object_settings</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate object-specific segmentation parameters for Cellpose or similar models.</span>

<span class="sd">    This function constructs a dictionary of settings tailored to the object type</span>
<span class="sd">    (e.g., &#39;cell&#39;, &#39;nucleus&#39;, or &#39;pathogen&#39;) based on user input and default rules.</span>
<span class="sd">    It dynamically adjusts diameter, model selection, and filtering options.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        object_type (str): Type of object to configure. Must be one of &#39;cell&#39;, &#39;nucleus&#39;, or &#39;pathogen&#39;.</span>
<span class="sd">        settings (dict): Configuration dictionary containing global pipeline parameters such as</span>
<span class="sd">                         &#39;magnification&#39;, diameter overrides, SAM usage flags, and verbosity.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Object-specific segmentation settings.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If object_type is not one of the supported types.</span>

<span class="sd">    Notes:</span>
<span class="sd">        - The estimated object diameter is computed from magnification using `_get_diam`.</span>
<span class="sd">        - If explicit diameters (e.g., `cell_diamiter`) are provided in settings, they override the computed value.</span>
<span class="sd">        - The model name is chosen based on object type and SAM usage.</span>
<span class="sd">        - Verbose output is printed if `settings[&#39;verbose&#39;]` is True.</span>

<span class="sd">    Example output structure:</span>
<span class="sd">        {</span>
<span class="sd">            &#39;diameter&#39;: 30.0,</span>
<span class="sd">            &#39;minimum_size&#39;: 225.0,</span>
<span class="sd">            &#39;maximum_size&#39;: 9000.0,</span>
<span class="sd">            &#39;merge&#39;: False,</span>
<span class="sd">            &#39;resample&#39;: True,</span>
<span class="sd">            &#39;remove_border_objects&#39;: False,</span>
<span class="sd">            &#39;model_name&#39;: &#39;cyto2&#39;,</span>
<span class="sd">            &#39;filter_size&#39;: False,</span>
<span class="sd">            &#39;filter_intensity&#39;: False,</span>
<span class="sd">            &#39;restore_type&#39;: None</span>
<span class="sd">        }</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">_get_diam</span>
    <span class="n">object_settings</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_diam</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;magnification&#39;</span><span class="p">],</span> <span class="n">obj</span><span class="o">=</span><span class="n">object_type</span><span class="p">)</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;merge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;resample&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;remove_border_objects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
    
    <span class="k">if</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;cell&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_channel&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto2&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cell_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cell diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;cell_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;use_sam_cell&#39;</span><span class="p">]:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sam&#39;</span>

    <span class="k">elif</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">:</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;nuclei&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nucleus_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nucleus diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;use_sam_nucleus&#39;</span><span class="p">]:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sam&#39;</span>

    <span class="k">elif</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">:</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;resample&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pathogen_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;merge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;merge_pathogens&#39;</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Pathogen diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;use_sam_pathogen&#39;</span><span class="p">]:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sam&#39;</span>
        
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Object type: </span><span class="si">{</span><span class="n">object_type</span><span class="si">}</span><span class="s1"> not supported. Supported object types are : cell, nucleus and pathogen&#39;</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;verbose&#39;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">object_settings</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">object_settings</span> 

<div class="viewcode-block" id="set_default_umap_image_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_umap_image_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_umap_image_settings</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration values for UMAP-based image embedding and clustering.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Optional dictionary of user-provided settings. Keys that are not present</span>
<span class="sd">                         will be set to their default values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary containing all necessary UMAP image analysis parameters.</span>

<span class="sd">    Default Parameters Set:</span>
<span class="sd">        - src (str): Path to input directory (default: &#39;path&#39;).</span>
<span class="sd">        - row_limit (int): Maximum number of rows to use (default: 1000).</span>
<span class="sd">        - tables (list): List of object types to include (default: [&#39;cell&#39;, &#39;cytoplasm&#39;, &#39;nucleus&#39;, &#39;pathogen&#39;]).</span>
<span class="sd">        - visualize (str): Object type to visualize (default: &#39;cell&#39;).</span>
<span class="sd">        - image_nr (int): Number of example images to display (default: 16).</span>
<span class="sd">        - dot_size (int): Dot size in the scatter plot (default: 50).</span>
<span class="sd">        - n_neighbors (int): UMAP parameter for local neighborhood size (default: 1000).</span>
<span class="sd">        - min_dist (float): UMAP parameter controlling embedding compactness (default: 0.1).</span>
<span class="sd">        - metric (str): Distance metric used in UMAP (default: &#39;euclidean&#39;).</span>
<span class="sd">        - eps (float): DBSCAN epsilon parameter (default: 0.9).</span>
<span class="sd">        - min_samples (int): Minimum number of samples per cluster in DBSCAN (default: 100).</span>
<span class="sd">        - filter_by (str): Column used to filter features (default: &#39;channel_0&#39;).</span>
<span class="sd">        - img_zoom (float): Zoom level for image thumbnails (default: 0.5).</span>
<span class="sd">        - plot_by_cluster (bool): Whether to color plot by cluster ID (default: True).</span>
<span class="sd">        - plot_cluster_grids (bool): Whether to plot grid of cluster example images (default: True).</span>
<span class="sd">        - remove_cluster_noise (bool): Remove outliers/noise clusters (default: True).</span>
<span class="sd">        - remove_highly_correlated (bool): Remove highly correlated features (default: True).</span>
<span class="sd">        - log_data (bool): Log-transform input features (default: False).</span>
<span class="sd">        - figuresize (int): Size of output figure (default: 10).</span>
<span class="sd">        - black_background (bool): Whether to use a black background in plots (default: True).</span>
<span class="sd">        - remove_image_canvas (bool): Crop out canvas margins in image plots (default: False).</span>
<span class="sd">        - plot_outlines (bool): Overlay object outlines on image thumbnails (default: True).</span>
<span class="sd">        - plot_points (bool): Plot UMAP/TSNE scatter points (default: True).</span>
<span class="sd">        - smooth_lines (bool): Use smoothed lines in plots (default: True).</span>
<span class="sd">        - clustering (str): Clustering method, e.g. &#39;dbscan&#39; (default: &#39;dbscan&#39;).</span>
<span class="sd">        - exclude (list|None): List of object classes or conditions to exclude (default: None).</span>
<span class="sd">        - col_to_compare (str): Column used to compare conditions (default: &#39;columnID&#39;).</span>
<span class="sd">        - pos (str): Label for positive control column (default: &#39;c1&#39;).</span>
<span class="sd">        - neg (str): Label for negative control column (default: &#39;c2&#39;).</span>
<span class="sd">        - mix (str): Label for mixed/experimental column (default: &#39;c3&#39;).</span>
<span class="sd">        - embedding_by_controls (bool): Fit UMAP only on control samples (default: False).</span>
<span class="sd">        - plot_images (bool): Whether to include image overlays in plot (default: True).</span>
<span class="sd">        - reduction_method (str): Dimensionality reduction method (default: &#39;umap&#39;).</span>
<span class="sd">        - save_figure (bool): Save output figure to disk (default: False).</span>
<span class="sd">        - n_jobs (int): Number of parallel jobs to use (default: -1, i.e., all cores).</span>
<span class="sd">        - color_by (str|None): Column name to use for color-coding scatter points (default: None).</span>
<span class="sd">        - exclude_conditions (list|None): List of conditions to exclude from embedding (default: None).</span>
<span class="sd">        - analyze_clusters (bool): Perform further statistical analysis on clusters (default: False).</span>
<span class="sd">        - resnet_features (bool): Use pretrained ResNet features (default: False).</span>
<span class="sd">        - verbose (bool): Print status messages (default: True).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;row_limit&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;visualize&#39;</span><span class="p">,</span> <span class="s1">&#39;cell&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_nr&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dot_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_neighbors&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_dist&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metric&#39;</span><span class="p">,</span> <span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;eps&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">,</span> <span class="s1">&#39;channel_0&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;img_zoom&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_by_cluster&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_cluster_grids&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_cluster_noise&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_highly_correlated&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_data&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;black_background&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_image_canvas&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_outlines&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_points&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;smooth_lines&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;clustering&#39;</span><span class="p">,</span> <span class="s1">&#39;dbscan&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;col_to_compare&#39;</span><span class="p">,</span> <span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pos&#39;</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;neg&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;mix&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;embedding_by_controls&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_images&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reduction_method&#39;</span><span class="p">,</span><span class="s1">&#39;umap&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_figure&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;color_by&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude_conditions&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;analyze_clusters&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resnet_features&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_measure_crop_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_measure_crop_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_measure_crop_settings</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration for object measurement and cropping.</span>

<span class="sd">    This function initializes and returns a dictionary of settings used for </span>
<span class="sd">    measuring and cropping segmented objects such as cells, nuclei, or pathogens.</span>
<span class="sd">    It covers measurement parameters, image cropping/export options, </span>
<span class="sd">    multiprocessing behavior, and test mode overrides.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict, optional): Existing settings dictionary to be updated with defaults.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Fully populated settings dictionary with default values applied.</span>

<span class="sd">    Key Settings:</span>
<span class="sd">        - Measurement:</span>
<span class="sd">            &#39;save_measurements&#39; (bool): Whether to save measurement results.</span>
<span class="sd">            &#39;radial_dist&#39; (bool): Compute radial distance profiles.</span>
<span class="sd">            &#39;calculate_correlation&#39; (bool): Compute intensity correlations.</span>
<span class="sd">            &#39;manders_thresholds&#39; (list): Thresholds (percentiles) for Manders overlap coefficient.</span>
<span class="sd">            &#39;homogeneity&#39; (bool): Compute local homogeneity.</span>
<span class="sd">            &#39;homogeneity_distances&#39; (list): Distances (in pixels) for homogeneity calculations.</span>

<span class="sd">        - Cropping:</span>
<span class="sd">            &#39;save_png&#39; (bool): Export cropped objects as PNGs.</span>
<span class="sd">            &#39;save_arrays&#39; (bool): Save raw data arrays for cropped objects.</span>
<span class="sd">            &#39;png_size&#39; (list): Output size of cropped PNGs [width, height].</span>
<span class="sd">            &#39;png_dims&#39; (list): Channel indices to include in the output PNG.</span>
<span class="sd">            &#39;normalize&#39; (bool): Apply intensity normalization.</span>
<span class="sd">            &#39;normalize_by&#39; (str): Normalize based on object-level or global stats.</span>
<span class="sd">            &#39;crop_mode&#39; (list): Objects to crop, e.g., [&#39;cell&#39;].</span>
<span class="sd">            &#39;use_bounding_box&#39; (bool): Use tight bounding boxes instead of masks.</span>
<span class="sd">            &#39;dialate_pngs&#39; (bool): Apply dilation to the object mask.</span>
<span class="sd">            &#39;dialate_png_ratios&#39; (list): Dilation factors relative to object size.</span>

<span class="sd">        - Timelapse:</span>
<span class="sd">            &#39;timelapse&#39; (bool): Process timelapse series.</span>
<span class="sd">            &#39;timelapse_objects&#39; (list): Objects to track over time.</span>

<span class="sd">        - Miscellaneous:</span>
<span class="sd">            &#39;src&#39; (str): Input directory path.</span>
<span class="sd">            &#39;experiment&#39; (str): Name of the experiment.</span>
<span class="sd">            &#39;test_mode&#39; (bool): Run in debug mode with fewer images and visual output.</span>
<span class="sd">            &#39;test_nr&#39; (int): Number of test images to process.</span>
<span class="sd">            &#39;plot&#39; (bool): Show debug plots.</span>
<span class="sd">            &#39;n_jobs&#39; (int): Number of CPU threads to use.</span>
<span class="sd">            &#39;verbose&#39; (bool): Enable verbose output.</span>

<span class="sd">        - Object masks:</span>
<span class="sd">            &#39;cell_mask_dim&#39;, &#39;nucleus_mask_dim&#39;, &#39;pathogen_mask_dim&#39; (int): Channels for respective masks.</span>
<span class="sd">            &#39;cytoplasm&#39; (bool): Include cytoplasmic measurements.</span>
<span class="sd">            &#39;merge_edge_pathogen_cells&#39; (bool): Option to merge pathogens at borders.</span>
<span class="sd">            &#39;min_size&#39; (int): Minimum size for filtering objects by type.</span>

<span class="sd">        - Advanced:</span>
<span class="sd">            &#39;distance_gaussian_sigma&#39; (float): Smoothing factor for distance transforms.</span>

<span class="sd">    Notes:</span>
<span class="sd">        - When &#39;test_mode&#39; is True, verbose and plot modes are automatically enabled.</span>
<span class="sd">        - &#39;os.cpu_count()&#39; is used to allocate available cores for parallel processing.</span>

<span class="sd">    Example:</span>
<span class="sd">        settings = get_measure_crop_settings()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;delete_intermediate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span> <span class="s1">&#39;exp&#39;</span><span class="p">)</span>
    
    <span class="c1"># Test mode</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_nr&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

    <span class="c1">#measurement settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_measurements&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;radial_dist&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;calculate_correlation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;manders_thresholds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">95</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;homogeneity&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;homogeneity_distances&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">])</span>

    <span class="c1"># Cropping settings    # Cropping settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_arrays&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_png&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_bounding_box&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_size&#39;</span><span class="p">,[</span><span class="mi">224</span><span class="p">,</span><span class="mi">224</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>    <span class="c1"># Cropping settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_arrays&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_png&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_bounding_box&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_size&#39;</span><span class="p">,[</span><span class="mi">224</span><span class="p">,</span><span class="mi">224</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_by&#39;</span><span class="p">,</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;crop_mode&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dialate_pngs&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dialate_png_ratios&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">])</span>

    <span class="c1"># Timelapsed settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_objects&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>

    <span class="c1"># Operational settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Object settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cytoplasm&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;uninfected&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cytoplasm_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;merge_edge_pathogen_cells&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;distance_gaussian_sigma&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;test_mode&#39;</span><span class="p">]:</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;verbose&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;plot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">test_imgs</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;test_nr&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Test mode enabled with </span><span class="si">{</span><span class="n">test_imgs</span><span class="si">}</span><span class="s1"> images, plotting set to True&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_analyze_screen">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_analyze_screen">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_analyze_screen</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration for analyzing a CRISPR or compound screen.</span>

<span class="sd">    This function populates a provided settings dictionary with defaults related to </span>
<span class="sd">    feature extraction, model training, screen scoring, and heatmap visualization.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Dictionary of user-provided settings to be updated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with all necessary keys and default values.</span>

<span class="sd">    Key Settings:</span>
<span class="sd">        - Input/Output:</span>
<span class="sd">            &#39;src&#39; (str): Path to the screen results folder.</span>
<span class="sd">            &#39;save_to_db&#39; (bool): If True, results will be saved to a database.</span>
<span class="sd">            &#39;annotation_column&#39; (str or None): Column used to group conditions or annotate classes.</span>
<span class="sd">            &#39;location_column&#39; (str): Column identifying spatial layout (e.g., &#39;columnID&#39;).</span>

<span class="sd">        - Modeling:</span>
<span class="sd">            &#39;model_type_ml&#39; (str): Machine learning model to use (&#39;xgboost&#39; by default).</span>
<span class="sd">            &#39;learning_rate&#39; (float): Learning rate for boosting models.</span>
<span class="sd">            &#39;n_estimators&#39; (int): Number of trees for boosting.</span>
<span class="sd">            &#39;reg_alpha&#39; (float): L1 regularization coefficient.</span>
<span class="sd">            &#39;reg_lambda&#39; (float): L2 regularization coefficient.</span>
<span class="sd">            &#39;test_size&#39; (float): Proportion of data used for testing.</span>
<span class="sd">            &#39;cross_validation&#39; (bool): Whether to perform cross-validation.</span>
<span class="sd">            &#39;n_repeats&#39; (int): Number of repetitions for performance evaluation.</span>
<span class="sd">            &#39;prune_features&#39; (bool): Whether to apply feature pruning.</span>

<span class="sd">        - Feature selection:</span>
<span class="sd">            &#39;remove_low_variance_features&#39; (bool): Exclude features with low variance.</span>
<span class="sd">            &#39;remove_highly_correlated_features&#39; (bool): Exclude highly collinear features.</span>
<span class="sd">            &#39;top_features&#39; (int): Number of top features to retain after training.</span>

<span class="sd">        - Screen summarization:</span>
<span class="sd">            &#39;heatmap_feature&#39; (str): Feature used for heatmap visualization (e.g., &#39;predictions&#39;).</span>
<span class="sd">            &#39;grouping&#39; (str): How to summarize replicate data (&#39;mean&#39;, &#39;median&#39;, etc.).</span>
<span class="sd">            &#39;min_max&#39; (str): Scaling mode for heatmap normalization (&#39;allq&#39;, &#39;robust&#39;, etc.).</span>
<span class="sd">            &#39;cmap&#39; (str): Colormap used for heatmap plotting.</span>

<span class="sd">        - Controls:</span>
<span class="sd">            &#39;positive_control&#39; (str): Label for the positive control condition.</span>
<span class="sd">            &#39;negative_control&#39; (str): Label for the negative control condition.</span>
<span class="sd">            &#39;exclude&#39; (list or None): List of condition labels to exclude from analysis.</span>

<span class="sd">        - Filtering:</span>
<span class="sd">            &#39;minimum_cell_count&#39; (int): Minimum number of cells per well required for inclusion.</span>
<span class="sd">            &#39;nuclei_limit&#39; (bool): Whether to apply a nuclei count filter.</span>
<span class="sd">            &#39;pathogen_limit&#39; (int): Maximum number of pathogens per object.</span>

<span class="sd">        - Miscellaneous:</span>
<span class="sd">            &#39;channel_of_interest&#39; (int): Imaging channel used for downstream focus.</span>
<span class="sd">            &#39;n_jobs&#39; (int): Number of parallel jobs to run (-1 uses all CPUs).</span>
<span class="sd">            &#39;verbose&#39; (bool): Enable verbose logging.</span>

<span class="sd">    Example:</span>
<span class="sd">        settings = set_default_analyze_screen({})</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_to_db&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type_ml&#39;</span><span class="p">,</span><span class="s1">&#39;xgboost&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;heatmap_feature&#39;</span><span class="p">,</span><span class="s1">&#39;predictions&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_max&#39;</span><span class="p">,</span><span class="s1">&#39;allq&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;minimum_cell_count&#39;</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reg_alpha&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reg_lambda&#39;</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_size&#39;</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;location_column&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;positive_control&#39;</span><span class="p">,</span><span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;negative_control&#39;</span><span class="p">,</span><span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_repeats&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;top_features&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_low_variance_features&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_highly_correlated_features&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;prune_features&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cross_validation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_train_test_model">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_train_test_model">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_train_test_model</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration for training and testing a deep learning classification model.</span>

<span class="sd">    This function populates a provided dictionary with default settings used for model training, </span>
<span class="sd">    including architecture, optimizer, augmentation, and hardware preferences.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        settings (dict): Dictionary of user-provided settings to be updated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with all necessary keys and default values.</span>

<span class="sd">    Key Settings:</span>
<span class="sd">        - Input/Output:</span>
<span class="sd">            &#39;src&#39; (str): Path to dataset directory.</span>
<span class="sd">            &#39;train&#39; (bool): Whether to perform training.</span>
<span class="sd">            &#39;test&#39; (bool): Whether to run inference on test data.</span>
<span class="sd">            &#39;classes&#39; (list): List of class labels (e.g., [&#39;nc&#39;, &#39;pc&#39;]).</span>

<span class="sd">        - Model architecture:</span>
<span class="sd">            &#39;model_type&#39; (str): Model architecture to use (e.g., &#39;maxvit_t&#39;).</span>
<span class="sd">            &#39;init_weights&#39; (bool): Whether to initialize model with pretrained weights.</span>
<span class="sd">            &#39;dropout_rate&#39; (float): Dropout rate applied before final layers.</span>

<span class="sd">        - Optimizer and scheduler:</span>
<span class="sd">            &#39;optimizer_type&#39; (str): Optimizer to use (e.g., &#39;adamw&#39;).</span>
<span class="sd">            &#39;schedule&#39; (str): Learning rate scheduler (&#39;reduce_lr_on_plateau&#39; or &#39;step_lr&#39;).</span>
<span class="sd">            &#39;amsgrad&#39; (bool): Use AMSGrad variant of Adam.</span>
<span class="sd">            &#39;weight_decay&#39; (float): Weight decay regularization.</span>
<span class="sd">            &#39;learning_rate&#39; (float): Initial learning rate.</span>

<span class="sd">        - Loss function:</span>
<span class="sd">            &#39;loss_type&#39; (str): Loss function to use (e.g., &#39;focal_loss&#39;, &#39;binary_cross_entropy_with_logits&#39;).</span>

<span class="sd">        - Training hyperparameters:</span>
<span class="sd">            &#39;batch_size&#39; (int): Batch size used during training.</span>
<span class="sd">            &#39;epochs&#39; (int): Number of training epochs.</span>
<span class="sd">            &#39;val_split&#39; (float): Proportion of data used for validation.</span>
<span class="sd">            &#39;gradient_accumulation&#39; (bool): Enable gradient accumulation to simulate larger batch sizes.</span>
<span class="sd">            &#39;gradient_accumulation_steps&#39; (int): Number of steps for accumulation.</span>
<span class="sd">            &#39;pin_memory&#39; (bool): Pin memory in DataLoader.</span>

<span class="sd">        - Image preprocessing:</span>
<span class="sd">            &#39;image_size&#39; (int): Size to which images are resized (assumes square).</span>
<span class="sd">            &#39;normalize&#39; (bool): Whether to apply normalization.</span>
<span class="sd">            &#39;train_channels&#39; (list): List of channels to use for training (e.g., [&#39;r&#39;,&#39;g&#39;,&#39;b&#39;]).</span>
<span class="sd">            &#39;augment&#39; (bool): Whether to apply data augmentation.</span>

<span class="sd">        - Checkpointing:</span>
<span class="sd">            &#39;use_checkpoint&#39; (bool): Save model checkpoints.</span>
<span class="sd">            &#39;intermedeate_save&#39; (bool): Save intermediate models during training.</span>

<span class="sd">        - Parallelization:</span>
<span class="sd">            &#39;n_jobs&#39; (int): Number of parallel processes to use (default: available cores - 2).</span>

<span class="sd">        - Miscellaneous:</span>
<span class="sd">            &#39;verbose&#39; (bool): Enable detailed logging.</span>

<span class="sd">    Example:</span>
<span class="sd">        settings = set_default_train_test_model({})</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cores</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span>

    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span><span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span> <span class="c1">#reduce_lr_on_plateau, step_lr</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span><span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span> <span class="c1"># binary_cross_entropy_with_logits</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">0.00001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="n">cores</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_generate_training_dataset_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_training_dataset_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_generate_training_dataset_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default configuration for generating a training dataset from measurements and metadata.</span>

<span class="sd">    This function populates the given dictionary with default values required for generating</span>
<span class="sd">    a structured dataset for supervised learning based on annotated metadata or measurements.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with defaults if not already present.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with default keys and values for dataset generation.</span>

<span class="sd">    Key Settings:</span>
<span class="sd">        - Input/Output:</span>
<span class="sd">            &#39;src&#39; (str): Path to source data.</span>
<span class="sd">            &#39;png_type&#39; (str): Type of image to extract (e.g., &#39;cell_png&#39;).</span>

<span class="sd">        - Metadata and labels:</span>
<span class="sd">            &#39;dataset_mode&#39; (str): Mode to derive labels (&#39;metadata&#39; or &#39;measurement&#39;).</span>
<span class="sd">            &#39;annotation_column&#39; (str): Name of column in metadata used for annotation.</span>
<span class="sd">            &#39;annotated_classes&#39; (list): List of class indices (e.g., [1, 2]).</span>
<span class="sd">            &#39;class_metadata&#39; (list): List of metadata values corresponding to each class.</span>
<span class="sd">            &#39;metadata_item_1_name&#39; (list): Primary metadata variable (e.g., conditions).</span>
<span class="sd">            &#39;metadata_item_1_value&#39; (list of list): Metadata values for each class.</span>
<span class="sd">            &#39;metadata_item_2_name&#39; (list): Secondary metadata variable.</span>
<span class="sd">            &#39;metadata_item_2_value&#39; (list of list): Values of secondary variable by class.</span>
<span class="sd">            &#39;metadata_type_by&#39; (str): Column to use for metadata grouping (e.g., &#39;columnID&#39;).</span>

<span class="sd">        - Table and image options:</span>
<span class="sd">            &#39;tables&#39; (list or None): Table(s) to source data from (e.g., &#39;cell&#39;, &#39;nucleus&#39;).</span>
<span class="sd">            &#39;channel_of_interest&#39; (int): Channel to use for class derivation or filtering.</span>
<span class="sd">            &#39;custom_measurement&#39; (str or None): Measurement key to use for class label if in measurement mode.</span>

<span class="sd">        - Limits and filters:</span>
<span class="sd">            &#39;nuclei_limit&#39; (bool): Whether to filter based on number of nuclei.</span>
<span class="sd">            &#39;pathogen_limit&#39; (bool): Whether to filter based on number of pathogens.</span>

<span class="sd">        - Image settings:</span>
<span class="sd">            &#39;size&#39; (int): Target image size (square width/height in pixels).</span>
<span class="sd">            &#39;test_split&#39; (float): Fraction of data to reserve for testing.</span>

<span class="sd">    Example:</span>
<span class="sd">        settings = set_generate_training_dataset_defaults({})</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset_mode&#39;</span><span class="p">,</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotated_classes&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_1_name&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_1_value&#39;</span><span class="p">,[[</span><span class="s1">&#39;c19&#39;</span><span class="p">,</span><span class="s1">&#39;c2&#39;</span><span class="p">],[</span><span class="s1">&#39;c3&#39;</span><span class="p">,</span><span class="s1">&#39;c4&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_2_name&#39;</span><span class="p">,[</span><span class="s1">&#39;sample1&#39;</span><span class="p">,</span><span class="s1">&#39;sample2&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_2_value&#39;</span><span class="p">,[[</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">],[</span><span class="s1">&#39;r3&#39;</span><span class="p">,</span><span class="s1">&#39;r4&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type_by&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_measurement&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="deep_spacr_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.deep_spacr_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">deep_spacr_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default arguments for deep learning analysis in spaCR.</span>

<span class="sd">    This function fills in default arguments for training, testing, and applying deep learning</span>
<span class="sd">    models on spaCR datasets, supporting both metadata and measurement-based annotations.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to dataset.</span>
<span class="sd">        dataset_mode (str): &#39;metadata&#39; or &#39;measurement&#39; mode for annotation.</span>
<span class="sd">        annotation_column (str): Metadata column containing annotations.</span>
<span class="sd">        annotated_classes (list): Class indices (e.g., [1, 2]).</span>
<span class="sd">        classes (list): Class labels (e.g., [&#39;nc&#39;, &#39;pc&#39;]).</span>
<span class="sd">        size (int): Image size for training.</span>
<span class="sd">        test_split (float): Fraction of data reserved for testing.</span>
<span class="sd">        class_metadata (list): Metadata values for each class.</span>
<span class="sd">        metadata_type_by (str): Key used for metadata classification (e.g., &#39;columnID&#39;).</span>
<span class="sd">        channel_of_interest (int): Channel used for classification or filtering.</span>
<span class="sd">        custom_measurement (str or None): Measurement used for label derivation.</span>
<span class="sd">        tables (list or None): Tables to extract measurements from (e.g., &#39;cell&#39;).</span>
<span class="sd">        png_type (str): Image type used for training, e.g., &#39;cell_png&#39;.</span>
<span class="sd">        custom_model (bool): Whether to load a custom model.</span>
<span class="sd">        custom_model_path (str): Path to the custom model file.</span>
<span class="sd">        train (bool): Whether to perform training.</span>
<span class="sd">        test (bool): Whether to perform testing.</span>
<span class="sd">        model_type (str): Model architecture (e.g., &#39;maxvit_t&#39;).</span>
<span class="sd">        optimizer_type (str): Optimizer to use (e.g., &#39;adamw&#39;).</span>
<span class="sd">        schedule (str): Learning rate schedule (&#39;reduce_lr_on_plateau&#39; or &#39;step_lr&#39;).</span>
<span class="sd">        loss_type (str): Loss function (&#39;focal_loss&#39;, etc.).</span>
<span class="sd">        normalize (bool): Whether to normalize input images.</span>
<span class="sd">        image_size (int): Image dimensions (assumes square input).</span>
<span class="sd">        batch_size (int): Batch size for training.</span>
<span class="sd">        epochs (int): Number of training epochs.</span>
<span class="sd">        val_split (float): Validation fraction from training data.</span>
<span class="sd">        learning_rate (float): Initial learning rate.</span>
<span class="sd">        weight_decay (float): Weight decay for optimizer.</span>
<span class="sd">        dropout_rate (float): Dropout rate in model.</span>
<span class="sd">        init_weights (bool): Whether to initialize weights.</span>
<span class="sd">        amsgrad (bool): Use AMSGrad with Adam.</span>
<span class="sd">        use_checkpoint (bool): Save and load checkpoints.</span>
<span class="sd">        gradient_accumulation (bool): Use gradient accumulation.</span>
<span class="sd">        gradient_accumulation_steps (int): Steps to accumulate gradients.</span>
<span class="sd">        intermedeate_save (bool): Save intermediate weights.</span>
<span class="sd">        pin_memory (bool): Use pin memory in DataLoader.</span>
<span class="sd">        n_jobs (int): Number of CPU cores to use.</span>
<span class="sd">        train_channels (list): Color channels for training (e.g., [&#39;r&#39;, &#39;g&#39;, &#39;b&#39;]).</span>
<span class="sd">        augment (bool): Use data augmentation.</span>
<span class="sd">        verbose (bool): Verbose output.</span>
<span class="sd">        apply_model_to_dataset (bool): Whether to apply model after training.</span>
<span class="sd">        file_metadata (str or None): Path to metadata for inference.</span>
<span class="sd">        sample (str or None): Sample identifier.</span>
<span class="sd">        experiment (str): Experiment identifier.</span>
<span class="sd">        score_threshold (float): Classification threshold.</span>
<span class="sd">        dataset (str): Path to dataset for inference.</span>
<span class="sd">        model_path (str): Path to saved model file.</span>
<span class="sd">        file_type (str): File type of images (e.g., &#39;cell_png&#39;).</span>
<span class="sd">        generate_training_dataset (bool): Whether to generate training dataset.</span>
<span class="sd">        train_DL_model (bool): Whether to train the deep learning model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cores</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset_mode&#39;</span><span class="p">,</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotated_classes&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type_by&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_measurement&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span><span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span> <span class="c1">#reduce_lr_on_plateau, step_lr</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span><span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span> <span class="c1"># binary_cross_entropy_with_logits</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">0.00001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="n">cores</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;apply_model_to_dataset&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span><span class="s1">&#39;exp.&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_threshold&#39;</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;generate_training_dataset&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_DL_model&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_train_test_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_train_test_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_train_test_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for training and testing a deep learning model.</span>

<span class="sd">    This function populates the `settings` dictionary with default args used for</span>
<span class="sd">    training and evaluating deep learning models in spaCR.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to input dataset.</span>
<span class="sd">        train (bool): Whether to train the model.</span>
<span class="sd">        test (bool): Whether to test the model.</span>
<span class="sd">        custom_model (bool): Whether to load a custom model.</span>
<span class="sd">        classes (list): List of class labels, e.g., [&#39;nc&#39;, &#39;pc&#39;].</span>
<span class="sd">        train_channels (list): Channels to use for training (e.g., [&#39;r&#39;, &#39;g&#39;, &#39;b&#39;]).</span>
<span class="sd">        model_type (str): Type of model architecture, e.g., &#39;maxvit_t&#39;.</span>
<span class="sd">        optimizer_type (str): Optimizer to use, e.g., &#39;adamw&#39;.</span>
<span class="sd">        schedule (str): Learning rate schedule (&#39;reduce_lr_on_plateau&#39; or &#39;step_lr&#39;).</span>
<span class="sd">        loss_type (str): Loss function, e.g., &#39;focal_loss&#39;.</span>
<span class="sd">        normalize (bool): Normalize images before training.</span>
<span class="sd">        image_size (int): Input image size (square).</span>
<span class="sd">        batch_size (int): Batch size for training.</span>
<span class="sd">        epochs (int): Number of epochs.</span>
<span class="sd">        val_split (float): Fraction of training data used for validation.</span>
<span class="sd">        learning_rate (float): Initial learning rate.</span>
<span class="sd">        weight_decay (float): Weight decay for regularization.</span>
<span class="sd">        dropout_rate (float): Dropout rate for model.</span>
<span class="sd">        init_weights (bool): Whether to initialize model weights.</span>
<span class="sd">        amsgrad (bool): Use AMSGrad variant of Adam.</span>
<span class="sd">        use_checkpoint (bool): Whether to use model checkpointing.</span>
<span class="sd">        gradient_accumulation (bool): Use gradient accumulation across batches.</span>
<span class="sd">        gradient_accumulation_steps (int): Steps to accumulate gradients before update.</span>
<span class="sd">        intermedeate_save (bool): Save intermediate models during training.</span>
<span class="sd">        pin_memory (bool): Enable pinned memory in DataLoader.</span>
<span class="sd">        n_jobs (int): Number of CPU cores to use.</span>
<span class="sd">        augment (bool): Whether to apply data augmentation.</span>
<span class="sd">        verbose (bool): Enable verbose output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span> <span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span> <span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span> <span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span> <span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span> <span class="mf">0.00001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_recruitment_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_recruitment_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_recruitment_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for recruitment analysis of host/pathogen protein localization.</span>

<span class="sd">    This function populates the `settings` dictionary with default values for analyzing</span>
<span class="sd">    recruitment of host proteins (e.g., ESCRT) to pathogens under various treatment conditions.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to input dataset.</span>
<span class="sd">        target (str): Protein target being analyzed.</span>
<span class="sd">        cell_types (list): List of host cell types (e.g., [&#39;HeLa&#39;]).</span>
<span class="sd">        cell_plate_metadata (list or None): Metadata for host cells.</span>
<span class="sd">        pathogen_types (list): List of pathogen types.</span>
<span class="sd">        pathogen_plate_metadata (list): Plate layout metadata for pathogens.</span>
<span class="sd">        treatments (list): List of treatment conditions.</span>
<span class="sd">        treatment_plate_metadata (list): Plate layout metadata for treatments.</span>
<span class="sd">        channel_dims (list): List of image channel indices.</span>
<span class="sd">        cell_chann_dim (int): Index of cell signal channel.</span>
<span class="sd">        cell_mask_dim (int): Index of cell mask channel.</span>
<span class="sd">        nucleus_chann_dim (int): Index of nucleus signal channel.</span>
<span class="sd">        nucleus_mask_dim (int): Index of nucleus mask channel.</span>
<span class="sd">        pathogen_chann_dim (int): Index of pathogen signal channel.</span>
<span class="sd">        pathogen_mask_dim (int): Index of pathogen mask channel.</span>
<span class="sd">        channel_of_interest (int): Channel to analyze for recruitment.</span>
<span class="sd">        plot (bool): Whether to generate plots.</span>
<span class="sd">        plot_nr (int): Number of plots to generate.</span>
<span class="sd">        plot_control (bool): Include controls in plots.</span>
<span class="sd">        figuresize (int): Size of generated figures.</span>
<span class="sd">        pathogen_limit (int): Maximum pathogens per field.</span>
<span class="sd">        nuclei_limit (int): Minimum nuclei required per field.</span>
<span class="sd">        cells_per_well (int): Expected number of cells per well.</span>
<span class="sd">        pathogen_size_range (list): Min/max area for pathogen inclusion.</span>
<span class="sd">        nucleus_size_range (list): Min/max area for nucleus inclusion.</span>
<span class="sd">        cell_size_range (list): Min/max area for cell inclusion.</span>
<span class="sd">        pathogen_intensity_range (list): Min/max intensity for pathogen inclusion.</span>
<span class="sd">        nucleus_intensity_range (list): Min/max intensity for nucleus inclusion.</span>
<span class="sd">        cell_intensity_range (list): Min/max intensity for cell inclusion.</span>
<span class="sd">        target_intensity_min (int): Minimum intensity for target signal.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span><span class="s1">&#39;protein&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;HeLa&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;pathogen_1&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen_2&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">],[</span><span class="s1">&#39;c4&#39;</span><span class="p">,</span><span class="s1">&#39;c5&#39;</span><span class="p">,</span> <span class="s1">&#39;c6&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,[</span><span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;lovastatin&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span> <span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;r3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;r4&#39;</span><span class="p">,</span> <span class="s1">&#39;r5&#39;</span><span class="p">,</span><span class="s1">&#39;r6&#39;</span><span class="p">]])</span>
    <span class="c1">#settings.setdefault(&#39;metadata_types&#39;,[&#39;columnID&#39;, &#39;columnID&#39;, &#39;rowID&#39;])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_chann_dim&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_chann_dim&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_chann_dim&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_nr&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_control&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cells_per_well&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_intensity_min&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_test_cellpose_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_test_cellpose_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_test_cellpose_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for testing a Cellpose model.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to input image directory.</span>
<span class="sd">        model_path (str): Path to the Cellpose model.</span>
<span class="sd">        save (bool): Whether to save outputs.</span>
<span class="sd">        normalize (bool): Apply percentile normalization.</span>
<span class="sd">        percentiles (tuple): Lower and upper percentiles for normalization.</span>
<span class="sd">        batch_size (int): Number of images to process per batch.</span>
<span class="sd">        CP_probability (float): Minimum probability for Cellpose mask inclusion.</span>
<span class="sd">        FT (float): Flow threshold for Cellpose model.</span>
<span class="sd">        target_size (int): Resize input images to this size for model inference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">))</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_probability&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;FT&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_size&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_apply_cellpose_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_apply_cellpose_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_apply_cellpose_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for applying a trained Cellpose model.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to input image directory.</span>
<span class="sd">        model_path (str): Path to the Cellpose model.</span>
<span class="sd">        save (bool): Whether to save outputs.</span>
<span class="sd">        normalize (bool): Apply percentile normalization.</span>
<span class="sd">        percentiles (tuple): Lower and upper percentiles for normalization.</span>
<span class="sd">        batch_size (int): Number of images to process per batch.</span>
<span class="sd">        CP_probability (float): Minimum probability for Cellpose mask inclusion.</span>
<span class="sd">        FT (float): Flow threshold for Cellpose model.</span>
<span class="sd">        circularize (bool): Convert masks to circular contours.</span>
<span class="sd">        target_size (int): Resize input images to this size for model inference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">))</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_probability&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;FT&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;circularize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_size&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="default_settings_analyze_percent_positive">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.default_settings_analyze_percent_positive">[docs]</a>
<span class="k">def</span> <span class="nf">default_settings_analyze_percent_positive</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for analyzing percent-positive cells based on intensity thresholding.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to data table.</span>
<span class="sd">        tables (list): List of object types to analyze (e.g., [&#39;cell&#39;]).</span>
<span class="sd">        filter_1 (list): Filtering rule, e.g., [&#39;cell_area&#39;, 1000].</span>
<span class="sd">        value_col (str): Column name containing intensity values.</span>
<span class="sd">        threshold (float): Threshold above which objects are considered positive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_1&#39;</span><span class="p">,[</span><span class="s1">&#39;cell_area&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;value_col&#39;</span><span class="p">,</span><span class="s1">&#39;cell_channel_2_mean_intensity&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold&#39;</span><span class="p">,</span><span class="mi">2000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_reads_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_reads_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_reads_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for analyzing NGS reads to extract barcodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to FASTQ file or folder.</span>
<span class="sd">        upstream (str): Sequence upstream of the barcode.</span>
<span class="sd">        downstream (str): Sequence downstream of the barcode.</span>
<span class="sd">        barecode_length_1 (int): Length of the first barcode.</span>
<span class="sd">        barecode_length_2 (int): Length of the second barcode.</span>
<span class="sd">        chunk_size (int): Number of reads to process per chunk.</span>
<span class="sd">        test (bool): Enable test mode with limited read parsing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upstream&#39;</span><span class="p">,</span> <span class="s1">&#39;CTTCTGGTAAATGGGGATGTCAAGTT&#39;</span><span class="p">)</span> 
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;downstream&#39;</span><span class="p">,</span> <span class="s1">&#39;GTTTAAGAGCTATGCTGGAAACAGCAG&#39;</span><span class="p">)</span> <span class="c1">#This is the reverce compliment of the column primer starting from the end #TGCTGTTTAAGAGCTATGCTGGAAACAGCA</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barecode_length_1&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barecode_length_2&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;chunk_size&#39;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_map_barcodes_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_map_barcodes_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_map_barcodes_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for mapping extracted barcodes to plate, grna, and control metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to barcode read count data.</span>
<span class="sd">        grna (str): Path to gRNA-barcode mapping CSV.</span>
<span class="sd">        barcodes (str): Path to screen barcode-to-well metadata CSV.</span>
<span class="sd">        plate_dict (str): Stringified dictionary mapping plate IDs to logical names.</span>
<span class="sd">        test (bool): Enable test mode with limited entries.</span>
<span class="sd">        verbose (bool): Print detailed progress information.</span>
<span class="sd">        pc (str): Positive control gRNA identifier.</span>
<span class="sd">        pc_loc (str): Well location of the positive control.</span>
<span class="sd">        nc (str): Negative control gRNA identifier.</span>
<span class="sd">        nc_loc (str): Well location of the negative control.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grna&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/grna_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barcodes&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/SCREEN_BARCODES.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plate_dict&#39;</span><span class="p">,</span> <span class="s2">&quot;{&#39;EO1&#39;: &#39;plate1&#39;, &#39;EO2&#39;: &#39;plate2&#39;, &#39;EO3&#39;: &#39;plate3&#39;, &#39;EO4&#39;: &#39;plate4&#39;, &#39;EO5&#39;: &#39;plate5&#39;, &#39;EO6&#39;: &#39;plate6&#39;, &#39;EO7&#39;: &#39;plate7&#39;, &#39;EO8&#39;: &#39;plate8&#39;}&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;TGGT1_220950_1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pc_loc&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;TGGT1_233460_4&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nc_loc&#39;</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_train_cellpose_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_train_cellpose_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_train_cellpose_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for training a Cellpose model.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        model_name (str): Name to assign to the trained model.</span>
<span class="sd">        model_type (str): Type of model, e.g., &#39;cyto&#39;, &#39;nuclei&#39;.</span>
<span class="sd">        Signal_to_noise (int): Signal-to-noise ratio in training images.</span>
<span class="sd">        background (int): Background intensity value.</span>
<span class="sd">        remove_background (bool): Whether to subtract background.</span>
<span class="sd">        learning_rate (float): Learning rate for optimization.</span>
<span class="sd">        weight_decay (float): Weight decay (L2 penalty).</span>
<span class="sd">        batch_size (int): Number of samples per batch.</span>
<span class="sd">        n_epochs (int): Maximum number of training epochs.</span>
<span class="sd">        from_scratch (bool): Whether to initialize weights randomly.</span>
<span class="sd">        diameter (float): Estimated object diameter.</span>
<span class="sd">        resize (bool): Whether to resize input images.</span>
<span class="sd">        width_height (list): Target width and height for resizing.</span>
<span class="sd">        verbose (bool): Print training progress.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_name&#39;</span><span class="p">,</span><span class="s1">&#39;new_model&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;cyto&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">1e-05</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_epochs&#39;</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;from_scratch&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;width_height&#39;</span><span class="p">,[</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_generate_dataset_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_dataset_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_generate_dataset_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for generating a dataset from raw data and metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Root directory for the experiment.</span>
<span class="sd">        file_metadata (str or None): Path to metadata CSV file.</span>
<span class="sd">        experiment (str): Experiment identifier.</span>
<span class="sd">        sample (str or None): Sample name or ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span><span class="s1">&#39;experiment_1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_perform_regression_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_perform_regression_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_perform_regression_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for performing regression on phenotype data.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        count_data (list): List of paths to count tables.</span>
<span class="sd">        score_data (list): List of paths to score tables.</span>
<span class="sd">        positive_control (str): Gene ID of positive control.</span>
<span class="sd">        negative_control (str): Gene ID of negative control.</span>
<span class="sd">        min_n (int): Minimum number of data points per group.</span>
<span class="sd">        controls (list): List of guide RNA IDs to exclude.</span>
<span class="sd">        fraction_threshold (float or None): Minimum fraction threshold.</span>
<span class="sd">        dependent_variable (str): Name of response variable.</span>
<span class="sd">        threshold_method (str): Method for outlier thresholding (e.g., &#39;std&#39;).</span>
<span class="sd">        threshold_multiplier (float): Multiplier for thresholding.</span>
<span class="sd">        target_unique_count (int): Minimum unique guides per gene.</span>
<span class="sd">        transform (str or None): Apply transformation to input data (e.g., &#39;log&#39;).</span>
<span class="sd">        log_x (bool): Apply log10 to x-values.</span>
<span class="sd">        log_y (bool): Apply log10 to y-values.</span>
<span class="sd">        x_lim (tuple or None): x-axis limits.</span>
<span class="sd">        outlier_detection (bool): Enable outlier removal.</span>
<span class="sd">        agg_type (str or None): Aggregation type (&#39;mean&#39;, &#39;median&#39;).</span>
<span class="sd">        min_cell_count (int or None): Minimum cells per sample to include.</span>
<span class="sd">        regression_type (str): Regression type (&#39;ols&#39;, &#39;quantile&#39;).</span>
<span class="sd">        random_row_column_effects (bool): Include row/column as random effects.</span>
<span class="sd">        split_axis_lims (str): Delimiter-separated axis ranges for plotting.</span>
<span class="sd">        cov_type (str or None): Covariance estimator for robust standard errors.</span>
<span class="sd">        alpha (float): Alpha level or quantile (for quantile regression).</span>
<span class="sd">        filter_value (list): Values to keep in filter_column.</span>
<span class="sd">        filter_column (str): Column name for filtering.</span>
<span class="sd">        plateID (str): Plate ID used in analysis.</span>
<span class="sd">        metadata_files (list): List of CSVs with gene metadata.</span>
<span class="sd">        volcano (str): Label column for volcano plot.</span>
<span class="sd">        toxo (bool): Whether to use Toxoplasma-specific annotations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;count_data&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_data&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;positive_control&#39;</span><span class="p">,</span><span class="s1">&#39;239740&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;negative_control&#39;</span><span class="p">,</span><span class="s1">&#39;233460&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_n&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;controls&#39;</span><span class="p">,[</span><span class="s1">&#39;000000_1&#39;</span><span class="p">,</span><span class="s1">&#39;000000_10&#39;</span><span class="p">,</span><span class="s1">&#39;000000_11&#39;</span><span class="p">,</span><span class="s1">&#39;000000_12&#39;</span><span class="p">,</span><span class="s1">&#39;000000_13&#39;</span><span class="p">,</span><span class="s1">&#39;000000_14&#39;</span><span class="p">,</span><span class="s1">&#39;000000_15&#39;</span><span class="p">,</span><span class="s1">&#39;000000_16&#39;</span><span class="p">,</span><span class="s1">&#39;000000_17&#39;</span><span class="p">,</span><span class="s1">&#39;000000_18&#39;</span><span class="p">,</span><span class="s1">&#39;000000_19&#39;</span><span class="p">,</span><span class="s1">&#39;000000_20&#39;</span><span class="p">,</span><span class="s1">&#39;000000_21&#39;</span><span class="p">,</span><span class="s1">&#39;000000_22&#39;</span><span class="p">,</span><span class="s1">&#39;000000_23&#39;</span><span class="p">,</span><span class="s1">&#39;000000_24&#39;</span><span class="p">,</span><span class="s1">&#39;000000_25&#39;</span><span class="p">,</span><span class="s1">&#39;000000_26&#39;</span><span class="p">,</span><span class="s1">&#39;000000_27&#39;</span><span class="p">,</span><span class="s1">&#39;000000_28&#39;</span><span class="p">,</span><span class="s1">&#39;000000_29&#39;</span><span class="p">,</span><span class="s1">&#39;000000_3&#39;</span><span class="p">,</span><span class="s1">&#39;000000_30&#39;</span><span class="p">,</span><span class="s1">&#39;000000_31&#39;</span><span class="p">,</span><span class="s1">&#39;000000_32&#39;</span><span class="p">,</span><span class="s1">&#39;000000_4&#39;</span><span class="p">,</span><span class="s1">&#39;000000_5&#39;</span><span class="p">,</span><span class="s1">&#39;000000_6&#39;</span><span class="p">,</span><span class="s1">&#39;000000_8&#39;</span><span class="p">,</span><span class="s1">&#39;000000_9&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fraction_threshold&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dependent_variable&#39;</span><span class="p">,</span><span class="s1">&#39;pred&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold_method&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold_multiplier&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_unique_count&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;transform&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_x&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_y&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;x_lim&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outlier_detection&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;agg_type&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_cell_count&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;regression_type&#39;</span><span class="p">,</span><span class="s1">&#39;ols&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;random_row_column_effects&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;split_axis_lims&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cov_type&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_value&#39;</span><span class="p">,[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_column&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plateID&#39;</span><span class="p">,</span><span class="s1">&#39;plate1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_files&#39;</span><span class="p">,[</span><span class="s1">&#39;/home/carruthers/Documents/TGGT1_Summary.csv&#39;</span><span class="p">,</span><span class="s1">&#39;/home/carruthers/Documents/TGME49_Summary.csv&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;volcano&#39;</span><span class="p">,</span><span class="s1">&#39;gene&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;toxo&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;regression_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;quantile&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using alpha as quantile for quantile regression, alpha: </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;alpha&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;agg_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;agg_type set to None for quantile regression&#39;</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_check_cellpose_models_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_check_cellpose_models_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_check_cellpose_models_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for checking Cellpose model predictions.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        batch_size (int): Number of images per batch.</span>
<span class="sd">        CP_prob (float): Cellpose probability threshold.</span>
<span class="sd">        flow_threshold (float): Threshold for mask flow consistency.</span>
<span class="sd">        save (bool): Save output masks to disk.</span>
<span class="sd">        normalize (bool): Normalize image intensities.</span>
<span class="sd">        channels (list): Channel indices for [nucleus, cytoplasm].</span>
<span class="sd">        percentiles (tuple or None): Intensity percentiles for normalization.</span>
<span class="sd">        invert (bool): Invert image intensities.</span>
<span class="sd">        plot (bool): Display Cellpose output.</span>
<span class="sd">        diameter (float): Estimated object diameter.</span>
<span class="sd">        grayscale (bool): Convert image to grayscale.</span>
<span class="sd">        remove_background (bool): Subtract background intensity.</span>
<span class="sd">        background (int): Background value to subtract.</span>
<span class="sd">        Signal_to_noise (int): Signal-to-noise ratio assumption.</span>
<span class="sd">        verbose (bool): Print debug info.</span>
<span class="sd">        resize (bool): Resize image to target dimensions.</span>
<span class="sd">        target_height (int or None): Resize target height.</span>
<span class="sd">        target_width (int or None): Resize target width.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;invert&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grayscale&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_identify_masks_finetune_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_identify_masks_finetune_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_identify_masks_finetune_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default args for identifying masks using fine-tuned Cellpose models.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default args.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Args:</span>
<span class="sd">        src (str): Path to input image directory.</span>
<span class="sd">        model_name (str): Pretrained Cellpose model name (e.g., &#39;cyto&#39;).</span>
<span class="sd">        custom_model (str or None): Path to a fine-tuned model (.pth).</span>
<span class="sd">        channels (list): Channel indices [nucleus, cytoplasm].</span>
<span class="sd">        background (int): Background value to subtract.</span>
<span class="sd">        remove_background (bool): Whether to subtract background.</span>
<span class="sd">        Signal_to_noise (int): Assumed SNR of input.</span>
<span class="sd">        CP_prob (float): Cellpose probability threshold.</span>
<span class="sd">        diameter (float): Estimated diameter of objects.</span>
<span class="sd">        batch_size (int): Number of images per batch.</span>
<span class="sd">        flow_threshold (float): Flow consistency threshold.</span>
<span class="sd">        save (bool): Save output masks to disk.</span>
<span class="sd">        verbose (bool): Print debug information.</span>
<span class="sd">        normalize (bool): Normalize image intensities.</span>
<span class="sd">        percentiles (tuple or None): Percentile normalization bounds.</span>
<span class="sd">        invert (bool): Invert intensities.</span>
<span class="sd">        resize (bool): Resize image to target dimensions.</span>
<span class="sd">        target_height (int or None): Resize target height.</span>
<span class="sd">        target_width (int or None): Resize target width.</span>
<span class="sd">        rescale (bool): Rescale image based on object size.</span>
<span class="sd">        resample (bool): Resample image for consistent shape.</span>
<span class="sd">        grayscale (bool): Convert to grayscale.</span>
<span class="sd">        fill_in (bool): Fill in holes in masks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_name&#39;</span><span class="p">,</span> <span class="s1">&#39;cyto&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;invert&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;rescale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resample&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grayscale&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_in&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="q">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.q">[docs]</a>
<span class="n">q</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="expected_types">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.expected_types">[docs]</a>
<span class="n">expected_types</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s2">&quot;metadata_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_regex&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;cov_type&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;magnification&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;nucleus_background&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;cell_background&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_FT&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;pathogen_background&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;preprocess&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;masks&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;randomize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="c1">#&quot;timelapse_frame_limits&quot;: (list, type(None)),  # This can be a list of lists</span>
    <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;fps&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;lower_percentile&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalize_plots&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;all_to_mip&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;pick_slice&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;skip_mode&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cell_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;save_png&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;crop_mode&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_size&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;normalize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_dims&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;normalize_by&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_measurements&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;uninfected&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_loc&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogens&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_loc&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;treatments&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;treatment_loc&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;compartments&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nr_imgs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;filter_min_max&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;channel_dims&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;backgrounds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;outline_thickness&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;outline_color&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;overlay_chans&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;overlay&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalization_percentiles&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;fill_in&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;upscale&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;upscale_factor&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;adjust_cells&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;row_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;visualize&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;image_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;dot_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_neighbors&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;min_dist&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;min_samples&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;filter_by&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;img_zoom&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;log_data&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;black_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_outlines&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_points&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;smooth_lines&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;clustering&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;exclude&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;col_to_compare&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pos&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;neg&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_images&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;reduction_method&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_figure&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;color_by&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;analyze_clusters&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;resnet_features&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;radial_dist&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;homogeneity&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;save_arrays&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cytoplasm&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cells_per_well&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;grouping&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;min_max&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;test_size&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;location_column&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;positive_control&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;negative_control&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;n_repeats&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;top_features&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;loss_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;image_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;epochs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;val_split&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;dropout_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;init_weights&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;amsgrad&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;use_checkpoint&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;intermedeate_save&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;pin_memory&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;augment&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;cell_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="s2">&quot;metadata_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;plot_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;plot_control&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;upstream&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;downstream&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;barecode_length_1&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;barecode_length_2&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;grna&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;barcodes&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;plate_dict&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="s2">&quot;pc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pc_loc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nc_loc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;dependent_variable&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;agg_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;min_cell_count&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;denoise&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target_height&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;target_width&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;rescale&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;resample&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_epochs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;from_scratch&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;width_height&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;complevel&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;gene_weights_csv&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;barcode_mapping&quot;</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span>
    <span class="s2">&quot;redunction_method&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;mix&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;model_type_ml&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;barcode_coordinates&#39;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>  <span class="c1"># This is a list of lists </span>
    <span class="s1">&#39;reverse_complement&#39;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;file_type&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;model_path&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;dataset&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;score_threshold&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;file_metadata&#39;</span><span class="p">:(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s1">&#39;apply_model_to_dataset&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;train&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;train_channels&#39;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;optimizer_type&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;dataset_mode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;annotated_classes&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;annotation_column&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;metadata_type_by&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_measurement&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_model&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_type&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_model_path&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;generate_training_dataset&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;train_DL_model&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalize&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;overlay&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;correlate&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target_layer&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_to_db&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_mode&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_images&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;figuresize&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cmap&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_model&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;normalize_input&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;filter_column&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;target_unique_count&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;threshold_multiplier&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;threshold_method&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;count_data&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;score_data&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;min_n&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;controls&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;toxo&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;volcano&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;metadata_files&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;filter_value&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;split_axis_lims&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;x_lim&quot;</span><span class="p">:(</span><span class="nb">list</span><span class="p">,</span><span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;log_x&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;log_y&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;reg_alpha&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;reg_lambda&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;prune_features&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cross_validation&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;offset_start&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;single_direction&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;outlier_detection&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;CP_prob&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;diameter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;flow_threshold&quot;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;cell_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;consolidate&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;use_sam_cell&#39;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;use_sam_nucleus&#39;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;use_sam_pathogen&#39;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;distance_gaussian_sigma&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))</span>
<span class="p">}</span></div>


<div class="viewcode-block" id="categories">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.categories">[docs]</a>
<span class="n">categories</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Paths&quot;</span><span class="p">:[</span> <span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="s2">&quot;grna&quot;</span><span class="p">,</span> <span class="s2">&quot;barcodes&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_model_path&quot;</span><span class="p">,</span> <span class="s2">&quot;dataset&quot;</span><span class="p">,</span><span class="s2">&quot;model_path&quot;</span><span class="p">,</span><span class="s2">&quot;grna_csv&quot;</span><span class="p">,</span><span class="s2">&quot;row_csv&quot;</span><span class="p">,</span><span class="s2">&quot;column_csv&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_files&quot;</span><span class="p">,</span> <span class="s2">&quot;score_data&quot;</span><span class="p">,</span><span class="s2">&quot;count_data&quot;</span><span class="p">],</span>
             <span class="s2">&quot;General&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;cytoplasm&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_channel&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">,</span>  <span class="s2">&quot;test_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;plot&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_type&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_regex&quot;</span><span class="p">,</span> <span class="s2">&quot;experiment&quot;</span><span class="p">,</span> <span class="s2">&quot;channels&quot;</span><span class="p">,</span> <span class="s2">&quot;magnification&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">,</span> <span class="s2">&quot;generate_training_dataset&quot;</span><span class="p">,</span> <span class="s2">&quot;train_DL_model&quot;</span><span class="p">,</span> <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">,</span> <span class="s2">&quot;uninfected&quot;</span><span class="p">,</span> <span class="p">],</span>
             <span class="s2">&quot;Cellpose&quot;</span><span class="p">:[</span><span class="s2">&quot;fill_in&quot;</span><span class="p">,</span><span class="s2">&quot;from_scratch&quot;</span><span class="p">,</span> <span class="s2">&quot;n_epochs&quot;</span><span class="p">,</span> <span class="s2">&quot;width_height&quot;</span><span class="p">,</span> <span class="s2">&quot;model_name&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_model&quot;</span><span class="p">,</span> <span class="s2">&quot;resample&quot;</span><span class="p">,</span> <span class="s2">&quot;rescale&quot;</span><span class="p">,</span> <span class="s2">&quot;CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;flow_threshold&quot;</span><span class="p">,</span> <span class="s2">&quot;percentiles&quot;</span><span class="p">,</span> <span class="s2">&quot;invert&quot;</span><span class="p">,</span> <span class="s2">&quot;diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;grayscale&quot;</span><span class="p">,</span> <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;resize&quot;</span><span class="p">,</span> <span class="s2">&quot;target_height&quot;</span><span class="p">,</span> <span class="s2">&quot;target_width&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Cell&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cell_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_background&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;adjust_cells&quot;</span><span class="p">,</span> <span class="s2">&quot;cells&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_loc&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Nucleus&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;nucleus_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_background&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_loc&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Pathogen&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;pathogen_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_background&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_model&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogens&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_types&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">,</span> <span class="p">],</span>
             <span class="s2">&quot;Measurements&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">,</span> <span class="s2">&quot;homogeneity&quot;</span><span class="p">,</span> <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">,</span> <span class="s2">&quot;radial_dist&quot;</span><span class="p">,</span> <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">,</span> <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">,</span> <span class="s2">&quot;save_measurements&quot;</span><span class="p">,</span> <span class="s2">&quot;tables&quot;</span><span class="p">,</span> <span class="s2">&quot;image_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;dot_size&quot;</span><span class="p">,</span> <span class="s2">&quot;filter_by&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Object Image&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;save_png&quot;</span><span class="p">,</span> <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">,</span> <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">,</span> <span class="s2">&quot;png_size&quot;</span><span class="p">,</span> <span class="s2">&quot;png_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;save_arrays&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_by&quot;</span><span class="p">,</span> <span class="s2">&quot;crop_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Sequencing&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;outlier_detection&quot;</span><span class="p">,</span><span class="s2">&quot;offset_start&quot;</span><span class="p">,</span><span class="s2">&quot;chunk_size&quot;</span><span class="p">,</span><span class="s2">&quot;single_direction&quot;</span><span class="p">,</span> <span class="s2">&quot;signal_direction&quot;</span><span class="p">,</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span><span class="s2">&quot;comp_level&quot;</span><span class="p">,</span><span class="s2">&quot;comp_type&quot;</span><span class="p">,</span><span class="s2">&quot;save_h5&quot;</span><span class="p">,</span><span class="s2">&quot;expected_end&quot;</span><span class="p">,</span><span class="s2">&quot;offset&quot;</span><span class="p">,</span><span class="s2">&quot;target_sequence&quot;</span><span class="p">,</span><span class="s2">&quot;regex&quot;</span><span class="p">,</span> <span class="s2">&quot;highlight&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Generate Dataset&quot;</span><span class="p">:[</span><span class="s2">&quot;save_to_db&quot;</span><span class="p">,</span><span class="s2">&quot;file_metadata&quot;</span><span class="p">,</span><span class="s2">&quot;class_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;annotation_column&quot;</span><span class="p">,</span><span class="s2">&quot;annotated_classes&quot;</span><span class="p">,</span> <span class="s2">&quot;dataset_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_type_by&quot;</span><span class="p">,</span><span class="s2">&quot;custom_measurement&quot;</span><span class="p">,</span> <span class="s2">&quot;sample&quot;</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Training)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;png_type&quot;</span><span class="p">,</span> <span class="s2">&quot;score_threshold&quot;</span><span class="p">,</span><span class="s2">&quot;file_type&quot;</span><span class="p">,</span> <span class="s2">&quot;train_channels&quot;</span><span class="p">,</span> <span class="s2">&quot;epochs&quot;</span><span class="p">,</span> <span class="s2">&quot;loss_type&quot;</span><span class="p">,</span> <span class="s2">&quot;optimizer_type&quot;</span><span class="p">,</span><span class="s2">&quot;image_size&quot;</span><span class="p">,</span><span class="s2">&quot;val_split&quot;</span><span class="p">,</span><span class="s2">&quot;learning_rate&quot;</span><span class="p">,</span><span class="s2">&quot;weight_decay&quot;</span><span class="p">,</span><span class="s2">&quot;dropout_rate&quot;</span><span class="p">,</span> <span class="s2">&quot;init_weights&quot;</span><span class="p">,</span> <span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">,</span> <span class="s2">&quot;augment&quot;</span><span class="p">,</span> <span class="s2">&quot;amsgrad&quot;</span><span class="p">,</span><span class="s2">&quot;use_checkpoint&quot;</span><span class="p">,</span><span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">,</span><span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">,</span><span class="s2">&quot;intermedeate_save&quot;</span><span class="p">,</span><span class="s2">&quot;pin_memory&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Embedding)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;visualize&quot;</span><span class="p">,</span><span class="s2">&quot;n_neighbors&quot;</span><span class="p">,</span><span class="s2">&quot;min_dist&quot;</span><span class="p">,</span><span class="s2">&quot;metric&quot;</span><span class="p">,</span><span class="s2">&quot;resnet_features&quot;</span><span class="p">,</span><span class="s2">&quot;reduction_method&quot;</span><span class="p">,</span><span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">,</span><span class="s2">&quot;col_to_compare&quot;</span><span class="p">,</span><span class="s2">&quot;log_data&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Clustering)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;eps&quot;</span><span class="p">,</span><span class="s2">&quot;min_samples&quot;</span><span class="p">,</span><span class="s2">&quot;analyze_clusters&quot;</span><span class="p">,</span><span class="s2">&quot;clustering&quot;</span><span class="p">,</span><span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Regression)&quot;</span><span class="p">:[</span><span class="s2">&quot;cross_validation&quot;</span><span class="p">,</span><span class="s2">&quot;prune_features&quot;</span><span class="p">,</span><span class="s2">&quot;reg_lambda&quot;</span><span class="p">,</span><span class="s2">&quot;reg_alpha&quot;</span><span class="p">,</span><span class="s2">&quot;cov_type&quot;</span><span class="p">,</span> <span class="s2">&quot;plate&quot;</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">,</span> <span class="s2">&quot;alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;random_row_column_effects&quot;</span><span class="p">,</span> <span class="s2">&quot;regression_type&quot;</span><span class="p">,</span> <span class="s2">&quot;min_cell_count&quot;</span><span class="p">,</span> <span class="s2">&quot;agg_type&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="s2">&quot;dependent_variable&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Activation)&quot;</span><span class="p">:[</span><span class="s2">&quot;cam_type&quot;</span><span class="p">,</span> <span class="s2">&quot;overlay&quot;</span><span class="p">,</span> <span class="s2">&quot;correlation&quot;</span><span class="p">,</span> <span class="s2">&quot;target_layer&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_input&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Annotation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;filter_column&quot;</span><span class="p">,</span> <span class="s2">&quot;filter_value&quot;</span><span class="p">,</span><span class="s2">&quot;volcano&quot;</span><span class="p">,</span> <span class="s2">&quot;toxo&quot;</span><span class="p">,</span> <span class="s2">&quot;controls&quot;</span><span class="p">,</span> <span class="s2">&quot;nc_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;pc_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;nc&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">,</span><span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_types&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_types&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">,</span><span class="s2">&quot;positive_control&quot;</span><span class="p">,</span><span class="s2">&quot;negative_control&quot;</span><span class="p">,</span> <span class="s2">&quot;location_column&quot;</span><span class="p">,</span> <span class="s2">&quot;treatment_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">,</span> <span class="s2">&quot;measurement&quot;</span><span class="p">,</span> <span class="s2">&quot;treatments&quot;</span><span class="p">,</span> <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">,</span> <span class="s2">&quot;nr_imgs&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">,</span> <span class="s2">&quot;mix&quot;</span><span class="p">,</span> <span class="s2">&quot;pos&quot;</span><span class="p">,</span> <span class="s2">&quot;neg&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Plot&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;split_axis_lims&quot;</span><span class="p">,</span> <span class="s2">&quot;x_lim&quot;</span><span class="p">,</span><span class="s2">&quot;log_x&quot;</span><span class="p">,</span><span class="s2">&quot;log_y&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_control&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_plots&quot;</span><span class="p">,</span> <span class="s2">&quot;cmap&quot;</span><span class="p">,</span> <span class="s2">&quot;figuresize&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">,</span> <span class="s2">&quot;img_zoom&quot;</span><span class="p">,</span> <span class="s2">&quot;row_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;color_by&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_images&quot;</span><span class="p">,</span> <span class="s2">&quot;smooth_lines&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_points&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_outlines&quot;</span><span class="p">,</span> <span class="s2">&quot;black_background&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">,</span><span class="s2">&quot;grouping&quot;</span><span class="p">,</span><span class="s2">&quot;min_max&quot;</span><span class="p">,</span><span class="s2">&quot;cmap&quot;</span><span class="p">,</span><span class="s2">&quot;save_figure&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Timelapse&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;timelapse&quot;</span><span class="p">,</span> <span class="s2">&quot;fps&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">,</span> <span class="s2">&quot;compartments&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Advanced&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">,</span> <span class="s2">&quot;test_images&quot;</span><span class="p">,</span> <span class="s2">&quot;random_test&quot;</span><span class="p">,</span> <span class="s2">&quot;test_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;test_split&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize&quot;</span><span class="p">,</span> <span class="s2">&quot;target_unique_count&quot;</span><span class="p">,</span><span class="s2">&quot;threshold_multiplier&quot;</span><span class="p">,</span> <span class="s2">&quot;threshold_method&quot;</span><span class="p">,</span> <span class="s2">&quot;min_n&quot;</span><span class="p">,</span><span class="s2">&quot;shuffle&quot;</span><span class="p">,</span> <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">,</span> <span class="s2">&quot;cells_per_well&quot;</span><span class="p">,</span> <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span> <span class="s2">&quot;backgrounds&quot;</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">,</span> <span class="s2">&quot;test_size&quot;</span><span class="p">,</span><span class="s2">&quot;exclude&quot;</span><span class="p">,</span><span class="s2">&quot;n_repeats&quot;</span><span class="p">,</span><span class="s2">&quot;top_features&quot;</span><span class="p">,</span> <span class="s2">&quot;model_type_ml&quot;</span><span class="p">,</span> <span class="s2">&quot;model_type&quot;</span><span class="p">,</span><span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">,</span><span class="s2">&quot;n_estimators&quot;</span><span class="p">,</span><span class="s2">&quot;preprocess&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize&quot;</span><span class="p">,</span> <span class="s2">&quot;lower_percentile&quot;</span><span class="p">,</span> <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">,</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">,</span> <span class="s2">&quot;filter&quot;</span><span class="p">,</span> <span class="s2">&quot;save&quot;</span><span class="p">,</span> <span class="s2">&quot;masks&quot;</span><span class="p">,</span> <span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="s2">&quot;randomize&quot;</span><span class="p">,</span> <span class="s2">&quot;n_jobs&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Beta&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all_to_mip&quot;</span><span class="p">,</span> <span class="s2">&quot;upscale&quot;</span><span class="p">,</span> <span class="s2">&quot;upscale_factor&quot;</span><span class="p">,</span> <span class="s2">&quot;consolidate&quot;</span><span class="p">,</span> <span class="s2">&quot;distance_gaussian_sigma&quot;</span><span class="p">,</span><span class="s2">&quot;use_sam_pathogen&quot;</span><span class="p">,</span><span class="s2">&quot;use_sam_nucleus&quot;</span><span class="p">,</span> <span class="s2">&quot;use_sam_cell&quot;</span><span class="p">,</span> <span class="s2">&quot;denoise&quot;</span><span class="p">]</span>
             <span class="p">}</span></div>



<div class="viewcode-block" id="category_keys">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.category_keys">[docs]</a>
<span class="n">category_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">categories</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>


<div class="viewcode-block" id="check_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.check_settings">[docs]</a>
<span class="k">def</span> <span class="nf">check_settings</span><span class="p">(</span><span class="n">vars_dict</span><span class="p">,</span> <span class="n">expected_types</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate and parse GUI-derived variable inputs according to expected types.</span>

<span class="sd">    Args:</span>
<span class="sd">        vars_dict (dict): Dictionary mapping setting keys to a tuple of (label, widget, variable, category).</span>
<span class="sd">        expected_types (dict): Dictionary of expected types for each setting key.</span>
<span class="sd">        q (multiprocessing.Queue, optional): Queue to collect error messages. If None, a new queue is created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple:</span>
<span class="sd">            - settings (dict): Parsed settings with values cast to the expected types.</span>
<span class="sd">            - errors (list): List of error messages describing issues with format or type mismatches.</span>

<span class="sd">    Notes:</span>
<span class="sd">        - Supports nested structures such as list of lists and dicts.</span>
<span class="sd">        - Handles conversions to str, int, float, bool, list, dict, and None.</span>
<span class="sd">        - Custom parsing is performed for complex input types like Cellpose metadata or PNG config lists.</span>
<span class="sd">        - Errors are collected and returned without interrupting the full parsing process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">.gui_utils</span> <span class="kn">import</span> <span class="n">parse_list</span>

    <span class="k">if</span> <span class="n">q</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Queue</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>

    <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Collect errors instead of stopping at the first one</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">vars_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">expected_types</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">category_keys</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Key &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; not found in expected types.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">expected_type</span> <span class="o">=</span> <span class="n">expected_types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">,</span> <span class="s2">&quot;png_size&quot;</span><span class="p">,</span> <span class="s2">&quot;png_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">,</span> <span class="s2">&quot;class_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;crop_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">parsed_value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">parsed_value</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a list or list of lists but got an invalid format: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">parsed_value</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">parsed_value</span><span class="p">):</span>
                        <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parsed_value</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid format: &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; contains mixed types (single values and lists).&quot;</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a list for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an integer or None for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a float or None for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an integer or float for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="n">parsed_dict</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a string representation of a dictionary.&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a dictionary for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parsed_dict</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: Invalid dictionary format for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;. Expected type: dict. Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">typ</span> <span class="ow">in</span> <span class="n">expected_type</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">typ</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                        <span class="k">break</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                        <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; does not match any expected types: </span><span class="si">{</span><span class="n">expected_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">expected_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected type </span><span class="si">{</span><span class="n">expected_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">expected_type_name</span> <span class="o">=</span> <span class="s1">&#39; or &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">expected_type</span><span class="p">])</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="k">else</span> <span class="n">expected_type</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; has invalid format. Expected type: </span><span class="si">{</span><span class="n">expected_type_name</span><span class="si">}</span><span class="s2">. Got value: &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;. Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Send all collected errors to the queue</span>
    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
        <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span><span class="p">,</span> <span class="n">errors</span></div>


<div class="viewcode-block" id="generate_fields">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.generate_fields">[docs]</a>
<span class="k">def</span> <span class="nf">generate_fields</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="n">scrollable_frame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dynamically generate labeled input fields with tooltips in a scrollable Tkinter frame.</span>

<span class="sd">    Args:</span>
<span class="sd">        variables (dict): Dictionary mapping setting keys to (var_type, options, default_value).</span>
<span class="sd">        scrollable_frame (ScrollableFrame): A scrollable frame widget to place the input fields into.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vars_dict (dict): Dictionary mapping each setting key to a tuple of (label, widget, variable, parent frame).</span>

<span class="sd">    Notes:</span>
<span class="sd">        - Uses `create_input_field` to generate the widgets.</span>
<span class="sd">        - Attaches tooltips using `spacrToolTip` where available.</span>
<span class="sd">        - Tooltips describe the expected format, data type, and function of each setting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">.gui_utils</span> <span class="kn">import</span> <span class="n">create_input_field</span>
    <span class="kn">from</span> <span class="nn">.gui_elements</span> <span class="kn">import</span> <span class="n">spacrToolTip</span>
    <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vars_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">tooltips</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;cell_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adjust_cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Adjust cell parameters for better segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;agg_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of aggregation to use for the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Alpha parameter for the regression model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;all_to_mip&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to convert all images to maximum intensity projections before processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amsgrad&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use AMSGrad optimizer.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;analyze_clusters&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to analyze the resulting clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;augment&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Data augmentation settings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Background intensity for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;backgrounds&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Background settings for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcodes&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the file containing barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The batch size to use for processing the images. This will determine how many images are processed at once. Images are normalized and segmented in batches. Lower if application runs out of RAM or VRAM.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;black_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use a black background for plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to calculate correlations between features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the cell channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the nucleus channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the pathogen channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for cell objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for nucleus objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for pathogen objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the cell channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the nucleus channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the pathogen channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Dimension of the channel to use for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin cell masks. If None, cell masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin nucleus masks. If None, nucleus masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin pathogen masks. If None, pathogen masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Intensity range for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The locations of the cell types in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the cell mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the nucleus mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of cell objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the cell plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the cell channel. This will be used to determine the range of intensities to normalize images to for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_size_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Size range for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of cells to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(list of lists) - The cell types to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cells_per_well&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of cells per well.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channel_dims&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The dimensions of the image channels.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel of interest to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - List of channels to use for the analysis. The first channel is 0, the second is 1, and so on. For example, [0,1,2] will use channels 0, 1, and 2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Chunk size for processing the sequencing data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Classes to include in the training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;class_1_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Threshold for class 1 classification.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clustering&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Clustering algorithm to use.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;col_to_compare&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Column to compare in the embeddings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Coloring scheme for the plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;compartments&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The compartments to measure in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;consolidate&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Consolidate image files from subfolders into one folder named consolidated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Cellpose probability threshold for segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;crop_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode to use for cropping images (cell, nucleus, pathogen, cytoplasm).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_model&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to a custom Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Custom regex pattern to extract metadata from the image names. This will only be used if &#39;custom&#39; or &#39;auto&#39; is selected for &#39;metadata_type&#39;.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cytoplasm&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to segment the cytoplasm (Cell - Nucleus + Pathogen).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of cytoplasm objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of nucleus objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Normalize cropped png images by png or by field of view.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dependent_variable&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The dependent variable for the regression analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Delete intermediate folders (stack, channel, masks).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;diameter&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Diameter of the objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The ratios to use for dilating the PNG images. This will determine the amount of dilation applied to the images before cropping.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to dilate the PNG images before saving.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dot_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Size of dots in scatter plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;downstream&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Downstream region for sequencing analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dropout_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Dropout rate for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Epsilon parameter for clustering.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;epochs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of epochs for training the deep learning model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The number of images to plot for each segmented object. This will be used to visually inspect the segmentation results and normalization.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exclude&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Conditions to exclude from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Specific conditions to exclude from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Name of the experiment. This will be used to name the output files.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;figuresize&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Size of the figures to plot.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Filter settings for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filter_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Feature to filter the data by.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fill_in&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to fill in the segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flow_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Flow threshold for segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fps&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Frames per second of the automatically generated timelapse movies.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Threshold for the fraction of cells to consider in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;from_scratch&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to train the Cellpose model from scratch.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gene_weights_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the CSV file containing gene weights.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use gradient accumulation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of steps for gradient accumulation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grayscale&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to process the images in grayscale.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grna&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the file containing gRNA sequences.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grouping&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Grouping variable for plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Feature to use for generating heatmaps.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;homogeneity&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Measure of homogeneity for the objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Distances to use for measuring homogeneity.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of images to process.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Size of the images for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;img_zoom&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Zoom factor for the images in plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Whether to include multinucleated cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Whether to include multi-infected cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uninfected&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to include uninfected cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;init_weights&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to initialize weights for the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the folder containing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;intermedeate_save&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save intermediate results.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;invert&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to invert the image intensities.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Learning rate for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;location_column&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Column name for the location information.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;log_data&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to log-transform the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lower_percentile&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The lower quantile to use for normalizing the images. This will be used to determine the range of intensities to normalize images to.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;magnification&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - At what magnification the images were taken. This will be used to determine the size of the objects in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Thresholds for Manders&#39; coefficients.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mask&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to generate masks for the segmented objects. If True, masks will be generated for the nucleus, cell, and pathogen.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The measurement to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of metadata to expect in the images. If &#39;custom&#39; is selected, you can provide a custom regex pattern to extract metadata from the image names. auto will attempt to automatically extract metadata from the image names. cellvoyager and cq1 will use the default metadata extraction for CellVoyager and CQ1 images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of metadata to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to merge cells that share pathogen objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to merge pathogen objects that share more than 75 percent of their perimeter.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metric to use for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_cell_count&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of cells required for analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_dist&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Minimum distance for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_max&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Minimum and maximum values for normalizing plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_samples&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of samples for clustering.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mix&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Mixing settings for the samples.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Name of the Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of model to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_type_ml&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of model to use for machine learning.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Negative control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Location of the negative control in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;negative_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Identifier for the negative control.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of estimators for the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_epochs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of epochs for training the Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The number of n_jobs to use for processing the images. This will determine how many images are processed in parallel. Increase to speed up processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_neighbors&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of neighbors for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_repeats&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of repeats for the pathogen plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the pathogen channel. This will be used to determine the range of intensities to normalize images to for pathogen segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the nucleus channel. This will be used to determine the range of intensities to normalize images to for nucleus segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Size range for pathogen segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of pathogens to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Positive control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pc_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Location of the positive control in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;percentiles&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Percentiles to use for normalizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pin_memory&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to pin memory for the data loader.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plate&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Plate identifier for the experiment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plate_dict&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Dictionary of plate metadata.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot the results.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot images by clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot grids of clustered images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Control settings for plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_images&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of plots to generate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_outlines&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot outlines of segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;png_dims&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The dimensions of the PNG images to save. This will determine the dimensions of the saved images. Maximum of 3 dimensions e.g. [1,2,3].&quot;</span><span class="p">,</span>
        <span class="s2">&quot;png_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The size of the PNG images to save. This will determine the size of the saved images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;positive_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Identifier for the positive control.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;preprocess&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to preprocess the images before segmentation. This includes background removal and normalization. Set to False only if this step has already been done.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;radial_dist&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Radial distances for measuring features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;random_test&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to randomly select images for testing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;randomize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to randomize the order of the images before processing. Recommended to avoid bias in the segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;regression_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of regression to perform.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the images. This will help improve the quality of the segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the cell channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the nucleus channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the pathogen channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove noise from the clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove highly correlated features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove highly correlated features from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove the image canvas after plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove low variance features from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;random_row_column_effects&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove row and column effects from the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Resize factor for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resample&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to resample the images during processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rescale&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Rescaling factor for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;reduction_method&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Dimensionality reduction method to use ().&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resnet_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use ResNet features for embedding.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;row_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Limit on the number of rows to plot.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the results to disk.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_arrays&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save arrays of segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_figure&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the generated figures.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_measurements&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the measurements to disk.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_png&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the segmented objects as PNG images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Schedule for processing the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Signal-to-noise ratio for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;skip_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The mode to use for skipping images. This will determine how to handle images that cannot be processed.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;smooth_lines&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to smooth lines in the plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;(str, path) - Path to source directory.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Target variable for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_height&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Target height for resizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Minimum intensity for the target objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_width&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Target width for resizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Tables to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to run the pipeline in test mode.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_images&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - List of images to use for testing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Mode to use for testing the analysis pipeline.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of test images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Size of the test set.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatment_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The locations of the treatments in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatments&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The treatments to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;top_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Top features to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to train the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Transformation to apply to the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upscale&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to upscale the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upscale_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Factor by which to upscale the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upstream&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Upstream region for sequencing analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;val_split&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Validation split ratio.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;visualize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to visualize the embeddings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to print verbose output during processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Weight decay for regularization.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;width_height&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Width and height of the input images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcode_coordinates&quot;</span><span class="p">:</span> <span class="s2">&quot;(list of lists) - Coordinates of the barcodes in the sequence.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcode_mapping&quot;</span><span class="p">:</span> <span class="s2">&quot;dict - names and barecode csv files&quot;</span><span class="p">,</span>
        <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;str - type of compression (e.g. zlib)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;complevel&quot;</span><span class="p">:</span> <span class="s2">&quot;int - level of compression (0-9). Higher is slower and yealds smaller files&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file_type&quot;</span><span class="p">:</span> <span class="s2">&quot;str - type of file to process&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_path&quot;</span><span class="p">:</span> <span class="s2">&quot;str - path to the model&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;str - file name of the tar file with image dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;float - threshold for classification&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sample&quot;</span><span class="p">:</span> <span class="s2">&quot;str - number of images to sample for tar dataset (including both classes). Default: None&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;str or list of strings - string(s) that must be present in image path to be included in the dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;bool - whether to apply model to the dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;train_channels&quot;</span><span class="p">:</span> <span class="s2">&quot;list - channels to use for training&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;str - How to generate train/test dataset.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;annotated_classes&quot;</span><span class="p">:</span> <span class="s2">&quot;list - list of numbers in annotation column.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The micrometers per pixel for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_model&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - use a custom cellpose model to detect pathogen objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Displacement for timelapse tracking.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Memory for timelapse tracking.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode for timelapse tracking, trackpy or btrack.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Frame limits for timelapse tracking [start,end].&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Objects to track in the timelapse, cells, nuclei, or pathogens.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove transient objects in the timelapse.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;masks&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to generate masks for the segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to analyze images as a timelapse.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of pathogen objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the pathogen mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use the bounding box for cropping the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_points&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot scatterplot points.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Use the controlls to greate the embedding, then apply this embedding to all of the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pos&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Positive control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;neg&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Negative control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of cells/well. if number of cells &lt; minimum_cell_count, the well is excluded from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;highlight&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - highlight genes/grnas containing this string.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the pathogen plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the treatment plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;regex&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Regular expression to use.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_sequence&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The DNA sequence to look for that the consensus sequence will start with directly downstream of the first barcode.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The offset to use for the consensus sequence, e.g. -8 if the barecode is 8 bases before target_sequence.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected_end&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The expected length of the sequence from the start of the first barcode to the end of the last.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;column_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing column barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;row_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing row barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grna_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing gRNA sequences.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_h5&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the results to an HDF5 file. (this generates a large file, if compression is used this can be very time consuming)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;comp_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Compression type for the HDF5 file (e.g. zlib).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;comp_level&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Compression level for the HDF5 file (0-9). Higher is slower and yields smaller files.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode to use for sequence analysis (either single for R1 or R2 fastq files or paired for the combination of R1 and R2).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;signal_direction&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Direction of fastq file (R1 or R2). only relevent when mode is single.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_model_path&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the custom model to finetune.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cam_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Choose between: gradcam, gradcam_pp, saliency_image, saliency_channel to generate activateion maps of DL models&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_layer&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Only used for gradcam and gradcam_pp. The layer to use for the activation map.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize images before overlayng the activation maps.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;overlay&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Overlay activation maps on the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shuffle&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Shuffle the dataset bufore generating the activation maps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Calculate correlation between image channels and activation maps. Data is saved to .db.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use_sam_cell&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use SAM for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use_sam_nucleus&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use SAM for nucleus segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use_sam_pathogen&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use SAM for pathogen segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_input&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize the input images before passing them to the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_plots&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize images before plotting.&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="n">var_type</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">variables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">create_input_field</span><span class="p">(</span><span class="n">scrollable_frame</span><span class="o">.</span><span class="n">scrollable_frame</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
        <span class="n">vars_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>  <span class="c1"># Store the label, widget, and variable</span>
        
        <span class="c1"># Add tooltip to the label if it exists in the tooltips dictionary</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">tooltips</span><span class="p">:</span>
            <span class="n">spacrToolTip</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">tooltips</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="k">return</span> <span class="n">vars_dict</span></div>


<div class="viewcode-block" id="descriptions">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.descriptions">[docs]</a>
<span class="n">descriptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Help:</span><span class="se">\n</span><span class="s2">- Generate Cells, Nuclei, Pathogens, and Cytoplasm masks from intensity images in src.</span><span class="se">\n</span><span class="s2">- To ensure that spacr is installed correctly:</span><span class="se">\n</span><span class="s2">- 1. Downloade the training set (click Download).</span><span class="se">\n</span><span class="s2">- 2. Import settings (click settings navigate to downloaded dataset settings folder and import preprocess_generate_masks_settings.csv).</span><span class="se">\n</span><span class="s2">- 3. Run the module.</span><span class="se">\n</span><span class="s2">- 4. Proceed to the Measure module (click Measure in the menue bar).</span><span class="se">\n</span><span class="s2">- For further help, click the Help button in the menue bar.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;measure&#39;</span><span class="p">:</span> <span class="s2">&quot;Capture Measurements from Cells, Nuclei, Pathogens, and Cytoplasm objects. Generate single object PNG images for one or several objects. (Requires masks from the Mask module). Function: measure_crop from spacr.measure.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Comprehensive Measurement Capture: Obtain detailed measurements for various cellular components, including area, perimeter, intensity, and more.</span><span class="se">\n</span><span class="s2">- Image Generation: Create high-resolution PNG images of individual objects, facilitating further analysis and visualization.</span><span class="se">\n</span><span class="s2">- Mask Dependency: Requires accurate masks generated by the Mask module to ensure precise measurements.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;classify&#39;</span><span class="p">:</span> <span class="s2">&quot;Train and Test any Torch Computer vision model. (Requires PNG images from the Measure module). Function: train_test_model from spacr.deep_spacr.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Deep Learning Integration: Train and evaluate state-of-the-art Torch models for various classification tasks.</span><span class="se">\n</span><span class="s2">- Flexible Training: Supports a wide range of Torch models, allowing customization based on specific research needs.</span><span class="se">\n</span><span class="s2">- Data Requirement: Requires PNG images generated by the Measure module for training and testing.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;umap&#39;</span><span class="p">:</span> <span class="s2">&quot;Generate UMAP or tSNE embeddings and represent points as single cell images. (Requires measurements.db and PNG images from the Measure module). Function: generate_image_umap from spacr.core.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Dimensionality Reduction: Employ UMAP or tSNE algorithms to reduce high-dimensional data into two dimensions for visualization.</span><span class="se">\n</span><span class="s2">- Single Cell Representation: Visualize embedding points as single cell images, providing an intuitive understanding of data clusters.</span><span class="se">\n</span><span class="s2">- Data Integration: Requires measurements and images generated by the Measure module, ensuring comprehensive data representation.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;train_cellpose&#39;</span><span class="p">:</span> <span class="s2">&quot;Train custom Cellpose models for your specific dataset. Function: train_cellpose_model from spacr.core.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Custom Model Training: Train Cellpose models on your dataset to improve segmentation accuracy.</span><span class="se">\n</span><span class="s2">- Data Adaptation: Tailor the model to handle specific types of biological samples more effectively.</span><span class="se">\n</span><span class="s2">- Advanced Training Options: Supports various training parameters and configurations for optimized performance.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;ml_analyze&#39;</span><span class="p">:</span> <span class="s2">&quot;Perform machine learning analysis on your data. Function: ml_analysis_tools from spacr.ml.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Comprehensive Analysis: Utilize a suite of machine learning tools for data analysis.</span><span class="se">\n</span><span class="s2">- Customizable Workflows: Configure and run different ML algorithms based on your research requirements.</span><span class="se">\n</span><span class="s2">- Integration: Works seamlessly with other modules to analyze data produced from various steps.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;cellpose_masks&#39;</span><span class="p">:</span> <span class="s2">&quot;Generate masks using Cellpose for all images in your dataset. Function: generate_masks from spacr.cellpose.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Batch Processing: Generate masks for large sets of images efficiently.</span><span class="se">\n</span><span class="s2">- Robust Segmentation: Leverage Cellpose&#39;s capabilities for accurate segmentation across diverse samples.</span><span class="se">\n</span><span class="s2">- Automation: Automate the mask generation process for streamlined workflows.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;cellpose_all&#39;</span><span class="p">:</span> <span class="s2">&quot;Run Cellpose on all images in your dataset and obtain masks and measurements. Function: cellpose_analysis from spacr.cellpose.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- End-to-End Analysis: Perform both segmentation and measurement extraction in a single step.</span><span class="se">\n</span><span class="s2">- Efficiency: Process entire datasets with minimal manual intervention.</span><span class="se">\n</span><span class="s2">- Comprehensive Output: Obtain detailed masks and corresponding measurements for further analysis.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;map_barcodes&#39;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Help:</span><span class="se">\n</span><span class="s2">- 1 .Generate consensus read fastq files from R1 and R2 files.</span><span class="se">\n</span><span class="s2">- 2. Map barcodes from sequencing data for identification and tracking of samples.</span><span class="se">\n</span><span class="s2">- 3. Run the module to extract and map barcodes from your FASTQ files in chunks.</span><span class="se">\n</span><span class="s2">- Prepare your barcode CSV files with the appropriate &#39;name&#39; and &#39;sequence&#39; columns.</span><span class="se">\n</span><span class="s2">- Configure the barcode settings (coordinates and reverse complement flags) according to your experimental setup.</span><span class="se">\n</span><span class="s2">- For further help, click the Help button in the menu bar.&quot;</span><span class="p">,</span>

    <span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="s2">&quot;Perform regression analysis on your data. Function: regression_tools from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Statistical Analysis: Conduct various types of regression analysis to identify relationships within your data.</span><span class="se">\n</span><span class="s2">- Flexible Options: Supports multiple regression models and configurations.</span><span class="se">\n</span><span class="s2">- Data Insight: Gain deeper insights into your dataset through advanced regression techniques.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>

    <span class="s1">&#39;analyze_plaques&#39;</span><span class="p">:</span> <span class="s2">&quot;Analyze plaque images to quantify plaque properties. Function: analyze_plaques from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Plaque Analysis: Quantify plaque properties such as size, intensity, and shape.</span><span class="se">\n</span><span class="s2">- Batch Processing: Analyze multiple plaque images efficiently.</span><span class="se">\n</span><span class="s2">- Visualization: Generate visualizations to represent plaque data and patterns.&quot;</span><span class="p">,</span>

    <span class="s1">&#39;recruitment&#39;</span><span class="p">:</span> <span class="s2">&quot;Analyze recruitment data to understand sample recruitment dynamics. Function: recruitment_analysis_tools from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Recruitment Analysis: Investigate and analyze the recruitment of samples over time or conditions.</span><span class="se">\n</span><span class="s2">- Visualization: Generate visualizations to represent recruitment trends and patterns.</span><span class="se">\n</span><span class="s2">- Integration: Utilize data from various sources for a comprehensive recruitment analysis.&quot;</span>
<span class="p">}</span></div>


<div class="viewcode-block" id="set_annotate_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_annotate_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_annotate_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set default arguments for image annotation and visualization in the annotation tool.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to update with default annotation settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated dictionary containing defaults for:</span>
<span class="sd">            - src: input path</span>
<span class="sd">            - image_type: type of image files</span>
<span class="sd">            - channels: channels to display</span>
<span class="sd">            - img_size: image display size</span>
<span class="sd">            - annotation_column: metadata column to use for annotation</span>
<span class="sd">            - normalize: apply intensity normalization</span>
<span class="sd">            - normalize_channels: which channels to normalize</span>
<span class="sd">            - outline: None or comma-separated channel(s) used to generate outline</span>
<span class="sd">            - outline_threshold_factor: scale factor for thresholding outlines</span>
<span class="sd">            - outline_sigma: sigma for Gaussian blur during outline generation</span>
<span class="sd">            - percentiles: intensity normalization range</span>
<span class="sd">            - measurement: comma-separated measurement columns to display</span>
<span class="sd">            - threshold: thresholds corresponding to measurement columns</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="s2">&quot;r,g,b&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;img_size&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="s1">&#39;False&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_channels&#39;</span><span class="p">,</span> <span class="s2">&quot;r,g,b&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_threshold_factor&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_sigma&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1">#&#39;cytoplasm_channel_3_mean_intensity,pathogen_channel_3_mean_intensity&#39;)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1">#&#39;2&#39;)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_generate_barecode_mapping">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_generate_barecode_mapping">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_generate_barecode_mapping</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default settings for barcode mapping from sequencing data.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): A dictionary to populate with default parameters if keys are missing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The updated settings dictionary with default values applied.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to input FASTQ files.</span>
<span class="sd">        - regex (str): Regular expression to extract column, grna, and row barcodes.</span>
<span class="sd">        - target_sequence (str): Sequence to locate for alignment.</span>
<span class="sd">        - offset_start (int): Offset to start looking for target sequence.</span>
<span class="sd">        - expected_end (int): Expected ending position of the barcode pattern.</span>
<span class="sd">        - column_csv (str): Path to CSV with column barcodes.</span>
<span class="sd">        - grna_csv (str): Path to CSV with grna barcodes.</span>
<span class="sd">        - row_csv (str): Path to CSV with row barcodes.</span>
<span class="sd">        - save_h5 (bool): Whether to save output in HDF5 format.</span>
<span class="sd">        - comp_type (str): Compression type for HDF5 (&#39;zlib&#39;, &#39;lzf&#39;, etc.).</span>
<span class="sd">        - comp_level (int): Compression level if using zlib (0–9).</span>
<span class="sd">        - chunk_size (int): Number of reads to process per chunk.</span>
<span class="sd">        - n_jobs (int or None): Number of parallel jobs to use.</span>
<span class="sd">        - mode (str): &#39;paired&#39; for paired-end, &#39;single&#39; for single-end.</span>
<span class="sd">        - single_direction (str): &#39;R1&#39; or &#39;R2&#39; for direction if mode is &#39;single&#39;.</span>
<span class="sd">        - test (bool): Whether to run in test mode.</span>
<span class="sd">        - fill_na (bool): If True, fill missing barcodes with &#39;NA&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;regex&#39;</span><span class="p">,</span> <span class="s1">&#39;^(?P&lt;column&gt;.</span><span class="si">{8}</span><span class="s1">)TGCTG.*TAAAC(?P&lt;grna&gt;.{20,21})AACTT.*AGAAG(?P&lt;row&gt;.</span><span class="si">{8}</span><span class="s1">).*&#39;</span><span class="p">),</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_sequence&#39;</span><span class="p">,</span> <span class="s1">&#39;TGCTGTTTCCAGCATAGCTCTTAAAC&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;offset_start&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;expected_end&#39;</span><span class="p">,</span> <span class="mi">89</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;column_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/column_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grna_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/grna_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;row_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/row_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_h5&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;comp_type&#39;</span><span class="p">,</span> <span class="s1">&#39;zlib&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;comp_level&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;chunk_size&#39;</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;paired&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;single_direction&#39;</span><span class="p">,</span> <span class="s1">&#39;R1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_na&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_generate_activation_map_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_generate_activation_map_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_generate_activation_map_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default settings for generating activation maps (e.g., Grad-CAM) from a trained deep learning model.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): A dictionary to populate with default parameters if keys are missing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The updated settings dictionary with default values applied.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - dataset (str): Path to dataset directory containing images.</span>
<span class="sd">        - model_type (str): Type of model architecture used (&#39;maxvit&#39;, &#39;resnet&#39;, etc.).</span>
<span class="sd">        - model_path (str): Path to the trained model checkpoint.</span>
<span class="sd">        - image_size (int): Size to which input images will be resized.</span>
<span class="sd">        - batch_size (int): Number of images processed per batch.</span>
<span class="sd">        - normalize (bool): Whether to normalize input images.</span>
<span class="sd">        - cam_type (str): Class activation map type (&#39;gradcam&#39;, &#39;gradcam++&#39;, etc.).</span>
<span class="sd">        - target_layer (str or None): Specific layer to target for activation visualization.</span>
<span class="sd">        - plot (bool): If True, display the activation maps during processing.</span>
<span class="sd">        - save (bool): If True, save activation map outputs to disk.</span>
<span class="sd">        - normalize_input (bool): Whether to normalize input images before model inference.</span>
<span class="sd">        - channels (list): List of channel indices to include in model input.</span>
<span class="sd">        - overlay (bool): Whether to overlay activation maps on the original images.</span>
<span class="sd">        - shuffle (bool): If True, shuffle the dataset before processing.</span>
<span class="sd">        - correlation (bool): If True, compute correlation between channels and activation maps.</span>
<span class="sd">        - manders_thresholds (list): List of thresholds for Manders’ overlap coefficient.</span>
<span class="sd">        - n_jobs (int or None): Number of parallel workers to use for processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span> <span class="s1">&#39;maxvit&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cam_type&#39;</span><span class="p">,</span> <span class="s1">&#39;gradcam&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_layer&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_input&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shuffle&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;correlation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;manders_thresholds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span> <span class="mi">75</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_plaque_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_plaque_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_plaque_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default settings for analyzing plaque formation using Cellpose segmentation and related image processing tools.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): A dictionary to populate with default parameters if keys are missing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The updated settings dictionary with default values applied.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to the directory containing input images.</span>
<span class="sd">        - masks (bool): Whether to use precomputed masks or generate new ones.</span>
<span class="sd">        - background (int): Background intensity value to subtract during preprocessing.</span>
<span class="sd">        - Signal_to_noise (int): Minimum signal-to-noise ratio required for valid segmentation.</span>
<span class="sd">        - CP_prob (float): Minimum Cellpose probability threshold for mask acceptance.</span>
<span class="sd">        - diameter (int): Expected object diameter (in pixels) for Cellpose segmentation.</span>
<span class="sd">        - batch_size (int): Number of images to process per batch.</span>
<span class="sd">        - flow_threshold (float): Flow error threshold for accepting Cellpose masks.</span>
<span class="sd">        - save (bool): If True, save the segmentation and analysis outputs to disk.</span>
<span class="sd">        - verbose (bool): If True, print detailed processing logs.</span>
<span class="sd">        - resize (bool): Whether to resize images before processing.</span>
<span class="sd">        - target_height (int): Height to which images should be resized (if `resize` is True).</span>
<span class="sd">        - target_width (int): Width to which images should be resized (if `resize` is True).</span>
<span class="sd">        - rescale (bool): Whether to apply rescaling of image intensity values.</span>
<span class="sd">        - resample (bool): If True, resample images using interpolation methods.</span>
<span class="sd">        - fill_in (bool): Whether to fill in holes or small gaps in detected masks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;masks&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="mi">1120</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="mi">1120</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;rescale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resample&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_in&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_graph_importance_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_graph_importance_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_graph_importance_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default parameters for plotting graph-based feature importance across groups.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to be populated with default values if keys are missing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - csvs (str or list of str): Path(s) to CSV files containing importance scores.</span>
<span class="sd">        - grouping_column (str): Column name used to group features for plotting (e.g., &#39;compartment&#39;).</span>
<span class="sd">        - data_column (str): Column name containing the importance values to be plotted.</span>
<span class="sd">        - graph_type (str): Type of graph to plot. Options may include &#39;jitter_bar&#39;, &#39;violin&#39;, etc.</span>
<span class="sd">        - save (bool): Whether to save the plot to disk.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;csvs&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping_column&#39;</span><span class="p">,</span><span class="s1">&#39;compartment&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;data_column&#39;</span><span class="p">,</span><span class="s1">&#39;compartment_importance_sum&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;graph_type&#39;</span><span class="p">,</span><span class="s1">&#39;jitter_bar&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_interperate_vision_model_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_interperate_vision_model_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_interperate_vision_model_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default parameters for interpreting vision model outputs using feature importance methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default values for any missing keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with default interpretation parameters.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to input data directory.</span>
<span class="sd">        - scores (str): Path to model output scores (e.g., predictions or classification results).</span>
<span class="sd">        - tables (list): List of tables to include in interpretation (e.g., [&#39;cell&#39;, &#39;nucleus&#39;, ...]).</span>
<span class="sd">        - feature_importance (bool): Whether to compute standard feature importance.</span>
<span class="sd">        - permutation_importance (bool): Whether to compute permutation importance.</span>
<span class="sd">        - shap (bool): Whether to compute SHAP values for model interpretability.</span>
<span class="sd">        - save (bool): Whether to save the results to disk.</span>
<span class="sd">        - nuclei_limit (int): Maximum number of nuclei objects to use for interpretation.</span>
<span class="sd">        - pathogen_limit (int): Maximum number of pathogen objects to use.</span>
<span class="sd">        - top_features (int): Number of top features to include in interpretation output.</span>
<span class="sd">        - shap_sample (bool): Whether to subsample data for SHAP computation.</span>
<span class="sd">        - n_jobs (int): Number of parallel jobs to use (-1 means all cores).</span>
<span class="sd">        - shap_approximate (bool): Use approximate SHAP computations for speed.</span>
<span class="sd">        - score_column (str): Column name from the scores file to use for interpretation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;scores&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span><span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;feature_importance&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;permutation_importance&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;top_features&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap_sample&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap_approximate&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_column&#39;</span><span class="p">,</span><span class="s1">&#39;cv_predictions&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_analyze_endodyogeny_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_endodyogeny_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_analyze_endodyogeny_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default parameters for analyzing endodyogeny (intracellular replication) from segmented object tables.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default values for any missing keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with defaults for endodyogeny analysis.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to the input directory containing segmentation tables.</span>
<span class="sd">        - tables (list): List of tables to analyze, typically [&#39;cell&#39;, &#39;nucleus&#39;, &#39;pathogen&#39;, &#39;cytoplasm&#39;].</span>
<span class="sd">        - cell_types (list): Cell types to include in the analysis, e.g., [&#39;Hela&#39;].</span>
<span class="sd">        - cell_plate_metadata (list or None): Metadata mapping for cell plates.</span>
<span class="sd">        - pathogen_types (list): Pathogen class labels, e.g., [&#39;nc&#39;, &#39;pc&#39;].</span>
<span class="sd">        - pathogen_plate_metadata (list): Metadata defining pathogen class plate layout.</span>
<span class="sd">        - treatments (list or None): List of treatments or conditions to group by.</span>
<span class="sd">        - treatment_plate_metadata (list or None): Metadata for treatment layout per plate.</span>
<span class="sd">        - min_area_bin (int): Minimum object area (in pixels) to consider in binning.</span>
<span class="sd">        - group_column (str): Column to use for grouping, e.g., &#39;pathogen&#39;.</span>
<span class="sd">        - compartment (str): Compartment to analyze, typically &#39;pathogen&#39;.</span>
<span class="sd">        - pathogen_limit (int): Max number of pathogens per group for subsampling.</span>
<span class="sd">        - nuclei_limit (int): Max number of nuclei per group for subsampling.</span>
<span class="sd">        - level (str): Aggregation level, either &#39;object&#39; or &#39;well&#39;.</span>
<span class="sd">        - um_per_px (float): Microns per pixel for conversion to physical units.</span>
<span class="sd">        - max_bins (int or None): Optional cap on number of histogram bins.</span>
<span class="sd">        - save (bool): Whether to save analysis results to file.</span>
<span class="sd">        - change_plate (bool): Whether to apply plate renaming or normalization.</span>
<span class="sd">        - cmap (str): Colormap to use for visualization.</span>
<span class="sd">        - verbose (bool): Whether to print additional processing info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;Hela&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_area_bin&#39;</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;group_column&#39;</span><span class="p">,</span><span class="s1">&#39;pathogen&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;compartment&#39;</span><span class="p">,</span><span class="s1">&#39;pathogen&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">,</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;um_per_px&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;max_bins&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;change_plate&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_analyze_class_proportion_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_class_proportion_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_analyze_class_proportion_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default parameters for analyzing the proportion of classification labels</span>
<span class="sd">    across experimental conditions or cell types.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default values for any missing keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with defaults for class proportion analysis.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to the input directory containing measurement tables.</span>
<span class="sd">        - tables (list): List of object tables to analyze (e.g., [&#39;cell&#39;, &#39;nucleus&#39;, &#39;pathogen&#39;, &#39;cytoplasm&#39;]).</span>
<span class="sd">        - cell_types (list): List of cell types to include, e.g., [&#39;Hela&#39;].</span>
<span class="sd">        - cell_plate_metadata (list or None): Metadata describing layout of cell types on plates.</span>
<span class="sd">        - pathogen_types (list): List of pathogen labels, typically [&#39;nc&#39;, &#39;pc&#39;].</span>
<span class="sd">        - pathogen_plate_metadata (list): Metadata describing layout of pathogen classes on plates.</span>
<span class="sd">        - treatments (list or None): Experimental treatments to group by.</span>
<span class="sd">        - treatment_plate_metadata (list or None): Metadata describing treatment layouts on plates.</span>
<span class="sd">        - group_column (str): Metadata column to group by, typically &#39;condition&#39;.</span>
<span class="sd">        - class_column (str): Column containing predicted or manual class labels.</span>
<span class="sd">        - pathogen_limit (int): Max number of pathogen objects to include per group.</span>
<span class="sd">        - nuclei_limit (int): Max number of nuclei objects to include per group.</span>
<span class="sd">        - level (str): Aggregation level, e.g., &#39;well&#39; or &#39;object&#39;.</span>
<span class="sd">        - save (bool): Whether to save results to disk.</span>
<span class="sd">        - verbose (bool): Whether to print processing steps and warnings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;Hela&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;group_column&#39;</span><span class="p">,</span><span class="s1">&#39;condition&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">,</span><span class="s1">&#39;well&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_plot_data_from_csv_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_plot_data_from_csv_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_plot_data_from_csv_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets default parameters for plotting data from a CSV file.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings (dict): Dictionary to populate with default values for any missing keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Updated settings dictionary with default plotting parameters.</span>

<span class="sd">    Default Settings:</span>
<span class="sd">        - src (str): Path to the CSV file to be plotted.</span>
<span class="sd">        - data_column (str): Name of the column containing the data to plot.</span>
<span class="sd">        - grouping_column (str): Column to group the data by (e.g., experimental condition).</span>
<span class="sd">        - graph_type (str): Type of plot to generate, e.g., &#39;violin&#39;, &#39;box&#39;, &#39;bar&#39;, or &#39;strip&#39;.</span>
<span class="sd">        - save (bool): Whether to save the plot to disk.</span>
<span class="sd">        - y_lim (tuple or None): Y-axis limits as (min, max), or None for automatic scaling.</span>
<span class="sd">        - log_y (bool): Whether to use a logarithmic scale on the Y-axis.</span>
<span class="sd">        - log_x (bool): Whether to use a logarithmic scale on the X-axis.</span>
<span class="sd">        - keep_groups (list or None): Specific groups to retain in the plot; others will be excluded.</span>
<span class="sd">        - representation (str): Level of data aggregation, typically &#39;well&#39; or &#39;object&#39;.</span>
<span class="sd">        - theme (str): Visual theme for the plot, e.g., &#39;dark&#39; or &#39;light&#39;.</span>
<span class="sd">        - remove_outliers (bool): Whether to exclude statistical outliers from the plot.</span>
<span class="sd">        - verbose (bool): Whether to print status messages during plotting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;data_column&#39;</span><span class="p">,</span><span class="s1">&#39;choose column&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping_column&#39;</span><span class="p">,</span><span class="s1">&#39;choose column&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;graph_type&#39;</span><span class="p">,</span><span class="s1">&#39;violin&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;y_lim&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_y&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_x&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;keep_groups&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;representation&#39;</span><span class="p">,</span><span class="s1">&#39;well&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="s1">&#39;dark&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_outliers&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>