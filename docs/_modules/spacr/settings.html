

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>spacr.settings &mdash; spacr 0.5.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />

  
      <script src="../../_static/documentation_options.js?v=1dd76d02"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #005f73" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_spacr.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/main/index.html">main</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/main/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/main/index.html#main.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/main/index.html#main.parser"><code class="docutils literal notranslate"><span class="pre">parser</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/main/index.html#main.args"><code class="docutils literal notranslate"><span class="pre">args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/main/index.html#main.opt"><code class="docutils literal notranslate"><span class="pre">opt</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/core/index.html">core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/core/index.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/core/BasePredictor/index.html">core.BasePredictor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/core/BaseTrainer/index.html">core.BaseTrainer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/core/Baseline/index.html">core.Baseline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/core/MEDIAR/index.html">core.MEDIAR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/core/utils/index.html">core.utils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/spacr/index.html">spacr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/spacr/index.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_annotate/index.html">spacr.app_annotate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_classify/index.html">spacr.app_classify</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_make_masks/index.html">spacr.app_make_masks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_mask/index.html">spacr.app_mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_measure/index.html">spacr.app_measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_sequencing/index.html">spacr.app_sequencing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/app_umap/index.html">spacr.app_umap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/chat_bot/index.html">spacr.chat_bot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/core/index.html">spacr.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/deep_spacr/index.html">spacr.deep_spacr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui/index.html">spacr.gui</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_core/index.html">spacr.gui_core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_elements/index.html">spacr.gui_elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/gui_utils/index.html">spacr.gui_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/io/index.html">spacr.io</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/logger/index.html">spacr.logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/measure/index.html">spacr.measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/mediar/index.html">spacr.mediar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/ml/index.html">spacr.ml</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/openai/index.html">spacr.openai</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/plot/index.html">spacr.plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/sequencing/index.html">spacr.sequencing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/settings/index.html">spacr.settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/sim/index.html">spacr.sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/sp_stats/index.html">spacr.sp_stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/spacr_cellpose/index.html">spacr.spacr_cellpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/submodules/index.html">spacr.submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/timelapse/index.html">spacr.timelapse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/toxo/index.html">spacr.toxo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/utils/index.html">spacr.utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/spacr/version/index.html">spacr.version</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/predict/index.html">predict</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/predict/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/predict/index.html#predict.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/predict/index.html#predict.parser"><code class="docutils literal notranslate"><span class="pre">parser</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/predict/index.html#predict.args"><code class="docutils literal notranslate"><span class="pre">args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/predict/index.html#predict.opt"><code class="docutils literal notranslate"><span class="pre">opt</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/evaluate/index.html">evaluate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/evaluate/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/evaluate/index.html#evaluate.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/SetupDict/index.html">SetupDict</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/SetupDict/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/SetupDict/index.html#SetupDict.TRAINER"><code class="docutils literal notranslate"><span class="pre">TRAINER</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/SetupDict/index.html#SetupDict.OPTIMIZER"><code class="docutils literal notranslate"><span class="pre">OPTIMIZER</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/SetupDict/index.html#SetupDict.SCHEDULER"><code class="docutils literal notranslate"><span class="pre">SCHEDULER</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/train_tools/index.html">train_tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/train_tools/index.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/train_tools/data_utils/index.html">train_tools.data_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/train_tools/measures/index.html">train_tools.measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/train_tools/models/index.html">train_tools.models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/train_tools/utils/index.html">train_tools.utils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/generate_mapping/index.html">generate_mapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/generate_mapping/index.html#module-contents">Module Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/generate_mapping/index.html#generate_mapping.public_paths_labeled"><code class="docutils literal notranslate"><span class="pre">public_paths_labeled()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/generate_mapping/index.html#generate_mapping.official_paths_labeled"><code class="docutils literal notranslate"><span class="pre">official_paths_labeled()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/generate_mapping/index.html#generate_mapping.official_paths_tuning"><code class="docutils literal notranslate"><span class="pre">official_paths_tuning()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/generate_mapping/index.html#generate_mapping.add_mapping_to_json"><code class="docutils literal notranslate"><span class="pre">add_mapping_to_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/generate_mapping/index.html#generate_mapping.parser"><code class="docutils literal notranslate"><span class="pre">parser</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #005f73" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">spacr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">spacr.settings</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for spacr.settings</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">ast</span>

<div class="viewcode-block" id="set_default_plot_merge_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_plot_merge_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_plot_merge_settings</span><span class="p">():</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_min_max&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_dims&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;backgrounds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_thickness&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outline_color&#39;</span><span class="p">,</span> <span class="s1">&#39;gbr&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay_chans&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalization_percentiles&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;print_object_number&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_settings_preprocess_generate_masks">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_generate_masks">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_settings_preprocess_generate_masks</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;denoise&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;delete_intermediate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;segmentation_mode&#39;</span><span class="p">,</span> <span class="s1">&#39;cellpose&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;preprocess&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;masks&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;consolidate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_images&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;magnification&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_regex&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cellvoyager&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;randomize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_cell&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_nucleus&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background_pathogen&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Channel settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_channel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_FT&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_FT&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_FT&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    
    <span class="c1"># Plot settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_plots&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;examples_to_plot&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Analasys settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_model&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;merge_pathogens&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;lower_percentile&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Timelapse settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fps&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_displacement&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_memory&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_frame_limits&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_remove_transient&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_mode&#39;</span><span class="p">,</span> <span class="s1">&#39;trackpy&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_objects&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Misc settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;all_to_mip&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upscale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upscale_factor&#39;</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;adjust_cells&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_settings_preprocess_img_data_v1">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_img_data_v1">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_settings_preprocess_img_data_v1</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>

    <span class="n">metadata_type</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cellvoyager&#39;</span><span class="p">)</span>
    <span class="n">custom_regex</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_regex&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">nr</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plot</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">batch_size</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">timelapse</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">lower_percentile</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;lower_percentile&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">randomize</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;randomize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">all_to_mip</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;all_to_mip&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">pick_slice</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pick_slice&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">skip_mode</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;skip_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">cmap</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">figuresize</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">normalize</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">save_dtype</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_dtype&#39;</span><span class="p">,</span> <span class="s1">&#39;uint16&#39;</span><span class="p">)</span>
    
    <span class="n">test_mode</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">test_images</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_images&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">random_test</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;random_test&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">settings</span><span class="p">,</span> <span class="n">metadata_type</span><span class="p">,</span> <span class="n">custom_regex</span><span class="p">,</span> <span class="n">nr</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">,</span> <span class="n">timelapse</span><span class="p">,</span> <span class="n">lower_percentile</span><span class="p">,</span> <span class="n">randomize</span><span class="p">,</span> <span class="n">all_to_mip</span><span class="p">,</span> <span class="n">pick_slice</span><span class="p">,</span> <span class="n">skip_mode</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">figuresize</span><span class="p">,</span> <span class="n">normalize</span><span class="p">,</span> <span class="n">save_dtype</span><span class="p">,</span> <span class="n">test_mode</span><span class="p">,</span> <span class="n">test_images</span><span class="p">,</span> <span class="n">random_test</span></div>


<div class="viewcode-block" id="set_default_settings_preprocess_img_data">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_settings_preprocess_img_data">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_settings_preprocess_img_data</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>

    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cellvoyager&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_regex&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;lower_percentile&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;randomize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;all_to_mip&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_dtype&#39;</span><span class="p">,</span> <span class="s1">&#39;uint16&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_images&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;random_test&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fps&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<span class="k">def</span> <span class="nf">_get_object_settings</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">settings</span><span class="p">):</span>

    <span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">_get_diam</span>
    <span class="n">object_settings</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_diam</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;magnification&#39;</span><span class="p">],</span> <span class="n">obj</span><span class="o">=</span><span class="n">object_type</span><span class="p">)</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;merge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;resample&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;remove_border_objects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
    
    <span class="k">if</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;cell&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_channel&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto2&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cell_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;cell_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cell diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;cell_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">:</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;nuclei&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nucleus_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;nucleus_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nucleus diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">object_type</span> <span class="o">==</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">:</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cyto&#39;</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;filter_intensity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;resample&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;restore_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pathogen_restore_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;merge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;merge_pathogens&#39;</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;pathogen_diamiter&#39;</span><span class="p">]</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;minimum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span>
                <span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;maximum_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">object_settings</span><span class="p">[</span><span class="s1">&#39;diameter&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Pathogen diameter must be an integer or float, got </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Object type: </span><span class="si">{</span><span class="n">object_type</span><span class="si">}</span><span class="s1"> not supported. Supported object types are : cell, nucleus and pathogen&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;verbose&#39;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">object_settings</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">object_settings</span> 

<div class="viewcode-block" id="set_default_umap_image_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_umap_image_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_umap_image_settings</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;row_limit&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;visualize&#39;</span><span class="p">,</span> <span class="s1">&#39;cell&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_nr&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dot_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_neighbors&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_dist&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metric&#39;</span><span class="p">,</span> <span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;eps&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">,</span> <span class="s1">&#39;channel_0&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;img_zoom&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_by_cluster&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_cluster_grids&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_cluster_noise&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_highly_correlated&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_data&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;black_background&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_image_canvas&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_outlines&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_points&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;smooth_lines&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;clustering&#39;</span><span class="p">,</span> <span class="s1">&#39;dbscan&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;col_to_compare&#39;</span><span class="p">,</span> <span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pos&#39;</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;neg&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;mix&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;embedding_by_controls&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_images&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reduction_method&#39;</span><span class="p">,</span><span class="s1">&#39;umap&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_figure&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;color_by&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude_conditions&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;analyze_clusters&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resnet_features&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_measure_crop_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_measure_crop_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_measure_crop_settings</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>

    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;delete_intermediate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span> <span class="s1">&#39;exp&#39;</span><span class="p">)</span>
    
    <span class="c1"># Test mode</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_mode&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_nr&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

    <span class="c1">#measurement settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_measurements&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;radial_dist&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;calculate_correlation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;manders_thresholds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">95</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;homogeneity&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;homogeneity_distances&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">])</span>

    <span class="c1"># Cropping settings    # Cropping settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_arrays&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_png&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_bounding_box&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_size&#39;</span><span class="p">,[</span><span class="mi">224</span><span class="p">,</span><span class="mi">224</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>    <span class="c1"># Cropping settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_arrays&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_png&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_bounding_box&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_size&#39;</span><span class="p">,[</span><span class="mi">224</span><span class="p">,</span><span class="mi">224</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_by&#39;</span><span class="p">,</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;crop_mode&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dialate_pngs&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dialate_png_ratios&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">])</span>

    <span class="c1"># Timelapsed settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;timelapse_objects&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>

    <span class="c1"># Operational settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Object settings</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cytoplasm&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;uninfected&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cytoplasm_min_size&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;merge_edge_pathogen_cells&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;test_mode&#39;</span><span class="p">]:</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;verbose&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;plot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">test_imgs</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;test_nr&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Test mode enabled with </span><span class="si">{</span><span class="n">test_imgs</span><span class="si">}</span><span class="s1"> images, plotting set to True&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_analyze_screen">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_analyze_screen">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_analyze_screen</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_to_db&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type_ml&#39;</span><span class="p">,</span><span class="s1">&#39;xgboost&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;heatmap_feature&#39;</span><span class="p">,</span><span class="s1">&#39;predictions&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_max&#39;</span><span class="p">,</span><span class="s1">&#39;allq&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;minimum_cell_count&#39;</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reg_alpha&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;reg_lambda&#39;</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_size&#39;</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;location_column&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;positive_control&#39;</span><span class="p">,</span><span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;negative_control&#39;</span><span class="p">,</span><span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_repeats&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;top_features&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_low_variance_features&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_highly_correlated_features&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;prune_features&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cross_validation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_train_test_model">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_train_test_model">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_train_test_model</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">cores</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span>

    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span><span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span> <span class="c1">#reduce_lr_on_plateau, step_lr</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span><span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span> <span class="c1"># binary_cross_entropy_with_logits</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">0.00001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="n">cores</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_generate_training_dataset_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_training_dataset_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_generate_training_dataset_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset_mode&#39;</span><span class="p">,</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotated_classes&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_1_name&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_1_value&#39;</span><span class="p">,[[</span><span class="s1">&#39;c19&#39;</span><span class="p">,</span><span class="s1">&#39;c2&#39;</span><span class="p">],[</span><span class="s1">&#39;c3&#39;</span><span class="p">,</span><span class="s1">&#39;c4&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_2_name&#39;</span><span class="p">,[</span><span class="s1">&#39;sample1&#39;</span><span class="p">,</span><span class="s1">&#39;sample2&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_item_2_value&#39;</span><span class="p">,[[</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">],[</span><span class="s1">&#39;r3&#39;</span><span class="p">,</span><span class="s1">&#39;r4&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type_by&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_measurement&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="deep_spacr_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.deep_spacr_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">deep_spacr_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    
    <span class="n">cores</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span>
    
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset_mode&#39;</span><span class="p">,</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotated_classes&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_type_by&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_measurement&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;png_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span><span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span> <span class="c1">#reduce_lr_on_plateau, step_lr</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span><span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span> <span class="c1"># binary_cross_entropy_with_logits</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span><span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">0.00001</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="n">cores</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;apply_model_to_dataset&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span><span class="s1">&#39;exp.&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_threshold&#39;</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_type&#39;</span><span class="p">,</span><span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;generate_training_dataset&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_DL_model&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_train_test_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_train_test_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_train_test_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;train_channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span> <span class="s1">&#39;maxvit_t&#39;</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;optimizer_type&#39;</span><span class="p">,</span> <span class="s1">&#39;adamw&#39;</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span> <span class="s1">&#39;reduce_lr_on_plateau&#39;</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;loss_type&#39;</span><span class="p">,</span> <span class="s1">&#39;focal_loss&#39;</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;epochs&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;val_split&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span> <span class="mf">0.00001</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dropout_rate&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;init_weights&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;amsgrad&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;use_checkpoint&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;gradient_accumulation_steps&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;intermedeate_save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pin_memory&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;augment&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
     <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_recruitment_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_recruitment_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_recruitment_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span><span class="s1">&#39;protein&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;HeLa&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;pathogen_1&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen_2&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">],[</span><span class="s1">&#39;c4&#39;</span><span class="p">,</span><span class="s1">&#39;c5&#39;</span><span class="p">,</span> <span class="s1">&#39;c6&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,[</span><span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="s1">&#39;lovastatin&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span> <span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;r3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;r4&#39;</span><span class="p">,</span> <span class="s1">&#39;r5&#39;</span><span class="p">,</span><span class="s1">&#39;r6&#39;</span><span class="p">]])</span>
    <span class="c1">#settings.setdefault(&#39;metadata_types&#39;,[&#39;columnID&#39;, &#39;columnID&#39;, &#39;rowID&#39;])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_dims&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_chann_dim&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_mask_dim&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_chann_dim&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_mask_dim&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_chann_dim&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_mask_dim&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channel_of_interest&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_nr&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot_control&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;figuresize&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cells_per_well&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_size_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nucleus_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_intensity_range&#39;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_intensity_min&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_test_cellpose_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_test_cellpose_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_test_cellpose_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">))</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_probability&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;FT&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_size&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_apply_cellpose_model_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_apply_cellpose_model_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_apply_cellpose_model_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">))</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_probability&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;FT&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;circularize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_size&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="default_settings_analyze_percent_positive">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.default_settings_analyze_percent_positive">[docs]</a>
<span class="k">def</span> <span class="nf">default_settings_analyze_percent_positive</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_1&#39;</span><span class="p">,[</span><span class="s1">&#39;cell_area&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;value_col&#39;</span><span class="p">,</span><span class="s1">&#39;cell_channel_2_mean_intensity&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold&#39;</span><span class="p">,</span><span class="mi">2000</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_reads_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_reads_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_reads_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;upstream&#39;</span><span class="p">,</span> <span class="s1">&#39;CTTCTGGTAAATGGGGATGTCAAGTT&#39;</span><span class="p">)</span> 
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;downstream&#39;</span><span class="p">,</span> <span class="s1">&#39;GTTTAAGAGCTATGCTGGAAACAGCAG&#39;</span><span class="p">)</span> <span class="c1">#This is the reverce compliment of the column primer starting from the end #TGCTGTTTAAGAGCTATGCTGGAAACAGCA</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barecode_length_1&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barecode_length_2&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;chunk_size&#39;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_map_barcodes_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_map_barcodes_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_map_barcodes_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grna&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/grna_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;barcodes&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/SCREEN_BARCODES.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plate_dict&#39;</span><span class="p">,</span> <span class="s2">&quot;{&#39;EO1&#39;: &#39;plate1&#39;, &#39;EO2&#39;: &#39;plate2&#39;, &#39;EO3&#39;: &#39;plate3&#39;, &#39;EO4&#39;: &#39;plate4&#39;, &#39;EO5&#39;: &#39;plate5&#39;, &#39;EO6&#39;: &#39;plate6&#39;, &#39;EO7&#39;: &#39;plate7&#39;, &#39;EO8&#39;: &#39;plate8&#39;}&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;TGGT1_220950_1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pc_loc&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;TGGT1_233460_4&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nc_loc&#39;</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_train_cellpose_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_train_cellpose_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_train_cellpose_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_name&#39;</span><span class="p">,</span><span class="s1">&#39;new_model&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span><span class="s1">&#39;cyto&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;learning_rate&#39;</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;weight_decay&#39;</span><span class="p">,</span><span class="mf">1e-05</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_epochs&#39;</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;from_scratch&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;width_height&#39;</span><span class="p">,[</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_generate_dataset_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_generate_dataset_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_generate_dataset_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;file_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;experiment&#39;</span><span class="p">,</span><span class="s1">&#39;experiment_1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_perform_regression_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_perform_regression_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_perform_regression_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;count_data&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_data&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;positive_control&#39;</span><span class="p">,</span><span class="s1">&#39;239740&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;negative_control&#39;</span><span class="p">,</span><span class="s1">&#39;233460&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_n&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;controls&#39;</span><span class="p">,[</span><span class="s1">&#39;000000_1&#39;</span><span class="p">,</span><span class="s1">&#39;000000_10&#39;</span><span class="p">,</span><span class="s1">&#39;000000_11&#39;</span><span class="p">,</span><span class="s1">&#39;000000_12&#39;</span><span class="p">,</span><span class="s1">&#39;000000_13&#39;</span><span class="p">,</span><span class="s1">&#39;000000_14&#39;</span><span class="p">,</span><span class="s1">&#39;000000_15&#39;</span><span class="p">,</span><span class="s1">&#39;000000_16&#39;</span><span class="p">,</span><span class="s1">&#39;000000_17&#39;</span><span class="p">,</span><span class="s1">&#39;000000_18&#39;</span><span class="p">,</span><span class="s1">&#39;000000_19&#39;</span><span class="p">,</span><span class="s1">&#39;000000_20&#39;</span><span class="p">,</span><span class="s1">&#39;000000_21&#39;</span><span class="p">,</span><span class="s1">&#39;000000_22&#39;</span><span class="p">,</span><span class="s1">&#39;000000_23&#39;</span><span class="p">,</span><span class="s1">&#39;000000_24&#39;</span><span class="p">,</span><span class="s1">&#39;000000_25&#39;</span><span class="p">,</span><span class="s1">&#39;000000_26&#39;</span><span class="p">,</span><span class="s1">&#39;000000_27&#39;</span><span class="p">,</span><span class="s1">&#39;000000_28&#39;</span><span class="p">,</span><span class="s1">&#39;000000_29&#39;</span><span class="p">,</span><span class="s1">&#39;000000_3&#39;</span><span class="p">,</span><span class="s1">&#39;000000_30&#39;</span><span class="p">,</span><span class="s1">&#39;000000_31&#39;</span><span class="p">,</span><span class="s1">&#39;000000_32&#39;</span><span class="p">,</span><span class="s1">&#39;000000_4&#39;</span><span class="p">,</span><span class="s1">&#39;000000_5&#39;</span><span class="p">,</span><span class="s1">&#39;000000_6&#39;</span><span class="p">,</span><span class="s1">&#39;000000_8&#39;</span><span class="p">,</span><span class="s1">&#39;000000_9&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fraction_threshold&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dependent_variable&#39;</span><span class="p">,</span><span class="s1">&#39;pred&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold_method&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold_multiplier&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_unique_count&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;transform&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_x&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;log_y&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;x_lim&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;outlier_detection&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;agg_type&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_cell_count&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;regression_type&#39;</span><span class="p">,</span><span class="s1">&#39;ols&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;random_row_column_effects&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;split_axis_lims&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cov_type&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_value&#39;</span><span class="p">,[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;filter_column&#39;</span><span class="p">,</span><span class="s1">&#39;columnID&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plateID&#39;</span><span class="p">,</span><span class="s1">&#39;plate1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;metadata_files&#39;</span><span class="p">,[</span><span class="s1">&#39;/home/carruthers/Documents/TGGT1_Summary.csv&#39;</span><span class="p">,</span><span class="s1">&#39;/home/carruthers/Documents/TGME49_Summary.csv&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;volcano&#39;</span><span class="p">,</span><span class="s1">&#39;gene&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;toxo&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;regression_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;quantile&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using alpha as quantile for quantile regression, alpha: </span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;alpha&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;agg_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;agg_type set to None for quantile regression&#39;</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_check_cellpose_models_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_check_cellpose_models_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_check_cellpose_models_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;invert&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grayscale&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_identify_masks_finetune_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_identify_masks_finetune_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_identify_masks_finetune_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_name&#39;</span><span class="p">,</span> <span class="s1">&#39;cyto&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;custom_model&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;remove_background&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;invert&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;rescale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resample&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grayscale&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_in&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="q">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.q">[docs]</a>
<span class="n">q</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="expected_types">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.expected_types">[docs]</a>
<span class="n">expected_types</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s2">&quot;metadata_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_regex&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;cov_type&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;magnification&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;nucleus_background&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;cell_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;cell_background&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;cell_FT&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;pathogen_background&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;preprocess&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;masks&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;randomize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="c1">#&quot;timelapse_frame_limits&quot;: (list, type(None)),  # This can be a list of lists</span>
    <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;fps&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;lower_percentile&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalize_plots&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;all_to_mip&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;pick_slice&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;skip_mode&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cell_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;save_png&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;crop_mode&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_size&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;normalize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_dims&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;normalize_by&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_measurements&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;uninfected&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_loc&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogens&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_loc&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;treatments&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;treatment_loc&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;compartments&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nr_imgs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;filter_min_max&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;channel_dims&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;backgrounds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;outline_thickness&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;outline_color&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;overlay_chans&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;overlay&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalization_percentiles&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;fill_in&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;upscale&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;upscale_factor&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;adjust_cells&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;row_limit&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;visualize&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;image_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;dot_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_neighbors&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;min_dist&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;min_samples&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;filter_by&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;img_zoom&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;log_data&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;black_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_outlines&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_points&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;smooth_lines&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;clustering&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;exclude&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;col_to_compare&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pos&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;neg&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;plot_images&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;reduction_method&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_figure&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;color_by&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;analyze_clusters&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;resnet_features&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;radial_dist&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;homogeneity&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;save_arrays&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cytoplasm&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cells_per_well&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_size_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;grouping&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;min_max&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;test_size&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;location_column&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;positive_control&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;negative_control&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;n_repeats&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;top_features&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;loss_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;image_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;epochs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;val_split&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;dropout_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;init_weights&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;amsgrad&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;use_checkpoint&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;intermedeate_save&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;pin_memory&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;augment&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;cell_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s2">&quot;pathogen_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists </span>
    <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span>  <span class="c1"># This can be a list of lists</span>
    <span class="s2">&quot;metadata_types&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_chann_dim&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;plot_nr&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;plot_control&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;upstream&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;downstream&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;barecode_length_1&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;barecode_length_2&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;grna&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;barcodes&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;plate_dict&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="s2">&quot;pc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pc_loc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;nc_loc&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;dependent_variable&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;agg_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;min_cell_count&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;denoise&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target_height&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;target_width&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="s2">&quot;rescale&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;resample&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;n_epochs&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;from_scratch&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;width_height&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;complevel&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;gene_weights_csv&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;barcode_mapping&quot;</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span>
    <span class="s2">&quot;redunction_method&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;mix&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;model_type_ml&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;barcode_coordinates&#39;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>  <span class="c1"># This is a list of lists </span>
    <span class="s1">&#39;reverse_complement&#39;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;file_type&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;model_path&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;dataset&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;score_threshold&#39;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;file_metadata&#39;</span><span class="p">:(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">list</span><span class="p">),</span>
    <span class="s1">&#39;apply_model_to_dataset&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;train&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s1">&#39;train_channels&#39;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;optimizer_type&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;dataset_mode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;annotated_classes&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;annotation_column&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;metadata_type_by&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_measurement&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_model&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;png_type&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;custom_model_path&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;generate_training_dataset&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;segmentation_mode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;train_DL_model&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;normalize&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;overlay&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;correlate&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;target_layer&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;save_to_db&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_mode&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;test_images&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;figuresize&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;cmap&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_model&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;normalize_input&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;filter_column&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;target_unique_count&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;threshold_multiplier&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;threshold_method&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;count_data&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;score_data&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;min_n&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;controls&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;toxo&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;volcano&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;metadata_files&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;filter_value&quot;</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="s2">&quot;split_axis_lims&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;x_lim&quot;</span><span class="p">:(</span><span class="nb">list</span><span class="p">,</span><span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;log_x&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;log_y&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;reg_alpha&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;reg_lambda&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">),</span>
    <span class="s2">&quot;prune_features&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;cross_validation&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;offset_start&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;single_direction&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;outlier_detection&quot;</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span>
    <span class="s2">&quot;CP_prob&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;diameter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;flow_threshold&quot;</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
    <span class="s2">&quot;cell_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;consolidate&quot;</span><span class="p">:</span><span class="nb">bool</span>
<span class="p">}</span></div>


<div class="viewcode-block" id="categories">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.categories">[docs]</a>
<span class="n">categories</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Paths&quot;</span><span class="p">:[</span> <span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="s2">&quot;grna&quot;</span><span class="p">,</span> <span class="s2">&quot;barcodes&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_model_path&quot;</span><span class="p">,</span> <span class="s2">&quot;dataset&quot;</span><span class="p">,</span><span class="s2">&quot;model_path&quot;</span><span class="p">,</span><span class="s2">&quot;grna_csv&quot;</span><span class="p">,</span><span class="s2">&quot;row_csv&quot;</span><span class="p">,</span><span class="s2">&quot;column_csv&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_files&quot;</span><span class="p">,</span> <span class="s2">&quot;score_data&quot;</span><span class="p">,</span><span class="s2">&quot;count_data&quot;</span><span class="p">],</span>
             <span class="s2">&quot;General&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;cytoplasm&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_channel&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_chann_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">,</span> <span class="s2">&quot;test_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;plot&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_type&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_regex&quot;</span><span class="p">,</span> <span class="s2">&quot;experiment&quot;</span><span class="p">,</span> <span class="s2">&quot;channels&quot;</span><span class="p">,</span> <span class="s2">&quot;magnification&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">,</span> <span class="s2">&quot;generate_training_dataset&quot;</span><span class="p">,</span> <span class="s2">&quot;train_DL_model&quot;</span><span class="p">,</span> <span class="s2">&quot;segmentation_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">,</span> <span class="s2">&quot;uninfected&quot;</span><span class="p">,</span> <span class="p">],</span>
             <span class="s2">&quot;Cellpose&quot;</span><span class="p">:[</span><span class="s2">&quot;denoise&quot;</span><span class="p">,</span><span class="s2">&quot;fill_in&quot;</span><span class="p">,</span><span class="s2">&quot;from_scratch&quot;</span><span class="p">,</span> <span class="s2">&quot;n_epochs&quot;</span><span class="p">,</span> <span class="s2">&quot;width_height&quot;</span><span class="p">,</span> <span class="s2">&quot;model_name&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_model&quot;</span><span class="p">,</span> <span class="s2">&quot;resample&quot;</span><span class="p">,</span> <span class="s2">&quot;rescale&quot;</span><span class="p">,</span> <span class="s2">&quot;CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;flow_threshold&quot;</span><span class="p">,</span> <span class="s2">&quot;percentiles&quot;</span><span class="p">,</span> <span class="s2">&quot;invert&quot;</span><span class="p">,</span> <span class="s2">&quot;diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;grayscale&quot;</span><span class="p">,</span> <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;resize&quot;</span><span class="p">,</span> <span class="s2">&quot;target_height&quot;</span><span class="p">,</span> <span class="s2">&quot;target_width&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Cell&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cell_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_background&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;adjust_cells&quot;</span><span class="p">,</span> <span class="s2">&quot;cells&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_loc&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Nucleus&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;nucleus_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_background&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;nucleus_loc&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Pathogen&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">,</span><span class="s2">&quot;pathogen_intensity_range&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_background&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_model&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogens&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_types&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">,</span> <span class="p">],</span>
             <span class="s2">&quot;Measurements&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">,</span> <span class="s2">&quot;homogeneity&quot;</span><span class="p">,</span> <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">,</span> <span class="s2">&quot;radial_dist&quot;</span><span class="p">,</span> <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">,</span> <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">,</span> <span class="s2">&quot;save_measurements&quot;</span><span class="p">,</span> <span class="s2">&quot;tables&quot;</span><span class="p">,</span> <span class="s2">&quot;image_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;dot_size&quot;</span><span class="p">,</span> <span class="s2">&quot;filter_by&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Object Image&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;save_png&quot;</span><span class="p">,</span> <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">,</span> <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">,</span> <span class="s2">&quot;png_size&quot;</span><span class="p">,</span> <span class="s2">&quot;png_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;save_arrays&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_by&quot;</span><span class="p">,</span> <span class="s2">&quot;crop_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Sequencing&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;outlier_detection&quot;</span><span class="p">,</span><span class="s2">&quot;offset_start&quot;</span><span class="p">,</span><span class="s2">&quot;chunk_size&quot;</span><span class="p">,</span><span class="s2">&quot;single_direction&quot;</span><span class="p">,</span> <span class="s2">&quot;signal_direction&quot;</span><span class="p">,</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span><span class="s2">&quot;comp_level&quot;</span><span class="p">,</span><span class="s2">&quot;comp_type&quot;</span><span class="p">,</span><span class="s2">&quot;save_h5&quot;</span><span class="p">,</span><span class="s2">&quot;expected_end&quot;</span><span class="p">,</span><span class="s2">&quot;offset&quot;</span><span class="p">,</span><span class="s2">&quot;target_sequence&quot;</span><span class="p">,</span><span class="s2">&quot;regex&quot;</span><span class="p">,</span> <span class="s2">&quot;highlight&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Generate Dataset&quot;</span><span class="p">:[</span><span class="s2">&quot;save_to_db&quot;</span><span class="p">,</span><span class="s2">&quot;file_metadata&quot;</span><span class="p">,</span><span class="s2">&quot;class_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;annotation_column&quot;</span><span class="p">,</span><span class="s2">&quot;annotated_classes&quot;</span><span class="p">,</span> <span class="s2">&quot;dataset_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_type_by&quot;</span><span class="p">,</span><span class="s2">&quot;custom_measurement&quot;</span><span class="p">,</span> <span class="s2">&quot;sample&quot;</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Training)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;png_type&quot;</span><span class="p">,</span> <span class="s2">&quot;score_threshold&quot;</span><span class="p">,</span><span class="s2">&quot;file_type&quot;</span><span class="p">,</span> <span class="s2">&quot;train_channels&quot;</span><span class="p">,</span> <span class="s2">&quot;epochs&quot;</span><span class="p">,</span> <span class="s2">&quot;loss_type&quot;</span><span class="p">,</span> <span class="s2">&quot;optimizer_type&quot;</span><span class="p">,</span><span class="s2">&quot;image_size&quot;</span><span class="p">,</span><span class="s2">&quot;val_split&quot;</span><span class="p">,</span><span class="s2">&quot;learning_rate&quot;</span><span class="p">,</span><span class="s2">&quot;weight_decay&quot;</span><span class="p">,</span><span class="s2">&quot;dropout_rate&quot;</span><span class="p">,</span> <span class="s2">&quot;init_weights&quot;</span><span class="p">,</span> <span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">,</span> <span class="s2">&quot;augment&quot;</span><span class="p">,</span> <span class="s2">&quot;amsgrad&quot;</span><span class="p">,</span><span class="s2">&quot;use_checkpoint&quot;</span><span class="p">,</span><span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">,</span><span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">,</span><span class="s2">&quot;intermedeate_save&quot;</span><span class="p">,</span><span class="s2">&quot;pin_memory&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Embedding)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;visualize&quot;</span><span class="p">,</span><span class="s2">&quot;n_neighbors&quot;</span><span class="p">,</span><span class="s2">&quot;min_dist&quot;</span><span class="p">,</span><span class="s2">&quot;metric&quot;</span><span class="p">,</span><span class="s2">&quot;resnet_features&quot;</span><span class="p">,</span><span class="s2">&quot;reduction_method&quot;</span><span class="p">,</span><span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">,</span><span class="s2">&quot;col_to_compare&quot;</span><span class="p">,</span><span class="s2">&quot;log_data&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Clustering)&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;eps&quot;</span><span class="p">,</span><span class="s2">&quot;min_samples&quot;</span><span class="p">,</span><span class="s2">&quot;analyze_clusters&quot;</span><span class="p">,</span><span class="s2">&quot;clustering&quot;</span><span class="p">,</span><span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Regression)&quot;</span><span class="p">:[</span><span class="s2">&quot;cross_validation&quot;</span><span class="p">,</span><span class="s2">&quot;prune_features&quot;</span><span class="p">,</span><span class="s2">&quot;reg_lambda&quot;</span><span class="p">,</span><span class="s2">&quot;reg_alpha&quot;</span><span class="p">,</span><span class="s2">&quot;cov_type&quot;</span><span class="p">,</span> <span class="s2">&quot;plate&quot;</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">,</span> <span class="s2">&quot;alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;random_row_column_effects&quot;</span><span class="p">,</span> <span class="s2">&quot;regression_type&quot;</span><span class="p">,</span> <span class="s2">&quot;min_cell_count&quot;</span><span class="p">,</span> <span class="s2">&quot;agg_type&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="s2">&quot;dependent_variable&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Hyperparamiters (Activation)&quot;</span><span class="p">:[</span><span class="s2">&quot;cam_type&quot;</span><span class="p">,</span> <span class="s2">&quot;overlay&quot;</span><span class="p">,</span> <span class="s2">&quot;correlation&quot;</span><span class="p">,</span> <span class="s2">&quot;target_layer&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_input&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Annotation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;filter_column&quot;</span><span class="p">,</span> <span class="s2">&quot;filter_value&quot;</span><span class="p">,</span><span class="s2">&quot;volcano&quot;</span><span class="p">,</span> <span class="s2">&quot;toxo&quot;</span><span class="p">,</span> <span class="s2">&quot;controls&quot;</span><span class="p">,</span> <span class="s2">&quot;nc_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;pc_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;nc&quot;</span><span class="p">,</span> <span class="s2">&quot;pc&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">,</span><span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata_types&quot;</span><span class="p">,</span> <span class="s2">&quot;cell_types&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">,</span><span class="s2">&quot;positive_control&quot;</span><span class="p">,</span><span class="s2">&quot;negative_control&quot;</span><span class="p">,</span> <span class="s2">&quot;location_column&quot;</span><span class="p">,</span> <span class="s2">&quot;treatment_loc&quot;</span><span class="p">,</span> <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">,</span> <span class="s2">&quot;measurement&quot;</span><span class="p">,</span> <span class="s2">&quot;treatments&quot;</span><span class="p">,</span> <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">,</span> <span class="s2">&quot;nr_imgs&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">,</span> <span class="s2">&quot;mix&quot;</span><span class="p">,</span> <span class="s2">&quot;pos&quot;</span><span class="p">,</span> <span class="s2">&quot;neg&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Plot&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;split_axis_lims&quot;</span><span class="p">,</span> <span class="s2">&quot;x_lim&quot;</span><span class="p">,</span><span class="s2">&quot;log_x&quot;</span><span class="p">,</span><span class="s2">&quot;log_y&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_control&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_plots&quot;</span><span class="p">,</span> <span class="s2">&quot;cmap&quot;</span><span class="p">,</span> <span class="s2">&quot;figuresize&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">,</span> <span class="s2">&quot;img_zoom&quot;</span><span class="p">,</span> <span class="s2">&quot;row_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;color_by&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_images&quot;</span><span class="p">,</span> <span class="s2">&quot;smooth_lines&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_points&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_outlines&quot;</span><span class="p">,</span> <span class="s2">&quot;black_background&quot;</span><span class="p">,</span> <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">,</span><span class="s2">&quot;grouping&quot;</span><span class="p">,</span><span class="s2">&quot;min_max&quot;</span><span class="p">,</span><span class="s2">&quot;cmap&quot;</span><span class="p">,</span><span class="s2">&quot;save_figure&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Timelapse&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;timelapse&quot;</span><span class="p">,</span> <span class="s2">&quot;fps&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">,</span> <span class="s2">&quot;compartments&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Advanced&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">,</span> <span class="s2">&quot;test_images&quot;</span><span class="p">,</span> <span class="s2">&quot;random_test&quot;</span><span class="p">,</span> <span class="s2">&quot;test_nr&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;test_split&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize&quot;</span><span class="p">,</span> <span class="s2">&quot;target_unique_count&quot;</span><span class="p">,</span><span class="s2">&quot;threshold_multiplier&quot;</span><span class="p">,</span> <span class="s2">&quot;threshold_method&quot;</span><span class="p">,</span> <span class="s2">&quot;min_n&quot;</span><span class="p">,</span><span class="s2">&quot;shuffle&quot;</span><span class="p">,</span> <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">,</span> <span class="s2">&quot;cells_per_well&quot;</span><span class="p">,</span> <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">,</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span> <span class="s2">&quot;backgrounds&quot;</span><span class="p">,</span> <span class="s2">&quot;schedule&quot;</span><span class="p">,</span> <span class="s2">&quot;test_size&quot;</span><span class="p">,</span><span class="s2">&quot;exclude&quot;</span><span class="p">,</span><span class="s2">&quot;n_repeats&quot;</span><span class="p">,</span><span class="s2">&quot;top_features&quot;</span><span class="p">,</span> <span class="s2">&quot;model_type_ml&quot;</span><span class="p">,</span> <span class="s2">&quot;model_type&quot;</span><span class="p">,</span><span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">,</span><span class="s2">&quot;n_estimators&quot;</span><span class="p">,</span><span class="s2">&quot;preprocess&quot;</span><span class="p">,</span> <span class="s2">&quot;remove_background&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize&quot;</span><span class="p">,</span> <span class="s2">&quot;lower_percentile&quot;</span><span class="p">,</span> <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">,</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">,</span> <span class="s2">&quot;filter&quot;</span><span class="p">,</span> <span class="s2">&quot;save&quot;</span><span class="p">,</span> <span class="s2">&quot;masks&quot;</span><span class="p">,</span> <span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="s2">&quot;randomize&quot;</span><span class="p">,</span> <span class="s2">&quot;n_jobs&quot;</span><span class="p">],</span>
             <span class="s2">&quot;Beta&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;all_to_mip&quot;</span><span class="p">,</span> <span class="s2">&quot;upscale&quot;</span><span class="p">,</span> <span class="s2">&quot;upscale_factor&quot;</span><span class="p">,</span> <span class="s2">&quot;consolidate&quot;</span><span class="p">]</span>
             <span class="p">}</span></div>



<div class="viewcode-block" id="category_keys">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.category_keys">[docs]</a>
<span class="n">category_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">categories</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>


<div class="viewcode-block" id="check_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.check_settings">[docs]</a>
<span class="k">def</span> <span class="nf">check_settings</span><span class="p">(</span><span class="n">vars_dict</span><span class="p">,</span> <span class="n">expected_types</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">.gui_utils</span> <span class="kn">import</span> <span class="n">parse_list</span>

    <span class="k">if</span> <span class="n">q</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Queue</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>

    <span class="n">settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Collect errors instead of stopping at the first one</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">vars_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">expected_types</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">category_keys</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Key &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; not found in expected types.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">expected_type</span> <span class="o">=</span> <span class="n">expected_types</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">,</span> <span class="s2">&quot;png_size&quot;</span><span class="p">,</span> <span class="s2">&quot;png_dims&quot;</span><span class="p">,</span> <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">,</span> <span class="s2">&quot;class_metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;crop_mode&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">parsed_value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">parsed_value</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a list or list of lists but got an invalid format: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">parsed_value</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">parsed_value</span><span class="p">):</span>
                        <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parsed_value</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid format: &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; contains mixed types (single values and lists).&quot;</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a list for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an integer or None for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a float or None for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected an integer or float for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            
            <span class="k">elif</span> <span class="n">expected_type</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="n">parsed_dict</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a string representation of a dictionary.&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected a dictionary for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">parsed_dict</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: Invalid dictionary format for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;. Expected type: dict. Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">typ</span> <span class="ow">in</span> <span class="n">expected_type</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">typ</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                        <span class="k">break</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                        <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; does not match any expected types: </span><span class="si">{</span><span class="n">expected_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">expected_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected type </span><span class="si">{</span><span class="n">expected_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> for &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">expected_type_name</span> <span class="o">=</span> <span class="s1">&#39; or &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">expected_type</span><span class="p">])</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="k">else</span> <span class="n">expected_type</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; has invalid format. Expected type: </span><span class="si">{</span><span class="n">expected_type_name</span><span class="si">}</span><span class="s2">. Got value: &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;. Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Send all collected errors to the queue</span>
    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
        <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        
    

    <span class="k">return</span> <span class="n">settings</span><span class="p">,</span> <span class="n">errors</span></div>


<div class="viewcode-block" id="generate_fields">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.generate_fields">[docs]</a>
<span class="k">def</span> <span class="nf">generate_fields</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="n">scrollable_frame</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">.gui_utils</span> <span class="kn">import</span> <span class="n">create_input_field</span>
    <span class="kn">from</span> <span class="nn">.gui_elements</span> <span class="kn">import</span> <span class="n">spacrToolTip</span>
    <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vars_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">tooltips</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;cell_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_diamiter&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Diameter for cellpose objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adjust_cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Adjust cell parameters for better segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;agg_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of aggregation to use for the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Alpha parameter for the regression model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;all_to_mip&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to convert all images to maximum intensity projections before processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amsgrad&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use AMSGrad optimizer.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;analyze_clusters&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to analyze the resulting clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;augment&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Data augmentation settings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Background intensity for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;backgrounds&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Background settings for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcodes&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the file containing barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The batch size to use for processing the images. This will determine how many images are processed at once. Images are normalized and segmented in batches. Lower if application runs out of RAM or VRAM.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;black_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use a black background for plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;calculate_correlation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to calculate correlations between features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the cell channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the nucleus channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The cellpose probability threshold for the pathogen channel. This will be used in cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for cell objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for nucleus objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_FT&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The flow threshold for pathogen objects. This will be used to segment the cells.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the cell channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the nucleus channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The background intensity for the pathogen channel. This will be used to remove background noise.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_chann_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Dimension of the channel to use for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin cell masks. If None, cell masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin nucleus masks. If None, nucleus masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_channel&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel to use for generatin pathogen masks. If None, pathogen masks will not be generated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_intensity_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Intensity range for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The locations of the cell types in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the cell mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the nucleus mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of cell objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the cell plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the cell channel. This will be used to determine the range of intensities to normalize images to for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_size_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Size range for cell segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cell_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of cells to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(list of lists) - The cell types to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cells_per_well&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of cells per well.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channel_dims&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The dimensions of the image channels.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channel_of_interest&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The channel of interest to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - List of channels to use for the analysis. The first channel is 0, the second is 1, and so on. For example, [0,1,2] will use channels 0, 1, and 2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Chunk size for processing the sequencing data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Classes to include in the training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;class_1_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Threshold for class 1 classification.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clustering&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Clustering algorithm to use.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;col_to_compare&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Column to compare in the embeddings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Coloring scheme for the plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;compartments&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The compartments to measure in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;consolidate&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Consolidate image files from subfolders into one folder named consolidated.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CP_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Cellpose probability threshold for segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;crop_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode to use for cropping images (cell, nucleus, pathogen, cytoplasm).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_model&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to a custom Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_regex&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Custom regex pattern to extract metadata from the image names. This will only be used if &#39;custom&#39; or &#39;auto&#39; is selected for &#39;metadata_type&#39;.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cytoplasm&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to segment the cytoplasm (Cell - Nucleus + Pathogen).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cytoplasm_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of cytoplasm objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of nucleus objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Normalize cropped png images by png or by field of view.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dependent_variable&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The dependent variable for the regression analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;delete_intermediate&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Delete intermediate folders (stack, channel, norm_channel_stack).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;diameter&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Diameter of the objects to segment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dialate_png_ratios&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The ratios to use for dilating the PNG images. This will determine the amount of dilation applied to the images before cropping.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dialate_pngs&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to dilate the PNG images before saving.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dot_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Size of dots in scatter plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;downstream&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Downstream region for sequencing analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dropout_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Dropout rate for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Epsilon parameter for clustering.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;epochs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of epochs for training the deep learning model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;examples_to_plot&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The number of images to plot for each segmented object. This will be used to visually inspect the segmentation results and normalization.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exclude&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Conditions to exclude from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exclude_conditions&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Specific conditions to exclude from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Name of the experiment. This will be used to name the output files.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;figuresize&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Size of the figures to plot.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Filter settings for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filter_by&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Feature to filter the data by.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fill_in&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to fill in the segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flow_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Flow threshold for segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fps&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Frames per second of the automatically generated timelapse movies.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fraction_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Threshold for the fraction of cells to consider in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;from_scratch&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to train the Cellpose model from scratch.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gene_weights_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the CSV file containing gene weights.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gradient_accumulation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use gradient accumulation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gradient_accumulation_steps&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of steps for gradient accumulation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grayscale&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to process the images in grayscale.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grna&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the file containing gRNA sequences.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grouping&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Grouping variable for plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heatmap_feature&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Feature to use for generating heatmaps.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;homogeneity&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Measure of homogeneity for the objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;homogeneity_distances&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Distances to use for measuring homogeneity.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of images to process.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Size of the images for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;img_zoom&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Zoom factor for the images in plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nuclei_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Whether to include multinucleated cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Whether to include multi-infected cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uninfected&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to include uninfected cells in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;init_weights&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to initialize weights for the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the folder containing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;intermedeate_save&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save intermediate results.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;invert&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to invert the image intensities.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Learning rate for training.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;location_column&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Column name for the location information.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;log_data&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to log-transform the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lower_percentile&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The lower quantile to use for normalizing the images. This will be used to determine the range of intensities to normalize images to.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;magnification&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - At what magnification the images were taken. This will be used to determine the size of the objects in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;manders_thresholds&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Thresholds for Manders&#39; coefficients.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mask&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to generate masks for the segmented objects. If True, masks will be generated for the nucleus, cell, and pathogen.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The measurement to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of metadata to expect in the images. If &#39;custom&#39; is selected, you can provide a custom regex pattern to extract metadata from the image names. auto will attempt to automatically extract metadata from the image names. cellvoyager and cq1 will use the default metadata extraction for CellVoyager and CQ1 images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of metadata to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;merge_edge_pathogen_cells&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to merge cells that share pathogen objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;merge_pathogens&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to merge pathogen objects that share more than 75 percent of their perimeter.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metric to use for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_cell_count&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of cells required for analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_dist&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Minimum distance for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_max&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Minimum and maximum values for normalizing plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_samples&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of samples for clustering.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mix&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Mixing settings for the samples.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Name of the Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of model to use for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_type_ml&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of model to use for machine learning.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Negative control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Location of the negative control in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;negative_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Identifier for the negative control.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of estimators for the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_epochs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of epochs for training the Cellpose model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The number of n_jobs to use for processing the images. This will determine how many images are processed in parallel. Increase to speed up processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_neighbors&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of neighbors for UMAP.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n_repeats&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of repeats for the pathogen plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the pathogen channel. This will be used to determine the range of intensities to normalize images to for pathogen segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nucleus_Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The signal-to-noise ratio for the nucleus channel. This will be used to determine the range of intensities to normalize images to for nucleus segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_size_range&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Size range for pathogen segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_types&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Types of pathogens to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Positive control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pc_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Location of the positive control in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;percentiles&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Percentiles to use for normalizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pin_memory&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to pin memory for the data loader.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plate&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Plate identifier for the experiment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plate_dict&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Dictionary of plate metadata.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot the results.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_by_cluster&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot images by clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_cluster_grids&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot grids of clustered images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Control settings for plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_images&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of plots to generate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_outlines&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot outlines of segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;png_dims&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The dimensions of the PNG images to save. This will determine the dimensions of the saved images. Maximum of 3 dimensions e.g. [1,2,3].&quot;</span><span class="p">,</span>
        <span class="s2">&quot;png_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The size of the PNG images to save. This will determine the size of the saved images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;positive_control&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Identifier for the positive control.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;preprocess&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to preprocess the images before segmentation. This includes background removal and normalization. Set to False only if this step has already been done.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;radial_dist&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Radial distances for measuring features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;random_test&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to randomly select images for testing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;randomize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to randomize the order of the images before processing. Recommended to avoid bias in the segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;regression_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Type of regression to perform.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the images. This will help improve the quality of the segmentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_cell&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the cell channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_nucleus&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the nucleus channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_background_pathogen&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove background noise from the pathogen channel.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_cluster_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove noise from the clusters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_highly_correlated&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove highly correlated features.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_highly_correlated_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove highly correlated features from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_image_canvas&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove the image canvas after plotting.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_low_variance_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove low variance features from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;random_row_column_effects&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove row and column effects from the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Resize factor for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resample&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to resample the images during processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rescale&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Rescaling factor for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;reduction_method&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Dimensionality reduction method to use ().&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resnet_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use ResNet features for embedding.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;row_limit&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Limit on the number of rows to plot.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the results to disk.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_arrays&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save arrays of segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_figure&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the generated figures.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_measurements&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the measurements to disk.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_png&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the segmented objects as PNG images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Schedule for processing the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Signal_to_noise&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Signal-to-noise ratio for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;skip_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The mode to use for skipping images. This will determine how to handle images that cannot be processed.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;smooth_lines&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to smooth lines in the plots.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;(str, path) - Path to source directory.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;segmentation_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Algorithm to use for segmentation (cellpose or mediar).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Target variable for the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_height&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Target height for resizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_intensity_min&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Minimum intensity for the target objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_width&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Target width for resizing the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Tables to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to run the pipeline in test mode.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_images&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - List of images to use for testing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Mode to use for testing the analysis pipeline.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_nr&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Number of test images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;test_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Size of the test set.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatment_loc&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The locations of the treatments in the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatments&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - The treatments to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;top_features&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Top features to include in the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to train the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="s2">&quot;(dict) - Transformation to apply to the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upscale&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to upscale the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upscale_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Factor by which to upscale the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upstream&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Upstream region for sequencing analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;val_split&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Validation split ratio.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;visualize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to visualize the embeddings.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to print verbose output during processing.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;weight_decay&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - Weight decay for regularization.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;width_height&quot;</span><span class="p">:</span> <span class="s2">&quot;(tuple) - Width and height of the input images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcode_coordinates&quot;</span><span class="p">:</span> <span class="s2">&quot;(list of lists) - Coordinates of the barcodes in the sequence.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;barcode_mapping&quot;</span><span class="p">:</span> <span class="s2">&quot;dict - names and barecode csv files&quot;</span><span class="p">,</span>
        <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="s2">&quot;str - type of compression (e.g. zlib)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;complevel&quot;</span><span class="p">:</span> <span class="s2">&quot;int - level of compression (0-9). Higher is slower and yealds smaller files&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file_type&quot;</span><span class="p">:</span> <span class="s2">&quot;str - type of file to process&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_path&quot;</span><span class="p">:</span> <span class="s2">&quot;str - path to the model&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;str - file name of the tar file with image dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;score_threshold&quot;</span><span class="p">:</span> <span class="s2">&quot;float - threshold for classification&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sample&quot;</span><span class="p">:</span> <span class="s2">&quot;str - number of images to sample for tar dataset (including both classes). Default: None&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;str or list of strings - string(s) that must be present in image path to be included in the dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;apply_model_to_dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;bool - whether to apply model to the dataset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;train_channels&quot;</span><span class="p">:</span> <span class="s2">&quot;list - channels to use for training&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;str - How to generate train/test dataset.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;annotated_classes&quot;</span><span class="p">:</span> <span class="s2">&quot;list - list of numbers in annotation column.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;um_per_pixel&quot;</span><span class="p">:</span> <span class="s2">&quot;(float) - The micrometers per pixel for the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;segmentation_model&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The segmentation model to use, either cellpose or mediar.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_model&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - use a custom cellpose model to detect pathogen objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_displacement&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Displacement for timelapse tracking.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_memory&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Memory for timelapse tracking.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode for timelapse tracking, trackpy or btrack.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_frame_limits&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Frame limits for timelapse tracking [start,end].&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_objects&quot;</span><span class="p">:</span> <span class="s2">&quot;(list) - Objects to track in the timelapse, cells, nuclei, or pathogens.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse_remove_transient&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to remove transient objects in the timelapse.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;masks&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to generate masks for the segmented objects.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timelapse&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to analyze images as a timelapse.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The minimum size of pathogen objects in pixels^2.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_mask_dim&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The dimension of the array the pathogen mask is saved in (array order:channels,cell, nucleus, pathogen, cytoplasm) array starts at dimension 0.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use_bounding_box&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to use the bounding box for cropping the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plot_points&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to plot scatterplot points.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;embedding_by_controls&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Use the controlls to greate the embedding, then apply this embedding to all of the data.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pos&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Positive control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;neg&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Negative control identifier.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minimum_cell_count&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Minimum number of cells/well. if number of cells &lt; minimum_cell_count, the well is excluded from the analysis.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;highlight&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - highlight genes/grnas containing this string.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pathogen_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the pathogen plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;treatment_plate_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Metadata for the treatment plate.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;regex&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Regular expression to use.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_sequence&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - The DNA sequence to look for that the consensus sequence will start with directly downstream of the first barcode.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The offset to use for the consensus sequence, e.g. -8 if the barecode is 8 bases before target_sequence.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected_end&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - The expected length of the sequence from the start of the first barcode to the end of the last.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;column_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing column barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;row_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing row barcodes.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grna_csv&quot;</span><span class="p">:</span> <span class="s2">&quot;(path) - path to the csv file containing gRNA sequences.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;save_h5&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Whether to save the results to an HDF5 file. (this generates a large file, if compression is used this can be very time consuming)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;comp_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Compression type for the HDF5 file (e.g. zlib).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;comp_level&quot;</span><span class="p">:</span> <span class="s2">&quot;(int) - Compression level for the HDF5 file (0-9). Higher is slower and yields smaller files.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Mode to use for sequence analysis (either single for R1 or R2 fastq files or paired for the combination of R1 and R2).&quot;</span><span class="p">,</span>
        <span class="s2">&quot;signal_direction&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Direction of fastq file (R1 or R2). only relevent when mode is single.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;custom_model_path&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Path to the custom model to finetune.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cam_type&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Choose between: gradcam, gradcam_pp, saliency_image, saliency_channel to generate activateion maps of DL models&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target_layer&quot;</span><span class="p">:</span> <span class="s2">&quot;(str) - Only used for gradcam and gradcam_pp. The layer to use for the activation map.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize images before overlayng the activation maps.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;overlay&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Overlay activation maps on the images.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shuffle&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Shuffle the dataset bufore generating the activation maps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Calculate correlation between image channels and activation maps. Data is saved to .db.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_input&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize the input images before passing them to the model.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normalize_plots&quot;</span><span class="p">:</span> <span class="s2">&quot;(bool) - Normalize images before plotting.&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="n">var_type</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">variables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">create_input_field</span><span class="p">(</span><span class="n">scrollable_frame</span><span class="o">.</span><span class="n">scrollable_frame</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
        <span class="n">vars_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>  <span class="c1"># Store the label, widget, and variable</span>
        
        <span class="c1"># Add tooltip to the label if it exists in the tooltips dictionary</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">tooltips</span><span class="p">:</span>
            <span class="n">spacrToolTip</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">tooltips</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="k">return</span> <span class="n">vars_dict</span></div>


<div class="viewcode-block" id="descriptions">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.descriptions">[docs]</a>
<span class="n">descriptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Help:</span><span class="se">\n</span><span class="s2">- Generate Cells, Nuclei, Pathogens, and Cytoplasm masks from intensity images in src.</span><span class="se">\n</span><span class="s2">- To ensure that spacr is installed correctly:</span><span class="se">\n</span><span class="s2">- 1. Downloade the training set (click Download).</span><span class="se">\n</span><span class="s2">- 2. Import settings (click settings navigate to downloaded dataset settings folder and import preprocess_generate_masks_settings.csv).</span><span class="se">\n</span><span class="s2">- 3. Run the module.</span><span class="se">\n</span><span class="s2">- 4. Proceed to the Measure module (click Measure in the menue bar).</span><span class="se">\n</span><span class="s2">- For further help, click the Help button in the menue bar.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;measure&#39;</span><span class="p">:</span> <span class="s2">&quot;Capture Measurements from Cells, Nuclei, Pathogens, and Cytoplasm objects. Generate single object PNG images for one or several objects. (Requires masks from the Mask module). Function: measure_crop from spacr.measure.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Comprehensive Measurement Capture: Obtain detailed measurements for various cellular components, including area, perimeter, intensity, and more.</span><span class="se">\n</span><span class="s2">- Image Generation: Create high-resolution PNG images of individual objects, facilitating further analysis and visualization.</span><span class="se">\n</span><span class="s2">- Mask Dependency: Requires accurate masks generated by the Mask module to ensure precise measurements.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;classify&#39;</span><span class="p">:</span> <span class="s2">&quot;Train and Test any Torch Computer vision model. (Requires PNG images from the Measure module). Function: train_test_model from spacr.deep_spacr.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Deep Learning Integration: Train and evaluate state-of-the-art Torch models for various classification tasks.</span><span class="se">\n</span><span class="s2">- Flexible Training: Supports a wide range of Torch models, allowing customization based on specific research needs.</span><span class="se">\n</span><span class="s2">- Data Requirement: Requires PNG images generated by the Measure module for training and testing.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;umap&#39;</span><span class="p">:</span> <span class="s2">&quot;Generate UMAP or tSNE embeddings and represent points as single cell images. (Requires measurements.db and PNG images from the Measure module). Function: generate_image_umap from spacr.core.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Dimensionality Reduction: Employ UMAP or tSNE algorithms to reduce high-dimensional data into two dimensions for visualization.</span><span class="se">\n</span><span class="s2">- Single Cell Representation: Visualize embedding points as single cell images, providing an intuitive understanding of data clusters.</span><span class="se">\n</span><span class="s2">- Data Integration: Requires measurements and images generated by the Measure module, ensuring comprehensive data representation.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;train_cellpose&#39;</span><span class="p">:</span> <span class="s2">&quot;Train custom Cellpose models for your specific dataset. Function: train_cellpose_model from spacr.core.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Custom Model Training: Train Cellpose models on your dataset to improve segmentation accuracy.</span><span class="se">\n</span><span class="s2">- Data Adaptation: Tailor the model to handle specific types of biological samples more effectively.</span><span class="se">\n</span><span class="s2">- Advanced Training Options: Supports various training parameters and configurations for optimized performance.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;ml_analyze&#39;</span><span class="p">:</span> <span class="s2">&quot;Perform machine learning analysis on your data. Function: ml_analysis_tools from spacr.ml.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Comprehensive Analysis: Utilize a suite of machine learning tools for data analysis.</span><span class="se">\n</span><span class="s2">- Customizable Workflows: Configure and run different ML algorithms based on your research requirements.</span><span class="se">\n</span><span class="s2">- Integration: Works seamlessly with other modules to analyze data produced from various steps.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;cellpose_masks&#39;</span><span class="p">:</span> <span class="s2">&quot;Generate masks using Cellpose for all images in your dataset. Function: generate_masks from spacr.cellpose.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Batch Processing: Generate masks for large sets of images efficiently.</span><span class="se">\n</span><span class="s2">- Robust Segmentation: Leverage Cellpose&#39;s capabilities for accurate segmentation across diverse samples.</span><span class="se">\n</span><span class="s2">- Automation: Automate the mask generation process for streamlined workflows.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;cellpose_all&#39;</span><span class="p">:</span> <span class="s2">&quot;Run Cellpose on all images in your dataset and obtain masks and measurements. Function: cellpose_analysis from spacr.cellpose.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- End-to-End Analysis: Perform both segmentation and measurement extraction in a single step.</span><span class="se">\n</span><span class="s2">- Efficiency: Process entire datasets with minimal manual intervention.</span><span class="se">\n</span><span class="s2">- Comprehensive Output: Obtain detailed masks and corresponding measurements for further analysis.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;map_barcodes&#39;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Help:</span><span class="se">\n</span><span class="s2">- 1 .Generate consensus read fastq files from R1 and R2 files.</span><span class="se">\n</span><span class="s2">- 2. Map barcodes from sequencing data for identification and tracking of samples.</span><span class="se">\n</span><span class="s2">- 3. Run the module to extract and map barcodes from your FASTQ files in chunks.</span><span class="se">\n</span><span class="s2">- Prepare your barcode CSV files with the appropriate &#39;name&#39; and &#39;sequence&#39; columns.</span><span class="se">\n</span><span class="s2">- Configure the barcode settings (coordinates and reverse complement flags) according to your experimental setup.</span><span class="se">\n</span><span class="s2">- For further help, click the Help button in the menu bar.&quot;</span><span class="p">,</span>

    <span class="s1">&#39;regression&#39;</span><span class="p">:</span> <span class="s2">&quot;Perform regression analysis on your data. Function: regression_tools from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Statistical Analysis: Conduct various types of regression analysis to identify relationships within your data.</span><span class="se">\n</span><span class="s2">- Flexible Options: Supports multiple regression models and configurations.</span><span class="se">\n</span><span class="s2">- Data Insight: Gain deeper insights into your dataset through advanced regression techniques.&quot;</span><span class="p">,</span>
    
    <span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>

    <span class="s1">&#39;analyze_plaques&#39;</span><span class="p">:</span> <span class="s2">&quot;Analyze plaque images to quantify plaque properties. Function: analyze_plaques from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Plaque Analysis: Quantify plaque properties such as size, intensity, and shape.</span><span class="se">\n</span><span class="s2">- Batch Processing: Analyze multiple plaque images efficiently.</span><span class="se">\n</span><span class="s2">- Visualization: Generate visualizations to represent plaque data and patterns.&quot;</span><span class="p">,</span>

    <span class="s1">&#39;recruitment&#39;</span><span class="p">:</span> <span class="s2">&quot;Analyze recruitment data to understand sample recruitment dynamics. Function: recruitment_analysis_tools from spacr.analysis.</span><span class="se">\n\n</span><span class="s2">Key Features:</span><span class="se">\n</span><span class="s2">- Recruitment Analysis: Investigate and analyze the recruitment of samples over time or conditions.</span><span class="se">\n</span><span class="s2">- Visualization: Generate visualizations to represent recruitment trends and patterns.</span><span class="se">\n</span><span class="s2">- Integration: Utilize data from various sources for a comprehensive recruitment analysis.&quot;</span>
<span class="p">}</span></div>


<div class="viewcode-block" id="set_annotate_default_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_annotate_default_settings">[docs]</a>
<span class="k">def</span> <span class="nf">set_annotate_default_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_type&#39;</span><span class="p">,</span> <span class="s1">&#39;cell_png&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="s2">&quot;r,g,b&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;img_size&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;annotation_column&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="s1">&#39;False&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_channels&#39;</span><span class="p">,</span> <span class="s2">&quot;r,g,b&quot;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;percentiles&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1">#&#39;cytoplasm_channel_3_mean_intensity,pathogen_channel_3_mean_intensity&#39;)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;threshold&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1">#&#39;2&#39;)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_default_generate_barecode_mapping">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_default_generate_barecode_mapping">[docs]</a>
<span class="k">def</span> <span class="nf">set_default_generate_barecode_mapping</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="p">{}):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;regex&#39;</span><span class="p">,</span> <span class="s1">&#39;^(?P&lt;column&gt;.</span><span class="si">{8}</span><span class="s1">)TGCTG.*TAAAC(?P&lt;grna&gt;.{20,21})AACTT.*AGAAG(?P&lt;row&gt;.</span><span class="si">{8}</span><span class="s1">).*&#39;</span><span class="p">),</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_sequence&#39;</span><span class="p">,</span> <span class="s1">&#39;TGCTGTTTCCAGCATAGCTCTTAAAC&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;offset_start&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;expected_end&#39;</span><span class="p">,</span> <span class="mi">89</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;column_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/column_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grna_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/grna_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;row_csv&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/carruthers/Documents/row_barcodes.csv&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save_h5&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;comp_type&#39;</span><span class="p">,</span> <span class="s1">&#39;zlib&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;comp_level&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;chunk_size&#39;</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;paired&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;single_direction&#39;</span><span class="p">,</span> <span class="s1">&#39;R1&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_na&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_default_generate_activation_map_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_default_generate_activation_map_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_default_generate_activation_map_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_type&#39;</span><span class="p">,</span> <span class="s1">&#39;maxvit&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;model_path&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;image_size&#39;</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cam_type&#39;</span><span class="p">,</span> <span class="s1">&#39;gradcam&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_layer&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;normalize_input&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;overlay&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shuffle&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;correlation&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;manders_thresholds&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span> <span class="mi">75</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="get_analyze_plaque_settings">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.get_analyze_plaque_settings">[docs]</a>
<span class="k">def</span> <span class="nf">get_analyze_plaque_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;masks&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;Signal_to_noise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;CP_prob&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;diameter&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;batch_size&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;flow_threshold&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_height&#39;</span><span class="p">,</span> <span class="mi">1120</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;target_width&#39;</span><span class="p">,</span> <span class="mi">1120</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;rescale&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;resample&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;fill_in&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_graph_importance_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_graph_importance_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_graph_importance_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;csvs&#39;</span><span class="p">,</span><span class="s1">&#39;list of paths&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;grouping_column&#39;</span><span class="p">,</span><span class="s1">&#39;compartment&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;data_column&#39;</span><span class="p">,</span><span class="s1">&#39;compartment_importance_sum&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;graph_type&#39;</span><span class="p">,</span><span class="s1">&#39;jitter_bar&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_interperate_vision_model_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_interperate_vision_model_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_interperate_vision_model_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;scores&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span><span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;feature_importance&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;permutation_importance&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;top_features&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap_sample&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;shap_approximate&#39;</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;score_column&#39;</span><span class="p">,</span><span class="s1">&#39;cv_predictions&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_analyze_endodyogeny_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_endodyogeny_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_analyze_endodyogeny_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;Hela&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;min_area_bin&#39;</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;group_column&#39;</span><span class="p">,</span><span class="s1">&#39;pathogen&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;compartment&#39;</span><span class="p">,</span><span class="s1">&#39;pathogen&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">,</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;um_per_px&#39;</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;max_bins&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;change_plate&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cmap&#39;</span><span class="p">,</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>


<div class="viewcode-block" id="set_analyze_class_proportion_defaults">
<a class="viewcode-back" href="../../api/spacr/settings/index.html#spacr.settings.set_analyze_class_proportion_defaults">[docs]</a>
<span class="k">def</span> <span class="nf">set_analyze_class_proportion_defaults</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;tables&#39;</span><span class="p">,[</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="s1">&#39;nucleus&#39;</span><span class="p">,</span> <span class="s1">&#39;pathogen&#39;</span><span class="p">,</span> <span class="s1">&#39;cytoplasm&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_types&#39;</span><span class="p">,[</span><span class="s1">&#39;Hela&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;cell_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_types&#39;</span><span class="p">,[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span><span class="s1">&#39;pc&#39;</span><span class="p">])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_plate_metadata&#39;</span><span class="p">,[[</span><span class="s1">&#39;c1&#39;</span><span class="p">],[</span><span class="s1">&#39;c2&#39;</span><span class="p">]])</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatments&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;treatment_plate_metadata&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;group_column&#39;</span><span class="p">,</span><span class="s1">&#39;condition&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;class_column&#39;</span><span class="p">,</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;pathogen_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;nuclei_limit&#39;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">,</span><span class="s1">&#39;well&#39;</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;verbose&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>