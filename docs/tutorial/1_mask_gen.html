<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>1. Generate Segmentation Masks</title>
  <style>
    @font-face {
      font-family: 'Open Sans';
      src: url("../resources/font/open_sans/static/OpenSans-Regular.ttf") format('truetype');
    }
    body {
      background-color: #1e1e1e;
      color: white;
      font-family: 'Open Sans', sans-serif;
      margin: 0;
      padding: 2em;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      text-align: center;
    }
    .slide-img {
      max-width: 90%;
      border-radius: 10px;
      margin-bottom: 1em;
    }
    .console {
      background-color: #111;
      color: #0f0;
      padding: 1em;
      width: 90%;
      max-width: 1000px;
      border-radius: 10px;
      overflow-x: auto;
      white-space: pre-wrap;
    }
    .comment {
      margin-top: 1em;
      padding: 1em;
      background-color: #222;
      width: 90%;
      max-width: 1000px;
      border-radius: 10px;
    }
    .controls {
      margin-top: 2em;
    }
    button {
      font-size: 1em;
      margin: 0 1em;
      padding: 0.5em 1em;
      border-radius: 5px;
      border: none;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>1. Generate Segmentation Masks</h1>
  
        <div class="slide" id="slide-0" style="display: flex; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_03.png" class="slide-img">
            <pre class="console"># cell_00_code.txt
from spacr.core import preprocess_generate_masks
%matplotlib inline

settings = {&#x27;src&#x27;:&#x27;/home/olafsson/datasets/plate1&#x27;, # (path) path to source folder (where origional images were stored)
            &#x27;metadata_type&#x27;:&#x27;cellvoyager&#x27;, # (string) - type of fime name metadata (cellvoyager, cq1, Nikon)
            &#x27;custom_regex&#x27;:None, # (regex) - Regular expression if filename metadata not in metadata_type 
            &#x27;experiment&#x27;:&#x27;screen&#x27;, # (string) - Name of experiment
            &#x27;channels&#x27;:[0,1,2,3], # (list) - list of integers representing available channels
            &#x27;cell_channel&#x27;:3, # (integer or NoneType) - Cell image dimension 
            &#x27;cell_background&#x27;:100, # (integer) - Background value in cell images
            &#x27;cell_Signal_to_noise&#x27;:10, # (integer) - Signal to noise ration for cell channel
            &#x27;cell_CP_prob&#x27;:-1, # (integer) - Cellpose Cell probability
            &#x27;remove_background_cell&#x27;:False, # (bool) - Set background to 0 for cell channel
            &#x27;nucleus_channel&#x27;:0, # (Optional, integer or NoneType) - Nucleus image dimension 
            &#x27;nucleus_background&#x27;:200, # (Optional, integer) - Background value in nucleus images
            &#x27;nucleus_Signal_to_noise&#x27;:5, # (Optional, integer) - Signal to noise ration for nucleus channel
            &#x27;nucleus_CP_prob&#x27;:0, # (Optional, integer) - Cellpose Nucleus probability
            &#x27;remove_background_nucleus&#x27;:False, # (Optional, bool) - Set background to 0 for nucleus channel
            &#x27;pathogen_model&#x27;:None, # (Optional, path or NoneType) - Custom cellpose model path for pathogen detection
            &#x27;pathogen_channel&#x27;:2, # (Optional, integer or NoneType) - Pathogen image dimension 
            &#x27;pathogen_background&#x27;:400, # (Optional, integer) - Background value in pathogen images
            &#x27;pathogen_Signal_to_noise&#x27;:5, # (Optional, integer) - Signal to noise ration for pathogen channel
            &#x27;pathogen_CP_prob&#x27;:-2, # (Optional, integer) - Cellpose pathogen probability
            &#x27;remove_background_pathogen&#x27;:True, # (Optional, bool) - Set background to 0 for pathogen channel
            &#x27;consolidate&#x27;:False, # (Optional, bool) - Consolidate files from multilevel folderstructure into one folder.
            &#x27;magnification&#x27;:40, # (integer) - Objective magnefication used to aquire images (40, 60, 100)
            &#x27;save&#x27;:True, # (bool) - Save masks and object data to database
            &#x27;preprocess&#x27;:True, # (bool) - Preprocess images
            &#x27;masks&#x27;:True, # (bool) - Generate masks
            &#x27;batch_size&#x27;:50, # (bool) - Number of images to be normalized together and loaded onto the GPU
            &#x27;filter&#x27;:False, # (bool) - Filter objects based on size
            &#x27;merge_pathogens&#x27;:False, # (bool) - Merge pathogens that share &gt; 75% perimiter
            &#x27;plot&#x27;:True, # (bool) - Plot normalized intensity and object images
            &#x27;adjust_cells&#x27;:True, # (bool) - If cell, nucleus and pathogen: merge cells that share a pathogen
            &#x27;test_mode&#x27;:True, # (bool) - Test settings in test mode before analyzing entire experiment
            &#x27;test_images&#x27;:10, # (integer) - Number of images to analyze in test mode
            &#x27;random_test&#x27;:True} # (bool) - Randomize images for test mode
# cell_01_out_00_text.txt
Processing folder: /home/olafsson/datasets/plate1
Found path: /home/olafsson/datasets/plate1
Saving settings to /home/olafsson/datasets/plate1/settings/gen_mask_settings.csv

# cell_01_out_02_text.txt
Starting Test mode ...
Found 208 tif files
Image_format: tif
regex mode:cellvoyager regex:(?P&lt;plateID&gt;.*)_(?P&lt;wellID&gt;.*)_T(?P&lt;timeID&gt;.*)F(?P&lt;fieldID&gt;.*)L(?P&lt;laserID&gt;..)A(?P&lt;AID&gt;..)Z(?P&lt;sliceID&gt;.*)C(?P&lt;chanID&gt;.*).tif
Running spacr in test mode
Found 208 files
Using 10 random image set(s) for test model
All files: 40 in /home/olafsson/datasets/plate1/test
All unique FOV: 40 in /home/olafsson/datasets/plate1/test
Progress: 1/40, operation_type: Preprocessing filenames, Time/batch: 0.434sec, Time/image: 0.009sec, Time_left: 0.282 min.
Progress: 2/40, operation_type: Preprocessing filenames, Time/batch: 0.440sec, Time/image: 0.009sec, Time_left: 0.279 min.
Progress: 3/40, operation_type: Preprocessing filenames, Time/batch: 0.444sec, Time/image: 0.009sec, Time_left: 0.274 min.
Progress: 4/40, operation_type: Preprocessing filenames, Time/batch: 0.448sec, Time/image: 0.009sec, Time_left: 0.269 min.
Progress: 5/40, operation_type: Preprocessing filenames, Time/batch: 0.451sec, Time/image: 0.009sec, Time_left: 0.263 min.
Progress: 6/40, operation_type: Preprocessing filenames, Time/batch: 0.454sec, Time/image: 0.009sec, Time_left: 0.257 min.
Progress: 7/40, operation_type: Preprocessing filenames, Time/batch: 0.457sec, Time/image: 0.009sec, Time_left: 0.251 min.
Progress: 8/40, operation_type: Preprocessing filenames, Time/batch: 0.460sec, Time/image: 0.009sec, Time_left: 0.245 min.
Progress: 9/40, operation_type: Preprocessing filenames, Time/batch: 0.463sec, Time/image: 0.009sec, Time_left: 0.239 min.
Progress: 10/40, operation_type: Preprocessing filenames, Time/batch: 0.466sec, Time/image: 0.009sec, Time_left: 0.233 min.
Progress: 11/40, operation_type: Preprocessing filenames, Time/batch: 0.469sec, Time/image: 0.009sec, Time_left: 0.227 min.
Progress: 12/40, operation_type: Preprocessing filenames, Time/batch: 0.472sec, Time/image: 0.009sec, Time_left: 0.220 min.
Progress: 13/40, operation_type: Preprocessing filenames, Time/batch: 0.475sec, Time/image: 0.010sec, Time_left: 0.214 min.
Progress: 14/40, operation_type: Preprocessing filenames, Time/batch: 0.478sec, Time/image: 0.010sec, Time_left: 0.207 min.
Progress: 15/40, operation_type: Preprocessing filenames, Time/batch: 0.481sec, Time/image: 0.010sec, Time_left: 0.200 min.
Progress: 16/40, operation_type: Preprocessing filenames, Time/batch: 0.484sec, Time/image: 0.010sec, Time_left: 0.194 min.
Progress: 17/40, operation_type: Preprocessing filenames, Time/batch: 0.487sec, Time/image: 0.010sec, Time_left: 0.187 min.
Progress: 18/40, operation_type: Preprocessing filenames, Time/batch: 0.490sec, Time/image: 0.010sec, Time_left: 0.180 min.
Progress: 19/40, operation_type: Preprocessing filenames, Time/batch: 0.493sec, Time/image: 0.010sec, Time_left: 0.172 min.
Progress: 20/40, operation_type: Preprocessing filenames, Time/batch: 0.495sec, Time/image: 0.010sec, Time_left: 0.165 min.
Progress: 21/40, operation_type: Preprocessing filenames, Time/batch: 0.498sec, Time/image: 0.010sec, Time_left: 0.158 min.
Progress: 22/40, operation_type: Preprocessing filenames, Time/batch: 0.501sec, Time/image: 0.010sec, Time_left: 0.150 min.
Progress: 23/40, operation_type: Preprocessing filenames, Time/batch: 0.504sec, Time/image: 0.010sec, Time_left: 0.143 min.
Progress: 24/40, operation_type: Preprocessing filenames, Time/batch: 0.507sec, Time/image: 0.010sec, Time_left: 0.135 min.
Progress: 25/40, operation_type: Preprocessing filenames, Time/batch: 0.510sec, Time/image: 0.010sec, Time_left: 0.127 min.
Progress: 26/40, operation_type: Preprocessing filenames, Time/batch: 0.513sec, Time/image: 0.010sec, Time_left: 0.120 min.
Progress: 27/40, operation_type: Preprocessing filenames, Time/batch: 0.516sec, Time/image: 0.010sec, Time_left: 0.112 min.
Progress: 28/40, operation_type: Preprocessing filenames, Time/batch: 0.518sec, Time/image: 0.010sec, Time_left: 0.104 min.
Progress: 29/40, operation_type: Preprocessing filenames, Time/batch: 0.521sec, Time/image: 0.010sec, Time_left: 0.096 min.
Progress: 30/40, operation_type: Preprocessing filenames, Time/batch: 0.524sec, Time/image: 0.010sec, Time_left: 0.087 min.
Progress: 31/40, operation_type: Preprocessing filenames, Time/batch: 0.527sec, Time/image: 0.011sec, Time_left: 0.079 min.
Progress: 32/40, operation_type: Preprocessing filenames, Time/batch: 0.530sec, Time/image: 0.011sec, Time_left: 0.071 min.
Progress: 33/40, operation_type: Preprocessing filenames, Time/batch: 0.533sec, Time/image: 0.011sec, Time_left: 0.062 min.
Progress: 34/40, operation_type: Preprocessing filenames, Time/batch: 0.536sec, Time/image: 0.011sec, Time_left: 0.054 min.
Progress: 35/40, operation_type: Preprocessing filenames, Time/batch: 0.538sec, Time/image: 0.011sec, Time_left: 0.045 min.
Progress: 36/40, operation_type: Preprocessing filenames, Time/batch: 0.541sec, Time/image: 0.011sec, Time_left: 0.036 min.
Progress: 37/40, operation_type: Preprocessing filenames, Time/batch: 0.544sec, Time/image: 0.011sec, Time_left: 0.027 min.
Progress: 38/40, operation_type: Preprocessing filenames, Time/batch: 0.547sec, Time/image: 0.011sec, Time_left: 0.018 min.
Progress: 39/40, operation_type: Preprocessing filenames, Time/batch: 0.550sec, Time/image: 0.011sec, Time_left: 0.009 min.
Progress: 40/40, operation_type: Preprocessing filenames, Time/batch: 0.553sec, Time/image: 0.011sec, Time_left: 0.000 min.
List of folders in src: [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;]. Single channel folders.
Generated folder with merged arrays: /home/olafsson/datasets/plate1/test/stack
Progress: 1/10, operation_type: Merging channels into npy stacks, Time/image: 0.220sec, Time_left: 0.033 min.
Progress: 2/10, operation_type: Merging channels into npy stacks, Time/image: 0.209sec, Time_left: 0.028 min.
Progress: 3/10, operation_type: Merging channels into npy stacks, Time/image: 0.205sec, Time_left: 0.024 min.
Progress: 4/10, operation_type: Merging channels into npy stacks, Time/image: 0.201sec, Time_left: 0.020 min.
Progress: 5/10, operation_type: Merging channels into npy stacks, Time/image: 0.197sec, Time_left: 0.016 min.
Progress: 6/10, operation_type: Merging channels into npy stacks, Time/image: 0.198sec, Time_left: 0.013 min.
Progress: 7/10, operation_type: Merging channels into npy stacks, Time/image: 0.196sec, Time_left: 0.010 min.
Progress: 8/10, operation_type: Merging channels into npy stacks, Time/image: 0.196sec, Time_left: 0.007 min.
Progress: 9/10, operation_type: Merging channels into npy stacks, Time/image: 0.195sec, Time_left: 0.003 min.
Progress: 10/10, operation_type: Merging channels into npy stacks, Time/image: 0.196sec, Time_left: 0.000 min.
plotting 1 images from /home/olafsson/datasets/plate1/test/stack
Image path:/home/olafsson/datasets/plate1/test/stack/plate1_E02_21_1.npy
</pre>
            <div class="comment">Commentary for slide 1 goes here.</div>
        </div>
        
        <div class="slide" id="slide-1" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_07.png" class="slide-img">
            <pre class="console"># cell_01_out_04_text.txt
Progress: 1/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.001 min.
Progress: 2/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.001 min.
Progress: 3/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.001 min.
Progress: 4/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 5/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 6/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 7/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 8/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 9/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Progress: 10/10, operation_type: Concatinating, Time/image: 0.005sec, Time_left: 0.000 min.
Processing channel 0: background=200, signal_threshold=1000, remove_background=False
Channel 0: global_lower=12.0, global_upper=3825.0, Signal-to-noise=318.75
Progress: 1/3, operation_type: Normalizing, Time/image: 0.697sec, Time_left: 0.023 min.
Processing channel 3: background=100, signal_threshold=1000, remove_background=False
Channel 3: global_lower=113.0, global_upper=2195.0, Signal-to-noise=19.424778761061948
Progress: 2/3, operation_type: Normalizing, Time/image: 0.636sec, Time_left: 0.011 min.
Processing channel 2: background=400, signal_threshold=2000, remove_background=True
Channel 2: global_lower=423.0, global_upper=6262.0, Signal-to-noise=14.803782505910165
Progress: 3/3, operation_type: Normalizing, Time/image: 0.518sec, Time_left: 0.000 min.
All files concatenated and normalized. Saved to: /home/olafsson/datasets/plate1/test/masks

# cell_01_out_06_text.txt
{&#x27;diameter&#x27;: 160, &#x27;minimum_size&#x27;: 6400.0, &#x27;maximum_size&#x27;: 256000, &#x27;merge&#x27;: False, &#x27;resample&#x27;: True, &#x27;remove_border_objects&#x27;: False, &#x27;model_name&#x27;: &#x27;cyto2&#x27;, &#x27;filter_size&#x27;: False, &#x27;filter_intensity&#x27;: False, &#x27;restore_type&#x27;: None}
{&#x27;nucleus&#x27;: [0, 0], &#x27;pathogen&#x27;: [0, 2], &#x27;cell&#x27;: [0, 1]}
Device 0: NVIDIA GeForce RTX 3090, VRAM: 23.56 GB, cellpose batch size: 48
Number of objects, : 27
</pre>
            <div class="comment">Commentary for slide 2 goes here.</div>
        </div>
        
        <div class="slide" id="slide-2" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_09.png" class="slide-img">
            <pre class="console"># cell_01_out_08_text.txt
object_size:cell: 17147.916 px2
</pre>
            <div class="comment">Commentary for slide 3 goes here.</div>
        </div>
        
        <div class="slide" id="slide-3" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_10.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 4 goes here.</div>
        </div>
        
        <div class="slide" id="slide-4" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_11.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 5 goes here.</div>
        </div>
        
        <div class="slide" id="slide-5" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_12.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 6 goes here.</div>
        </div>
        
        <div class="slide" id="slide-6" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_13.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 7 goes here.</div>
        </div>
        
        <div class="slide" id="slide-7" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_14.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 8 goes here.</div>
        </div>
        
        <div class="slide" id="slide-8" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_15.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 9 goes here.</div>
        </div>
        
        <div class="slide" id="slide-9" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_16.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 10 goes here.</div>
        </div>
        
        <div class="slide" id="slide-10" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_17.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 11 goes here.</div>
        </div>
        
        <div class="slide" id="slide-11" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_18.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 12 goes here.</div>
        </div>
        
        <div class="slide" id="slide-12" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_22.png" class="slide-img">
            <pre class="console"># cell_01_out_19_text.txt
Progress: 1/3, operation_type: cell_mask_gen, Time/image: 35.657sec, Time_left: 1.189 min.

# cell_01_out_21_text.txt
{&#x27;diameter&#x27;: 75, &#x27;minimum_size&#x27;: 1406.25, &#x27;maximum_size&#x27;: 56250, &#x27;merge&#x27;: False, &#x27;resample&#x27;: True, &#x27;remove_border_objects&#x27;: False, &#x27;model_name&#x27;: &#x27;nuclei&#x27;, &#x27;filter_size&#x27;: False, &#x27;filter_intensity&#x27;: False, &#x27;restore_type&#x27;: None}
{&#x27;nucleus&#x27;: [0, 0], &#x27;pathogen&#x27;: [0, 2], &#x27;cell&#x27;: [0, 1]}
Device 0: NVIDIA GeForce RTX 3090, VRAM: 23.56 GB, cellpose batch size: 48
Number of objects, : 34
</pre>
            <div class="comment">Commentary for slide 13 goes here.</div>
        </div>
        
        <div class="slide" id="slide-13" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_24.png" class="slide-img">
            <pre class="console"># cell_01_out_23_text.txt
object_size:nucleus: 6683.251 px2
</pre>
            <div class="comment">Commentary for slide 14 goes here.</div>
        </div>
        
        <div class="slide" id="slide-14" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_25.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 15 goes here.</div>
        </div>
        
        <div class="slide" id="slide-15" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_26.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 16 goes here.</div>
        </div>
        
        <div class="slide" id="slide-16" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_27.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 17 goes here.</div>
        </div>
        
        <div class="slide" id="slide-17" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_28.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 18 goes here.</div>
        </div>
        
        <div class="slide" id="slide-18" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_29.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 19 goes here.</div>
        </div>
        
        <div class="slide" id="slide-19" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_30.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 20 goes here.</div>
        </div>
        
        <div class="slide" id="slide-20" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_31.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 21 goes here.</div>
        </div>
        
        <div class="slide" id="slide-21" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_32.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 22 goes here.</div>
        </div>
        
        <div class="slide" id="slide-22" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_33.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 23 goes here.</div>
        </div>
        
        <div class="slide" id="slide-23" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_37.png" class="slide-img">
            <pre class="console"># cell_01_out_34_text.txt
Progress: 2/3, operation_type: nucleus_mask_gen, Time/image: 23.892sec, Time_left: 0.398 min.

# cell_01_out_36_text.txt
{&#x27;diameter&#x27;: 40, &#x27;minimum_size&#x27;: 400.0, &#x27;maximum_size&#x27;: 16000, &#x27;merge&#x27;: False, &#x27;resample&#x27;: False, &#x27;remove_border_objects&#x27;: False, &#x27;model_name&#x27;: &#x27;cyto&#x27;, &#x27;filter_size&#x27;: False, &#x27;filter_intensity&#x27;: False, &#x27;restore_type&#x27;: None}
{&#x27;nucleus&#x27;: [0, 0], &#x27;pathogen&#x27;: [0, 2], &#x27;cell&#x27;: [0, 1]}
Device 0: NVIDIA GeForce RTX 3090, VRAM: 23.56 GB, cellpose batch size: 48
Number of objects, : 22
</pre>
            <div class="comment">Commentary for slide 24 goes here.</div>
        </div>
        
        <div class="slide" id="slide-24" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_39.png" class="slide-img">
            <pre class="console"># cell_01_out_38_text.txt
object_size:pathogen: 1697.431 px2
</pre>
            <div class="comment">Commentary for slide 25 goes here.</div>
        </div>
        
        <div class="slide" id="slide-25" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_40.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 26 goes here.</div>
        </div>
        
        <div class="slide" id="slide-26" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_41.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 27 goes here.</div>
        </div>
        
        <div class="slide" id="slide-27" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_42.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 28 goes here.</div>
        </div>
        
        <div class="slide" id="slide-28" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_43.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 29 goes here.</div>
        </div>
        
        <div class="slide" id="slide-29" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_44.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 30 goes here.</div>
        </div>
        
        <div class="slide" id="slide-30" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_45.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 31 goes here.</div>
        </div>
        
        <div class="slide" id="slide-31" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_46.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 32 goes here.</div>
        </div>
        
        <div class="slide" id="slide-32" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_47.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 33 goes here.</div>
        </div>
        
        <div class="slide" id="slide-33" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_48.png" class="slide-img">
            <pre class="console"></pre>
            <div class="comment">Commentary for slide 34 goes here.</div>
        </div>
        
        <div class="slide" id="slide-34" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_50.png" class="slide-img">
            <pre class="console"># cell_01_out_49_text.txt
Progress: 3/3, operation_type: pathogen_mask_gen, Time/image: 19.432sec, Time_left: 0.000 min.
Adjusting cell masks with nuclei and pathogen masks
Progress: 1/10, operation_type: adjust_cell_masks, Time/image: 0.422sec, Time_left: 0.063 min.
Progress: 2/10, operation_type: adjust_cell_masks, Time/image: 0.581sec, Time_left: 0.077 min.
Progress: 3/10, operation_type: adjust_cell_masks, Time/image: 0.486sec, Time_left: 0.057 min.
Progress: 4/10, operation_type: adjust_cell_masks, Time/image: 0.601sec, Time_left: 0.060 min.
Progress: 5/10, operation_type: adjust_cell_masks, Time/image: 0.532sec, Time_left: 0.044 min.
Progress: 6/10, operation_type: adjust_cell_masks, Time/image: 0.566sec, Time_left: 0.038 min.
Progress: 7/10, operation_type: adjust_cell_masks, Time/image: 0.577sec, Time_left: 0.029 min.
Progress: 8/10, operation_type: adjust_cell_masks, Time/image: 0.575sec, Time_left: 0.019 min.
Progress: 9/10, operation_type: adjust_cell_masks, Time/image: 0.569sec, Time_left: 0.009 min.
Progress: 10/10, operation_type: adjust_cell_masks, Time/image: 0.577sec, Time_left: 0.000 min.
Cell mask adjustment: 0.09624974330266317 min.
Progress: 1/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.011 min.
Progress: 2/10, operation_type: Merging Arrays, Time/image: 0.077sec, Time_left: 0.010 min.
Progress: 3/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.009 min.
Progress: 4/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.008 min.
Progress: 5/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.006 min.
Progress: 6/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.005 min.
Progress: 7/10, operation_type: Merging Arrays, Time/image: 0.076sec, Time_left: 0.004 min.
Progress: 8/10, operation_type: Merging Arrays, Time/image: 0.075sec, Time_left: 0.003 min.
Progress: 9/10, operation_type: Merging Arrays, Time/image: 0.075sec, Time_left: 0.001 min.
Progress: 10/10, operation_type: Merging Arrays, Time/image: 0.075sec, Time_left: 0.000 min.
</pre>
            <div class="comment">Commentary for slide 35 goes here.</div>
        </div>
        
        <div class="slide" id="slide-35" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_52.png" class="slide-img">
            <pre class="console"># cell_01_out_51_text.txt
Progress: 1/42, operation_type: Plot mask outlines, Time/image: 3.719sec, Time_left: 2.541 min.
</pre>
            <div class="comment">Commentary for slide 36 goes here.</div>
        </div>
        
        <div class="slide" id="slide-36" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_54.png" class="slide-img">
            <pre class="console"># cell_01_out_53_text.txt
Progress: 2/42, operation_type: Plot mask outlines, Time/image: 3.673sec, Time_left: 2.448 min.
</pre>
            <div class="comment">Commentary for slide 37 goes here.</div>
        </div>
        
        <div class="slide" id="slide-37" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_56.png" class="slide-img">
            <pre class="console"># cell_01_out_55_text.txt
Progress: 3/42, operation_type: Plot mask outlines, Time/image: 3.658sec, Time_left: 2.378 min.
</pre>
            <div class="comment">Commentary for slide 38 goes here.</div>
        </div>
        
        <div class="slide" id="slide-38" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_58.png" class="slide-img">
            <pre class="console"># cell_01_out_57_text.txt
Progress: 4/42, operation_type: Plot mask outlines, Time/image: 3.621sec, Time_left: 2.294 min.
</pre>
            <div class="comment">Commentary for slide 39 goes here.</div>
        </div>
        
        <div class="slide" id="slide-39" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_60.png" class="slide-img">
            <pre class="console"># cell_01_out_59_text.txt
Progress: 5/42, operation_type: Plot mask outlines, Time/image: 3.601sec, Time_left: 2.220 min.
</pre>
            <div class="comment">Commentary for slide 40 goes here.</div>
        </div>
        
        <div class="slide" id="slide-40" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_62.png" class="slide-img">
            <pre class="console"># cell_01_out_61_text.txt
Progress: 6/42, operation_type: Plot mask outlines, Time/image: 3.599sec, Time_left: 2.160 min.
</pre>
            <div class="comment">Commentary for slide 41 goes here.</div>
        </div>
        
        <div class="slide" id="slide-41" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_64.png" class="slide-img">
            <pre class="console"># cell_01_out_63_text.txt
Progress: 7/42, operation_type: Plot mask outlines, Time/image: 3.620sec, Time_left: 2.112 min.
</pre>
            <div class="comment">Commentary for slide 42 goes here.</div>
        </div>
        
        <div class="slide" id="slide-42" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_66.png" class="slide-img">
            <pre class="console"># cell_01_out_65_text.txt
Progress: 8/42, operation_type: Plot mask outlines, Time/image: 3.613sec, Time_left: 2.047 min.
</pre>
            <div class="comment">Commentary for slide 43 goes here.</div>
        </div>
        
        <div class="slide" id="slide-43" style="display: none; flex-direction: column; align-items: center;">
            <img src="../resources/tutorial/1_mask/notebook/1_spacr_generate_masks-ipynb/cell_01_out_68.png" class="slide-img">
            <pre class="console"># cell_01_out_67_text.txt
Progress: 9/42, operation_type: Plot mask outlines, Time/image: 3.600sec, Time_left: 1.980 min.
</pre>
            <div class="comment">Commentary for slide 44 goes here.</div>
        </div>
        
        <div class="slide" id="slide-44" style="display: none; flex-direction: column; align-items: center;">
            
            <pre class="console"># cell_01_out_69_text.txt
Progress: 10/42, operation_type: Plot mask outlines, Time/image: 3.597sec, Time_left: 1.919 min.
Successfully completed run

# cell_01_code.txt
preprocess_generate_masks(settings)
# cell_02_code.txt
</pre>
            <div class="comment">Commentary for slide 45 goes here.</div>
        </div>
        
  <div class="controls">
    <button onclick="prevSlide()">Previous</button>
    <button onclick="nextSlide()">Next</button>
  </div>
  <script>
    let currentSlide = 0;
    const totalSlides = 45;
    function showSlide(n) {
      document.getElementById("slide-" + currentSlide).style.display = "none";
      currentSlide = (n + totalSlides) % totalSlides;
      document.getElementById("slide-" + currentSlide).style.display = "flex";
    }
    function nextSlide() {
      showSlide(currentSlide + 1);
    }
    function prevSlide() {
      showSlide(currentSlide - 1);
    }
  </script>
</body>
</html>
